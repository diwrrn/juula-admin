var Uw=t=>{throw TypeError(t)};var ap=(t,e,n)=>e.has(t)||Uw("Cannot "+n);var F=(t,e,n)=>(ap(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?Uw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(ap(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ze=(t,e,n)=>(ap(t,e,"access private method"),n);var Fd=(t,e,n,r)=>({set _(s){ve(t,e,s,n)},get _(){return F(t,e,r)}});function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ME(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FE={exports:{}},Qf={},LE={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.element"),jP=Symbol.for("react.portal"),kP=Symbol.for("react.fragment"),PP=Symbol.for("react.strict_mode"),RP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),OP=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),FP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),$w=Symbol.iterator;function UP(t){return t===null||typeof t!="object"?null:(t=$w&&t[$w]||t["@@iterator"],typeof t=="function"?t:null)}var UE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$E=Object.assign,BE={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||UE}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zE(){}zE.prototype=Ul.prototype;function Ev(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||UE}var Tv=Ev.prototype=new zE;Tv.constructor=Ev;$E(Tv,Ul.prototype);Tv.isPureReactComponent=!0;var Bw=Array.isArray,qE=Object.prototype.hasOwnProperty,Cv={current:null},HE={key:!0,ref:!0,__self:!0,__source:!0};function WE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qE.call(e,r)&&!HE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ju,type:t,key:i,ref:o,props:s,_owner:Cv.current}}function $P(t,e){return{$$typeof:Ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ju}function BP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zw=/\/+/g;function lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BP(""+t.key):e.toString(36)}function ph(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ju:case jP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lp(o,0):r,Bw(s)?(n="",t!=null&&(n=t.replace(zw,"$&/")+"/"),ph(s,e,n,"",function(d){return d})):s!=null&&(Sv(s)&&(s=$P(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Bw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+lp(i,l);o+=ph(i,e,n,c,s)}else if(c=UP(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+lp(i,l++),o+=ph(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ld(t,e,n){if(t==null)return t;var r=[],s=0;return ph(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},gh={transition:null},qP={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:gh,ReactCurrentOwner:Cv};function KE(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Ld,forEach:function(t,e,n){Ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=Ul;Je.Fragment=kP;Je.Profiler=RP;Je.PureComponent=Ev;Je.StrictMode=PP;Je.Suspense=MP;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Je.act=KE;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$E({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qE.call(e,c)&&!HE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Ju,type:t.type,key:s,ref:i,props:r,_owner:o}};Je.createContext=function(t){return t={$$typeof:OP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DP,_context:t},t.Consumer=t};Je.createElement=WE;Je.createFactory=function(t){var e=WE.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:VP,render:t}};Je.isValidElement=Sv;Je.lazy=function(t){return{$$typeof:LP,_payload:{_status:-1,_result:t},_init:zP}};Je.memo=function(t,e){return{$$typeof:FP,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=gh.transition;gh.transition={};try{t()}finally{gh.transition=e}};Je.unstable_act=KE;Je.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Je.useContext=function(t){return Fn.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Je.useId=function(){return Fn.current.useId()};Je.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Je.useRef=function(t){return Fn.current.useRef(t)};Je.useState=function(t){return Fn.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return Fn.current.useTransition()};Je.version="18.3.1";LE.exports=Je;var x=LE.exports;const ke=ME(x),QE=IP({__proto__:null,default:ke},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=x,WP=Symbol.for("react.element"),KP=Symbol.for("react.fragment"),QP=Object.prototype.hasOwnProperty,GP=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function GE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QP.call(e,r)&&!ZP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WP,type:t,key:i,ref:o,props:s,_owner:GP.current}}Qf.Fragment=KP;Qf.jsx=GE;Qf.jsxs=GE;FE.exports=Qf;var a=FE.exports,ZE={exports:{}},gr={},YE={exports:{}},XE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,K){var ee=M.length;M.push(K);e:for(;0<ee;){var ge=ee-1>>>1,Ie=M[ge];if(0<s(Ie,K))M[ge]=K,M[ee]=Ie,ee=ge;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],ee=M.pop();if(ee!==K){M[0]=ee;e:for(var ge=0,Ie=M.length,Ne=Ie>>>1;ge<Ne;){var Ke=2*(ge+1)-1,se=M[Ke],De=Ke+1,ie=M[De];if(0>s(se,ee))De<Ie&&0>s(ie,se)?(M[ge]=ie,M[De]=ee,ge=De):(M[ge]=se,M[Ke]=ee,ge=Ke);else if(De<Ie&&0>s(ie,ee))M[ge]=ie,M[De]=ee,ge=De;else break e}}return K}function s(M,K){var ee=M.sortIndex-K.sortIndex;return ee!==0?ee:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,h=3,g=!1,b=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=M)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function P(M){if(y=!1,S(M),!b)if(n(c)!==null)b=!0,de(D);else{var K=n(d);K!==null&&pe(P,K.startTime-M)}}function D(M,K){b=!1,y&&(y=!1,_(C),C=-1),g=!0;var ee=h;try{for(S(K),m=n(c);m!==null&&(!(m.expirationTime>K)||M&&!R());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,h=m.priorityLevel;var Ie=ge(m.expirationTime<=K);K=t.unstable_now(),typeof Ie=="function"?m.callback=Ie:m===n(c)&&r(c),S(K)}else r(c);m=n(c)}if(m!==null)var Ne=!0;else{var Ke=n(d);Ke!==null&&pe(P,Ke.startTime-K),Ne=!1}return Ne}finally{m=null,h=ee,g=!1}}var O=!1,T=null,C=-1,A=5,j=-1;function R(){return!(t.unstable_now()-j<A)}function k(){if(T!==null){var M=t.unstable_now();j=M;var K=!0;try{K=T(!0,M)}finally{K?I():(O=!1,T=null)}}else O=!1}var I;if(typeof v=="function")I=function(){v(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,he=H.port2;H.port1.onmessage=k,I=function(){he.postMessage(null)}}else I=function(){E(k,0)};function de(M){T=M,O||(O=!0,I())}function pe(M,K){C=E(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,de(D))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var ee=h;h=K;try{return M()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=h;h=M;try{return K()}finally{h=ee}},t.unstable_scheduleCallback=function(M,K,ee){var ge=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,M){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ee+Ie,M={id:f++,callback:K,priorityLevel:M,startTime:ee,expirationTime:Ie,sortIndex:-1},ee>ge?(M.sortIndex=ee,e(d,M),n(c)===null&&M===n(d)&&(y?(_(C),C=-1):y=!0,pe(P,ee-ge))):(M.sortIndex=Ie,e(c,M),b||g||(b=!0,de(D))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var K=h;return function(){var ee=h;h=K;try{return M.apply(this,arguments)}finally{h=ee}}}})(XE);YE.exports=XE;var YP=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP=x,hr=YP;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,iu={};function ra(t,e){yl(t,e),yl(t+"Capture",e)}function yl(t,e){for(iu[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_g=Object.prototype.hasOwnProperty,JP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qw={},Hw={};function eR(t){return _g.call(Hw,t)?!0:_g.call(qw,t)?!1:JP.test(t)?Hw[t]=!0:(qw[t]=!0,!1)}function tR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nR(t,e,n,r){if(e===null||typeof e>"u"||tR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Av,Nv);fn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Av,Nv);fn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Av,Nv);fn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iv(t,e,n,r){var s=fn.hasOwnProperty(e)?fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nR(e,n,s,r)&&(n=null),r||s===null?eR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hs=XP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),eT=Symbol.for("react.provider"),tT=Symbol.for("react.context"),kv=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Tg=Symbol.for("react.suspense_list"),Pv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),nT=Symbol.for("react.offscreen"),Ww=Symbol.iterator;function yc(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,cp;function jc(t){if(cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cp=e&&e[1]||""}return`
`+cp+t}var up=!1;function dp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jc(t):""}function rR(t){switch(t.tag){case 5:return jc(t.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function Cg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Na:return"Fragment";case Aa:return"Portal";case bg:return"Profiler";case jv:return"StrictMode";case Eg:return"Suspense";case Tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tT:return(t.displayName||"Context")+".Consumer";case eT:return(t._context.displayName||"Context")+".Provider";case kv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pv:return e=t.displayName||null,e!==null?e:Cg(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Cg(t(e))}catch{}}return null}function sR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cg(e);case 8:return e===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iR(t){var e=rT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $d(t){t._valueTracker||(t._valueTracker=iR(t))}function sT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sg(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iT(t,e){e=e.checked,e!=null&&Iv(t,"checked",e,!1)}function Ag(t,e){iT(t,e);var n=Vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||Uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kc=Array.isArray;function za(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(kc(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function oT(t,e){var n=Vi(e.value),r=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bd,lT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oR=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(t){oR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zc[e]=zc[t]})});function cT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zc.hasOwnProperty(t)&&zc[t]?(""+e).trim():e+"px"}function uT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aR=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(aR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dg=null,qa=null,Ha=null;function Yw(t){if(t=nd(t)){if(typeof Dg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Jf(e),Dg(t.stateNode,t.type,e))}}function dT(t){qa?Ha?Ha.push(t):Ha=[t]:qa=t}function hT(){if(qa){var t=qa,e=Ha;if(Ha=qa=null,Yw(t),e)for(t=0;t<e.length;t++)Yw(e[t])}}function fT(t,e){return t(e)}function mT(){}var hp=!1;function pT(t,e,n){if(hp)return t(e,n);hp=!0;try{return fT(t,e,n)}finally{hp=!1,(qa!==null||Ha!==null)&&(mT(),hT())}}function au(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Og=!1;if(Rs)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){Og=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Og=!1}function lR(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var qc=!1,$h=null,Bh=!1,Vg=null,cR={onError:function(t){qc=!0,$h=t}};function uR(t,e,n,r,s,i,o,l,c){qc=!1,$h=null,lR.apply(cR,arguments)}function dR(t,e,n,r,s,i,o,l,c){if(uR.apply(this,arguments),qc){if(qc){var d=$h;qc=!1,$h=null}else throw Error(re(198));Bh||(Bh=!0,Vg=d)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xw(t){if(sa(t)!==t)throw Error(re(188))}function hR(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xw(s),t;if(i===r)return Xw(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function yT(t){return t=hR(t),t!==null?vT(t):null}function vT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vT(t);if(e!==null)return e;t=t.sibling}return null}var xT=hr.unstable_scheduleCallback,Jw=hr.unstable_cancelCallback,fR=hr.unstable_shouldYield,mR=hr.unstable_requestPaint,$t=hr.unstable_now,pR=hr.unstable_getCurrentPriorityLevel,Dv=hr.unstable_ImmediatePriority,wT=hr.unstable_UserBlockingPriority,zh=hr.unstable_NormalPriority,gR=hr.unstable_LowPriority,_T=hr.unstable_IdlePriority,Gf=null,os=null;function yR(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Gf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:wR,vR=Math.log,xR=Math.LN2;function wR(t){return t>>>=0,t===0?32:31-(vR(t)/xR|0)|0}var zd=64,qd=4194304;function Pc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Pc(l):(i&=o,i!==0&&(r=Pc(i)))}else o=n&~s,o!==0?r=Pc(o):i!==0&&(r=Pc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function _R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ur(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=_R(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bT(){var t=zd;return zd<<=1,!(zd&4194240)&&(zd=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ed(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function ER(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ft=0;function ET(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TT,Vv,CT,ST,AT,Fg=!1,Hd=[],wi=null,_i=null,bi=null,lu=new Map,cu=new Map,si=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e_(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(e.pointerId)}}function xc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=nd(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function CR(t,e,n,r,s){switch(e){case"focusin":return wi=xc(wi,t,e,n,r,s),!0;case"dragenter":return _i=xc(_i,t,e,n,r,s),!0;case"mouseover":return bi=xc(bi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return lu.set(i,xc(lu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cu.set(i,xc(cu.get(i)||null,t,e,n,r,s)),!0}return!1}function NT(t){var e=wo(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=gT(n),e!==null){t.blockedOn=e,AT(t.priority,function(){CT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rg=r,n.target.dispatchEvent(r),Rg=null}else return e=nd(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function t_(t,e,n){yh(t)&&n.delete(e)}function SR(){Fg=!1,wi!==null&&yh(wi)&&(wi=null),_i!==null&&yh(_i)&&(_i=null),bi!==null&&yh(bi)&&(bi=null),lu.forEach(t_),cu.forEach(t_)}function wc(t,e){t.blockedOn===e&&(t.blockedOn=null,Fg||(Fg=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,SR)))}function uu(t){function e(s){return wc(s,t)}if(0<Hd.length){wc(Hd[0],t);for(var n=1;n<Hd.length;n++){var r=Hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&wc(wi,t),_i!==null&&wc(_i,t),bi!==null&&wc(bi,t),lu.forEach(e),cu.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)NT(n),n.blockedOn===null&&si.shift()}var Wa=Hs.ReactCurrentBatchConfig,Hh=!0;function AR(t,e,n,r){var s=ft,i=Wa.transition;Wa.transition=null;try{ft=1,Mv(t,e,n,r)}finally{ft=s,Wa.transition=i}}function NR(t,e,n,r){var s=ft,i=Wa.transition;Wa.transition=null;try{ft=4,Mv(t,e,n,r)}finally{ft=s,Wa.transition=i}}function Mv(t,e,n,r){if(Hh){var s=Lg(t,e,n,r);if(s===null)Ep(t,e,r,Wh,n),e_(t,r);else if(CR(s,t,e,n,r))r.stopPropagation();else if(e_(t,r),e&4&&-1<TR.indexOf(t)){for(;s!==null;){var i=nd(s);if(i!==null&&TT(i),i=Lg(t,e,n,r),i===null&&Ep(t,e,r,Wh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ep(t,e,r,null,n)}}var Wh=null;function Lg(t,e,n,r){if(Wh=null,t=Rv(r),t=wo(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wh=t,null}function IT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pR()){case Dv:return 1;case wT:return 4;case zh:case gR:return 16;case _T:return 536870912;default:return 16}default:return 16}}var gi=null,Fv=null,vh=null;function jT(){if(vh)return vh;var t,e=Fv,n=e.length,r,s="value"in gi?gi.value:gi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vh=s.slice(t,1<r?1-r:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wd(){return!0}function n_(){return!1}function yr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wd:n_,this.isPropagationStopped=n_,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),e}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=yr($l),td=Ot({},$l,{view:0,detail:0}),IR=yr(td),mp,pp,_c,Zf=Ot({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_c&&(_c&&t.type==="mousemove"?(mp=t.screenX-_c.screenX,pp=t.screenY-_c.screenY):pp=mp=0,_c=t),mp)},movementY:function(t){return"movementY"in t?t.movementY:pp}}),r_=yr(Zf),jR=Ot({},Zf,{dataTransfer:0}),kR=yr(jR),PR=Ot({},td,{relatedTarget:0}),gp=yr(PR),RR=Ot({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),DR=yr(RR),OR=Ot({},$l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VR=yr(OR),MR=Ot({},$l,{data:0}),s_=yr(MR),FR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UR[t])?!!e[t]:!1}function Uv(){return $R}var BR=Ot({},td,{key:function(t){if(t.key){var e=FR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zR=yr(BR),qR=Ot({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i_=yr(qR),HR=Ot({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),WR=yr(HR),KR=Ot({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),QR=yr(KR),GR=Ot({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZR=yr(GR),YR=[9,13,27,32],$v=Rs&&"CompositionEvent"in window,Hc=null;Rs&&"documentMode"in document&&(Hc=document.documentMode);var XR=Rs&&"TextEvent"in window&&!Hc,kT=Rs&&(!$v||Hc&&8<Hc&&11>=Hc),o_=" ",a_=!1;function PT(t,e){switch(t){case"keyup":return YR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function JR(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(a_=!0,o_);case"textInput":return t=e.data,t===o_&&a_?null:t;default:return null}}function e2(t,e){if(Ia)return t==="compositionend"||!$v&&PT(t,e)?(t=jT(),vh=Fv=gi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kT&&e.locale!=="ko"?null:e.data;default:return null}}var t2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t2[t.type]:e==="textarea"}function DT(t,e,n,r){dT(r),e=Kh(e,"onChange"),0<e.length&&(n=new Lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wc=null,du=null;function n2(t){HT(t,0)}function Yf(t){var e=Pa(t);if(sT(e))return t}function r2(t,e){if(t==="change")return e}var OT=!1;if(Rs){var yp;if(Rs){var vp="oninput"in document;if(!vp){var c_=document.createElement("div");c_.setAttribute("oninput","return;"),vp=typeof c_.oninput=="function"}yp=vp}else yp=!1;OT=yp&&(!document.documentMode||9<document.documentMode)}function u_(){Wc&&(Wc.detachEvent("onpropertychange",VT),du=Wc=null)}function VT(t){if(t.propertyName==="value"&&Yf(du)){var e=[];DT(e,du,t,Rv(t)),pT(n2,e)}}function s2(t,e,n){t==="focusin"?(u_(),Wc=e,du=n,Wc.attachEvent("onpropertychange",VT)):t==="focusout"&&u_()}function i2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yf(du)}function o2(t,e){if(t==="click")return Yf(e)}function a2(t,e){if(t==="input"||t==="change")return Yf(e)}function l2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qr=typeof Object.is=="function"?Object.is:l2;function hu(t,e){if(qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_g.call(e,s)||!qr(t[s],e[s]))return!1}return!0}function d_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h_(t,e){var n=d_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d_(n)}}function MT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FT(){for(var t=window,e=Uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uh(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c2(t){var e=FT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MT(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=h_(n,i);var o=h_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u2=Rs&&"documentMode"in document&&11>=document.documentMode,ja=null,Ug=null,Kc=null,$g=!1;function f_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$g||ja==null||ja!==Uh(r)||(r=ja,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kc&&hu(Kc,r)||(Kc=r,r=Kh(Ug,"onSelect"),0<r.length&&(e=new Lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ja)))}function Kd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},xp={},LT={};Rs&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Xf(t){if(xp[t])return xp[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LT)return xp[t]=e[n];return t}var UT=Xf("animationend"),$T=Xf("animationiteration"),BT=Xf("animationstart"),zT=Xf("transitionend"),qT=new Map,m_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){qT.set(t,e),ra(e,[t])}for(var wp=0;wp<m_.length;wp++){var _p=m_[wp],d2=_p.toLowerCase(),h2=_p[0].toUpperCase()+_p.slice(1);to(d2,"on"+h2)}to(UT,"onAnimationEnd");to($T,"onAnimationIteration");to(BT,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(zT,"onTransitionEnd");yl("onMouseEnter",["mouseout","mouseover"]);yl("onMouseLeave",["mouseout","mouseover"]);yl("onPointerEnter",["pointerout","pointerover"]);yl("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rc));function p_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dR(r,e,void 0,t),t.currentTarget=null}function HT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;p_(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;p_(s,l,d),i=c}}}if(Bh)throw t=Vg,Bh=!1,Vg=null,t}function wt(t,e){var n=e[Wg];n===void 0&&(n=e[Wg]=new Set);var r=t+"__bubble";n.has(r)||(WT(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),WT(n,t,r,e)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function fu(t){if(!t[Qd]){t[Qd]=!0,JE.forEach(function(n){n!=="selectionchange"&&(f2.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qd]||(e[Qd]=!0,bp("selectionchange",!1,e))}}function WT(t,e,n,r){switch(IT(e)){case 1:var s=AR;break;case 4:s=NR;break;default:s=Mv}n=s.bind(null,e,n,t),s=void 0,!Og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ep(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wo(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}pT(function(){var d=i,f=Rv(n),m=[];e:{var h=qT.get(t);if(h!==void 0){var g=Lv,b=t;switch(t){case"keypress":if(xh(n)===0)break e;case"keydown":case"keyup":g=zR;break;case"focusin":b="focus",g=gp;break;case"focusout":b="blur",g=gp;break;case"beforeblur":case"afterblur":g=gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=WR;break;case UT:case $T:case BT:g=DR;break;case zT:g=QR;break;case"scroll":g=IR;break;case"wheel":g=ZR;break;case"copy":case"cut":case"paste":g=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=i_}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var v=d,S;v!==null;){S=v;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,_!==null&&(P=au(v,_),P!=null&&y.push(mu(v,P,S)))),E)break;v=v.return}0<y.length&&(h=new g(h,b,null,n,f),m.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Rg&&(b=n.relatedTarget||n.fromElement)&&(wo(b)||b[Ds]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=d,b=b?wo(b):null,b!==null&&(E=sa(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=d),g!==b)){if(y=r_,P="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=i_,P="onPointerLeave",_="onPointerEnter",v="pointer"),E=g==null?h:Pa(g),S=b==null?h:Pa(b),h=new y(P,v+"leave",g,n,f),h.target=E,h.relatedTarget=S,P=null,wo(f)===d&&(y=new y(_,v+"enter",b,n,f),y.target=S,y.relatedTarget=E,P=y),E=P,g&&b)t:{for(y=g,_=b,v=0,S=y;S;S=ya(S))v++;for(S=0,P=_;P;P=ya(P))S++;for(;0<v-S;)y=ya(y),v--;for(;0<S-v;)_=ya(_),S--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=ya(y),_=ya(_)}y=null}else y=null;g!==null&&g_(m,h,g,y,!1),b!==null&&E!==null&&g_(m,E,b,y,!0)}}e:{if(h=d?Pa(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var D=r2;else if(l_(h))if(OT)D=a2;else{D=i2;var O=s2}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=o2);if(D&&(D=D(t,d))){DT(m,D,n,f);break e}O&&O(t,h,d),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Ng(h,"number",h.value)}switch(O=d?Pa(d):window,t){case"focusin":(l_(O)||O.contentEditable==="true")&&(ja=O,Ug=d,Kc=null);break;case"focusout":Kc=Ug=ja=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,f_(m,n,f);break;case"selectionchange":if(u2)break;case"keydown":case"keyup":f_(m,n,f)}var T;if($v)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ia?PT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(kT&&n.locale!=="ko"&&(Ia||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ia&&(T=jT()):(gi=f,Fv="value"in gi?gi.value:gi.textContent,Ia=!0)),O=Kh(d,C),0<O.length&&(C=new s_(C,t,null,n,f),m.push({event:C,listeners:O}),T?C.data=T:(T=RT(n),T!==null&&(C.data=T)))),(T=XR?JR(t,n):e2(t,n))&&(d=Kh(d,"onBeforeInput"),0<d.length&&(f=new s_("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=T))}HT(m,e)})}function mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=au(t,n),i!=null&&r.unshift(mu(t,i,s)),i=au(t,e),i!=null&&r.push(mu(t,i,s))),t=t.return}return r}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=au(n,i),c!=null&&o.unshift(mu(n,c,l))):s||(c=au(n,i),c!=null&&o.push(mu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(m2,`
`).replace(p2,"")}function Gd(t,e,n){if(e=y_(e),y_(t)!==e&&n)throw Error(re(425))}function Qh(){}var Bg=null,zg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hg=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(v2)}:Hg;function v2(t){setTimeout(function(){throw t})}function Tp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),uu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);uu(e)}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),rs="__reactFiber$"+Bl,pu="__reactProps$"+Bl,Ds="__reactContainer$"+Bl,Wg="__reactEvents$"+Bl,x2="__reactListeners$"+Bl,w2="__reactHandles$"+Bl;function wo(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=x_(t);t!==null;){if(n=t[rs])return n;t=x_(t)}return e}t=n,n=t.parentNode}return null}function nd(t){return t=t[rs]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Jf(t){return t[pu]||null}var Kg=[],Ra=-1;function no(t){return{current:t}}function Tt(t){0>Ra||(t.current=Kg[Ra],Kg[Ra]=null,Ra--)}function gt(t,e){Ra++,Kg[Ra]=t.current,t.current=e}var Mi={},An=no(Mi),Qn=no(!1),Vo=Mi;function vl(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function Gh(){Tt(Qn),Tt(An)}function w_(t,e,n){if(An.current!==Mi)throw Error(re(168));gt(An,e),gt(Qn,n)}function KT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,sR(t)||"Unknown",s));return Ot({},n,r)}function Zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Vo=An.current,gt(An,t),gt(Qn,Qn.current),!0}function __(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=KT(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,Tt(Qn),Tt(An),gt(An,t)):Tt(Qn),gt(Qn,n)}var Ss=null,em=!1,Cp=!1;function QT(t){Ss===null?Ss=[t]:Ss.push(t)}function _2(t){em=!0,QT(t)}function ro(){if(!Cp&&Ss!==null){Cp=!0;var t=0,e=ft;try{var n=Ss;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ss=null,em=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(t+1)),xT(Dv,ro),s}finally{ft=e,Cp=!1}}return null}var Da=[],Oa=0,Yh=null,Xh=0,wr=[],_r=0,Mo=null,Is=1,js="";function po(t,e){Da[Oa++]=Xh,Da[Oa++]=Yh,Yh=t,Xh=e}function GT(t,e,n){wr[_r++]=Is,wr[_r++]=js,wr[_r++]=Mo,Mo=t;var r=Is;t=js;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Is=1<<32-Ur(e)+s|n<<s|r,js=i+t}else Is=1<<i|n<<s|r,js=t}function zv(t){t.return!==null&&(po(t,1),GT(t,1,0))}function qv(t){for(;t===Yh;)Yh=Da[--Oa],Da[Oa]=null,Xh=Da[--Oa],Da[Oa]=null;for(;t===Mo;)Mo=wr[--_r],wr[_r]=null,js=wr[--_r],wr[_r]=null,Is=wr[--_r],wr[_r]=null}var lr=null,or=null,Ct=!1,Vr=null;function ZT(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lr=t,or=Ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lr=t,or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mo!==null?{id:Is,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lr=t,or=null,!0):!1;default:return!1}}function Qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(Ct){var e=or;if(e){var n=e;if(!b_(t,e)){if(Qg(t))throw Error(re(418));e=Ei(n.nextSibling);var r=lr;e&&b_(t,e)?ZT(r,n):(t.flags=t.flags&-4097|2,Ct=!1,lr=t)}}else{if(Qg(t))throw Error(re(418));t.flags=t.flags&-4097|2,Ct=!1,lr=t}}}function E_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lr=t}function Zd(t){if(t!==lr)return!1;if(!Ct)return E_(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=or)){if(Qg(t))throw YT(),Error(re(418));for(;e;)ZT(t,e),e=Ei(e.nextSibling)}if(E_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){or=Ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}or=null}}else or=lr?Ei(t.stateNode.nextSibling):null;return!0}function YT(){for(var t=or;t;)t=Ei(t.nextSibling)}function xl(){or=lr=null,Ct=!1}function Hv(t){Vr===null?Vr=[t]:Vr.push(t)}var b2=Hs.ReactCurrentBatchConfig;function bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Yd(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T_(t){var e=t._init;return e(t._payload)}function XT(t){function e(_,v){if(t){var S=_.deletions;S===null?(_.deletions=[v],_.flags|=16):S.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ai(_,v),_.index=0,_.sibling=null,_}function i(_,v,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<v?(_.flags|=2,v):S):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,S,P){return v===null||v.tag!==6?(v=Pp(S,_.mode,P),v.return=_,v):(v=s(v,S),v.return=_,v)}function c(_,v,S,P){var D=S.type;return D===Na?f(_,v,S.props.children,P,S.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ni&&T_(D)===v.type)?(P=s(v,S.props),P.ref=bc(_,v,S),P.return=_,P):(P=Sh(S.type,S.key,S.props,null,_.mode,P),P.ref=bc(_,v,S),P.return=_,P)}function d(_,v,S,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Rp(S,_.mode,P),v.return=_,v):(v=s(v,S.children||[]),v.return=_,v)}function f(_,v,S,P,D){return v===null||v.tag!==7?(v=Do(S,_.mode,P,D),v.return=_,v):(v=s(v,S),v.return=_,v)}function m(_,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pp(""+v,_.mode,S),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ud:return S=Sh(v.type,v.key,v.props,null,_.mode,S),S.ref=bc(_,null,v),S.return=_,S;case Aa:return v=Rp(v,_.mode,S),v.return=_,v;case ni:var P=v._init;return m(_,P(v._payload),S)}if(kc(v)||yc(v))return v=Do(v,_.mode,S,null),v.return=_,v;Yd(_,v)}return null}function h(_,v,S,P){var D=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:l(_,v,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ud:return S.key===D?c(_,v,S,P):null;case Aa:return S.key===D?d(_,v,S,P):null;case ni:return D=S._init,h(_,v,D(S._payload),P)}if(kc(S)||yc(S))return D!==null?null:f(_,v,S,P,null);Yd(_,S)}return null}function g(_,v,S,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(S)||null,l(v,_,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ud:return _=_.get(P.key===null?S:P.key)||null,c(v,_,P,D);case Aa:return _=_.get(P.key===null?S:P.key)||null,d(v,_,P,D);case ni:var O=P._init;return g(_,v,S,O(P._payload),D)}if(kc(P)||yc(P))return _=_.get(S)||null,f(v,_,P,D,null);Yd(v,P)}return null}function b(_,v,S,P){for(var D=null,O=null,T=v,C=v=0,A=null;T!==null&&C<S.length;C++){T.index>C?(A=T,T=null):A=T.sibling;var j=h(_,T,S[C],P);if(j===null){T===null&&(T=A);break}t&&T&&j.alternate===null&&e(_,T),v=i(j,v,C),O===null?D=j:O.sibling=j,O=j,T=A}if(C===S.length)return n(_,T),Ct&&po(_,C),D;if(T===null){for(;C<S.length;C++)T=m(_,S[C],P),T!==null&&(v=i(T,v,C),O===null?D=T:O.sibling=T,O=T);return Ct&&po(_,C),D}for(T=r(_,T);C<S.length;C++)A=g(T,_,C,S[C],P),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),v=i(A,v,C),O===null?D=A:O.sibling=A,O=A);return t&&T.forEach(function(R){return e(_,R)}),Ct&&po(_,C),D}function y(_,v,S,P){var D=yc(S);if(typeof D!="function")throw Error(re(150));if(S=D.call(S),S==null)throw Error(re(151));for(var O=D=null,T=v,C=v=0,A=null,j=S.next();T!==null&&!j.done;C++,j=S.next()){T.index>C?(A=T,T=null):A=T.sibling;var R=h(_,T,j.value,P);if(R===null){T===null&&(T=A);break}t&&T&&R.alternate===null&&e(_,T),v=i(R,v,C),O===null?D=R:O.sibling=R,O=R,T=A}if(j.done)return n(_,T),Ct&&po(_,C),D;if(T===null){for(;!j.done;C++,j=S.next())j=m(_,j.value,P),j!==null&&(v=i(j,v,C),O===null?D=j:O.sibling=j,O=j);return Ct&&po(_,C),D}for(T=r(_,T);!j.done;C++,j=S.next())j=g(T,_,C,j.value,P),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?C:j.key),v=i(j,v,C),O===null?D=j:O.sibling=j,O=j);return t&&T.forEach(function(k){return e(_,k)}),Ct&&po(_,C),D}function E(_,v,S,P){if(typeof S=="object"&&S!==null&&S.type===Na&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ud:e:{for(var D=S.key,O=v;O!==null;){if(O.key===D){if(D=S.type,D===Na){if(O.tag===7){n(_,O.sibling),v=s(O,S.props.children),v.return=_,_=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ni&&T_(D)===O.type){n(_,O.sibling),v=s(O,S.props),v.ref=bc(_,O,S),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===Na?(v=Do(S.props.children,_.mode,P,S.key),v.return=_,_=v):(P=Sh(S.type,S.key,S.props,null,_.mode,P),P.ref=bc(_,v,S),P.return=_,_=P)}return o(_);case Aa:e:{for(O=S.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(_,v.sibling),v=s(v,S.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Rp(S,_.mode,P),v.return=_,_=v}return o(_);case ni:return O=S._init,E(_,v,O(S._payload),P)}if(kc(S))return b(_,v,S,P);if(yc(S))return y(_,v,S,P);Yd(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,S),v.return=_,_=v):(n(_,v),v=Pp(S,_.mode,P),v.return=_,_=v),o(_)):n(_,v)}return E}var wl=XT(!0),JT=XT(!1),Jh=no(null),ef=null,Va=null,Wv=null;function Kv(){Wv=Va=ef=null}function Qv(t){var e=Jh.current;Tt(Jh),t._currentValue=e}function Zg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ka(t,e){ef=t,Wv=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hn=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(Wv!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(ef===null)throw Error(re(308));Va=t,ef.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var _o=null;function Gv(t){_o===null?_o=[t]:_o.push(t)}function eC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Zv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,Gv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}function C_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tf(t,e,n,r){var s=t.updateQueue;ri=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,f=d=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,y=l;switch(h=e,g=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){m=b.call(g,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(g,m,h):b,h==null)break e;m=Ot({},m,h);break e;case 2:ri=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,c=m):f=f.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Lo|=o,t.lanes=o,t.memoizedState=m}}function S_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var rd={},as=no(rd),gu=no(rd),yu=no(rd);function bo(t){if(t===rd)throw Error(re(174));return t}function Yv(t,e){switch(gt(yu,e),gt(gu,t),gt(as,rd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}Tt(as),gt(as,e)}function _l(){Tt(as),Tt(gu),Tt(yu)}function nC(t){bo(yu.current);var e=bo(as.current),n=jg(e,t.type);e!==n&&(gt(gu,t),gt(as,n))}function Xv(t){gu.current===t&&(Tt(as),Tt(gu))}var Rt=no(0);function nf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sp=[];function Jv(){for(var t=0;t<Sp.length;t++)Sp[t]._workInProgressVersionPrimary=null;Sp.length=0}var _h=Hs.ReactCurrentDispatcher,Ap=Hs.ReactCurrentBatchConfig,Fo=0,Dt=null,Gt=null,sn=null,rf=!1,Qc=!1,vu=0,E2=0;function vn(){throw Error(re(321))}function ex(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qr(t[n],e[n]))return!1;return!0}function tx(t,e,n,r,s,i){if(Fo=i,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?A2:N2,t=n(r,s),Qc){i=0;do{if(Qc=!1,vu=0,25<=i)throw Error(re(301));i+=1,sn=Gt=null,e.updateQueue=null,_h.current=I2,t=n(r,s)}while(Qc)}if(_h.current=sf,e=Gt!==null&&Gt.next!==null,Fo=0,sn=Gt=Dt=null,rf=!1,e)throw Error(re(300));return t}function nx(){var t=vu!==0;return vu=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Dt.memoizedState=sn=t:sn=sn.next=t,sn}function Sr(){if(Gt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=sn===null?Dt.memoizedState:sn.next;if(e!==null)sn=e,Gt=t;else{if(t===null)throw Error(re(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},sn===null?Dt.memoizedState=sn=t:sn=sn.next=t}return sn}function xu(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=Sr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((Fo&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Dt.lanes|=f,Lo|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,qr(r,e.memoizedState)||(Hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Dt.lanes|=i,Lo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ip(t){var e=Sr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qr(i,e.memoizedState)||(Hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rC(){}function sC(t,e){var n=Dt,r=Sr(),s=e(),i=!qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Hn=!0),r=r.queue,rx(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,wu(9,oC.bind(null,n,r,s,e),void 0,null),on===null)throw Error(re(349));Fo&30||iC(n,e,s)}return s}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&cC(t)}function aC(t,e,n){return n(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qr(t,n)}catch{return!0}}function cC(t){var e=Os(t,1);e!==null&&$r(e,t,1,-1)}function A_(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:t},e.queue=t,t=t.dispatch=S2.bind(null,Dt,t),[e.memoizedState,t]}function wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return Sr().memoizedState}function bh(t,e,n,r){var s=Yr();Dt.flags|=t,s.memoizedState=wu(1|e,n,void 0,r===void 0?null:r)}function tm(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,r!==null&&ex(r,o.deps)){s.memoizedState=wu(e,n,i,r);return}}Dt.flags|=t,s.memoizedState=wu(1|e,n,i,r)}function N_(t,e){return bh(8390656,8,t,e)}function rx(t,e){return tm(2048,8,t,e)}function dC(t,e){return tm(4,2,t,e)}function hC(t,e){return tm(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mC(t,e,n){return n=n!=null?n.concat([t]):null,tm(4,4,fC.bind(null,e,t),n)}function sx(){}function pC(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ex(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ex(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return Fo&21?(qr(n,e)||(n=bT(),Dt.lanes|=n,Lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=n)}function T2(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{ft=n,Ap.transition=r}}function vC(){return Sr().memoizedState}function C2(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xC(t))wC(e,n);else if(n=eC(t,e,n,r),n!==null){var s=On();$r(n,t,r,s),_C(n,e,r)}}function S2(t,e,n){var r=Si(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xC(t))wC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qr(l,o)){var c=e.interleaved;c===null?(s.next=s,Gv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=eC(t,e,s,r),n!==null&&(s=On(),$r(n,t,r,s),_C(n,e,r))}}function xC(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function wC(t,e){Qc=rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}var sf={readContext:Cr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},A2={readContext:Cr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:N_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bh(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return bh(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C2.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:A_,useDebugValue:sx,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=A_(!1),e=t[0];return t=T2.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,s=Yr();if(Ct){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),on===null)throw Error(re(349));Fo&30||iC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,N_(aC.bind(null,r,i,t),[t]),r.flags|=2048,wu(9,oC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Yr(),e=on.identifierPrefix;if(Ct){var n=js,r=Is;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N2={readContext:Cr,useCallback:pC,useContext:Cr,useEffect:rx,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:Np,useRef:uC,useState:function(){return Np(xu)},useDebugValue:sx,useDeferredValue:function(t){var e=Sr();return yC(e,Gt.memoizedState,t)},useTransition:function(){var t=Np(xu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1},I2={readContext:Cr,useCallback:pC,useContext:Cr,useEffect:rx,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:Ip,useRef:uC,useState:function(){return Ip(xu)},useDebugValue:sx,useDeferredValue:function(t){var e=Sr();return Gt===null?e.memoizedState=t:yC(e,Gt.memoizedState,t)},useTransition:function(){var t=Ip(xu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nm={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),s=Si(t),i=ks(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ti(t,i,s),e!==null&&($r(e,t,s,r),wh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),s=Si(t),i=ks(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ti(t,i,s),e!==null&&($r(e,t,s,r),wh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Si(t),s=ks(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ti(t,s,r),e!==null&&($r(e,t,r,n),wh(e,t,r))}};function I_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(s,i):!0}function bC(t,e,n){var r=!1,s=Mi,i=e.contextType;return typeof i=="object"&&i!==null?i=Cr(i):(s=Gn(e)?Vo:An.current,r=e.contextTypes,i=(r=r!=null)?vl(t,s):Mi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function j_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nm.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cr(i):(i=Gn(e)?Vo:An.current,s.context=vl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nm.enqueueReplaceState(s,s.state,null),tf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bl(t,e){try{var n="",r=e;do n+=rR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var j2=typeof WeakMap=="function"?WeakMap:Map;function EC(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){af||(af=!0,cy=r),Jg(t,e)},n}function TC(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function k_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new j2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=q2.bind(null,t,e,n),e.then(t,t))}function P_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var k2=Hs.ReactCurrentOwner,Hn=!1;function Rn(t,e,n,r){e.child=t===null?JT(e,null,n,r):wl(e,t.child,n,r)}function D_(t,e,n,r,s){n=n.render;var i=e.ref;return Ka(e,s),r=tx(t,e,n,r,i,s),n=nx(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(Ct&&n&&zv(e),e.flags|=1,Rn(t,e,r,s),e.child)}function O_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,CC(t,e,i,r,s)):(t=Sh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return Vs(t,e,s)}return e.flags|=1,t=Ai(i,r),t.ref=e.ref,t.return=e,e.child=t}function CC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hu(i,r)&&t.ref===e.ref)if(Hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Hn=!0);else return e.lanes=t.lanes,Vs(t,e,s)}return ey(t,e,n,r,s)}function SC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Fa,rr),rr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(Fa,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(Fa,rr),rr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gt(Fa,rr),rr|=r;return Rn(t,e,s,n),e.child}function AC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ey(t,e,n,r,s){var i=Gn(n)?Vo:An.current;return i=vl(e,i),Ka(e,s),n=tx(t,e,n,r,i,s),r=nx(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vs(t,e,s)):(Ct&&r&&zv(e),e.flags|=1,Rn(t,e,n,s),e.child)}function V_(t,e,n,r,s){if(Gn(n)){var i=!0;Zh(e)}else i=!1;if(Ka(e,s),e.stateNode===null)Eh(t,e),bC(e,n,r),Xg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cr(d):(d=Gn(n)?Vo:An.current,d=vl(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&j_(e,o,r,d),ri=!1;var h=e.memoizedState;o.state=h,tf(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Qn.current||ri?(typeof f=="function"&&(Yg(e,n,f,r),c=e.memoizedState),(l=ri||I_(e,n,l,r,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tC(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Rr(e.type,l),o.props=d,m=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Gn(n)?Vo:An.current,c=vl(e,c));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&j_(e,o,r,c),ri=!1,h=e.memoizedState,o.state=h,tf(e,r,o,s);var b=e.memoizedState;l!==m||h!==b||Qn.current||ri?(typeof g=="function"&&(Yg(e,n,g,r),b=e.memoizedState),(d=ri||I_(e,n,d,r,h,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ty(t,e,n,r,i,s)}function ty(t,e,n,r,s,i){AC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&__(e,n,!1),Vs(t,e,i);r=e.stateNode,k2.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wl(e,t.child,null,i),e.child=wl(e,null,l,i)):Rn(t,e,l,i),e.memoizedState=r.state,s&&__(e,n,!0),e.child}function NC(t){var e=t.stateNode;e.pendingContext?w_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w_(t,e.context,!1),Yv(t,e.containerInfo)}function M_(t,e,n,r,s){return xl(),Hv(s),e.flags|=256,Rn(t,e,n,r),e.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(t){return{baseLanes:t,cachePool:null,transitions:null}}function IC(t,e,n){var r=e.pendingProps,s=Rt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(Rt,s&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=im(o,r,0,null),t=Do(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ry(n),e.memoizedState=ny,t):ix(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P2(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ai(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ai(l,i):(i=Do(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ry(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ny,r}return i=t.child,t=i.sibling,r=Ai(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ix(t,e){return e=im({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xd(t,e,n,r){return r!==null&&Hv(r),wl(e,t.child,null,n),t=ix(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=jp(Error(re(422))),Xd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=im({mode:"visible",children:r.children},s,0,null),i=Do(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wl(e,t.child,null,o),e.child.memoizedState=ry(o),e.memoizedState=ny,i);if(!(e.mode&1))return Xd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(re(419)),r=jp(i,r,void 0),Xd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Hn||l){if(r=on,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),$r(r,t,s,-1))}return dx(),r=jp(Error(re(421))),Xd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=H2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,or=Ei(s.nextSibling),lr=e,Ct=!0,Vr=null,t!==null&&(wr[_r++]=Is,wr[_r++]=js,wr[_r++]=Mo,Is=t.id,js=t.overflow,Mo=e),e=ix(e,r.children),e.flags|=4096,e)}function F_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zg(t.return,e,n)}function kp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rn(t,e,r.children,n),r=Rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F_(t,n,e);else if(t.tag===19)F_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(Rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&nf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),kp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&nf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}kp(e,!0,n,null,i);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R2(t,e,n){switch(e.tag){case 3:NC(e),xl();break;case 5:nC(e);break;case 1:Gn(e.type)&&Zh(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gt(Jh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(Rt,Rt.current&1),e.flags|=128,null):n&e.child.childLanes?IC(t,e,n):(gt(Rt,Rt.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);gt(Rt,Rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(Rt,Rt.current),r)break;return null;case 22:case 23:return e.lanes=0,SC(t,e,n)}return Vs(t,e,n)}var kC,sy,PC,RC;kC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sy=function(){};PC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bo(as.current);var i=null;switch(n){case"input":s=Sg(t,s),r=Sg(t,r),i=[];break;case"select":s=Ot({},s,{value:void 0}),r=Ot({},r,{value:void 0}),i=[];break;case"textarea":s=Ig(t,s),r=Ig(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qh)}kg(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(iu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(iu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};RC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ec(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function D2(t,e,n){var r=e.pendingProps;switch(qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return Gn(e.type)&&Gh(),xn(e),null;case 3:return r=e.stateNode,_l(),Tt(Qn),Tt(An),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vr!==null&&(hy(Vr),Vr=null))),sy(t,e),xn(e),null;case 5:Xv(e);var s=bo(yu.current);if(n=e.type,t!==null&&e.stateNode!=null)PC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return xn(e),null}if(t=bo(as.current),Zd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rs]=e,r[pu]=i,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(s=0;s<Rc.length;s++)wt(Rc[s],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":Kw(r,i),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},wt("invalid",r);break;case"textarea":Gw(r,i),wt("invalid",r)}kg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gd(r.textContent,l,t),s=["children",""+l]):iu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&wt("scroll",r)}switch(n){case"input":$d(r),Qw(r,i,!0);break;case"textarea":$d(r),Zw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[pu]=r,kC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pg(n,r),n){case"dialog":wt("cancel",t),wt("close",t),s=r;break;case"iframe":case"object":case"embed":wt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rc.length;s++)wt(Rc[s],t);s=r;break;case"source":wt("error",t),s=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),s=r;break;case"details":wt("toggle",t),s=r;break;case"input":Kw(t,r),s=Sg(t,r),wt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ot({},r,{value:void 0}),wt("invalid",t);break;case"textarea":Gw(t,r),s=Ig(t,r),wt("invalid",t);break;default:s=r}kg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ou(t,c):typeof c=="number"&&ou(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(iu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wt("scroll",t):c!=null&&Iv(t,i,c,o))}switch(n){case"input":$d(t),Qw(t,r,!1);break;case"textarea":$d(t),Zw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?za(t,!!r.multiple,i,!1):r.defaultValue!=null&&za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(t&&e.stateNode!=null)RC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=bo(yu.current),bo(as.current),Zd(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(i=r.nodeValue!==n)&&(t=lr,t!==null))switch(t.tag){case 3:Gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return xn(e),null;case 13:if(Tt(Rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&or!==null&&e.mode&1&&!(e.flags&128))YT(),xl(),e.flags|=98560,i=!1;else if(i=Zd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[rs]=e}else xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xn(e),i=!1}else Vr!==null&&(hy(Vr),Vr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?Xt===0&&(Xt=3):dx())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return _l(),sy(t,e),t===null&&fu(e.stateNode.containerInfo),xn(e),null;case 10:return Qv(e.type._context),xn(e),null;case 17:return Gn(e.type)&&Gh(),xn(e),null;case 19:if(Tt(Rt),i=e.memoizedState,i===null)return xn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ec(i,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nf(t),o!==null){for(e.flags|=128,Ec(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&$t()>El&&(e.flags|=128,r=!0,Ec(i,!1),e.lanes=4194304)}else{if(!r)if(t=nf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ec(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ct)return xn(e),null}else 2*$t()-i.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,Ec(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,n=Rt.current,gt(Rt,r?n&1|2:n&1),e):(xn(e),null);case 22:case 23:return ux(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rr&1073741824&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function O2(t,e){switch(qv(e),e.tag){case 1:return Gn(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),Tt(Qn),Tt(An),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Tt(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Rt),null;case 4:return _l(),null;case 10:return Qv(e.type._context),null;case 22:case 23:return ux(),null;case 24:return null;default:return null}}var Jd=!1,Tn=!1,V2=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var L_=!1;function M2(t,e){if(Bg=Hh,t=FT(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=t,h=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===n&&++d===s&&(l=o),h===i&&++f===r&&(c=o),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zg={focusedElem:t,selectionRange:n},Hh=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,E=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rr(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(P){Lt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return b=L_,L_=!1,b}function Gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&iy(e,n,i)}s=s.next}while(s!==r)}}function rm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DC(t){var e=t.alternate;e!==null&&(t.alternate=null,DC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[pu],delete e[Wg],delete e[x2],delete e[w2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OC(t){return t.tag===5||t.tag===3||t.tag===4}function U_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qh));else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}function ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ly(t,e,n),t=t.sibling;t!==null;)ly(t,e,n),t=t.sibling}var cn=null,Or=!1;function Zs(t,e,n){for(n=n.child;n!==null;)VC(t,e,n),n=n.sibling}function VC(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Gf,n)}catch{}switch(n.tag){case 5:Tn||Ma(n,e);case 6:var r=cn,s=Or;cn=null,Zs(t,e,n),cn=r,Or=s,cn!==null&&(Or?(t=cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(Or?(t=cn,n=n.stateNode,t.nodeType===8?Tp(t.parentNode,n):t.nodeType===1&&Tp(t,n),uu(t)):Tp(cn,n.stateNode));break;case 4:r=cn,s=Or,cn=n.stateNode.containerInfo,Or=!0,Zs(t,e,n),cn=r,Or=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&iy(n,e,o),s=s.next}while(s!==r)}Zs(t,e,n);break;case 1:if(!Tn&&(Ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Lt(n,e,l)}Zs(t,e,n);break;case 21:Zs(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Zs(t,e,n),Tn=r):Zs(t,e,n);break;default:Zs(t,e,n)}}function $_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V2),e.forEach(function(r){var s=W2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,Or=!1;break e;case 3:cn=l.stateNode.containerInfo,Or=!0;break e;case 4:cn=l.stateNode.containerInfo,Or=!0;break e}l=l.return}if(cn===null)throw Error(re(160));VC(i,o,s),cn=null,Or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Lt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MC(e,t),e=e.sibling}function MC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),Zr(t),r&4){try{Gc(3,t,t.return),rm(3,t)}catch(y){Lt(t,t.return,y)}try{Gc(5,t,t.return)}catch(y){Lt(t,t.return,y)}}break;case 1:kr(e,t),Zr(t),r&512&&n!==null&&Ma(n,n.return);break;case 5:if(kr(e,t),Zr(t),r&512&&n!==null&&Ma(n,n.return),t.flags&32){var s=t.stateNode;try{ou(s,"")}catch(y){Lt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iT(s,i),Pg(l,o);var d=Pg(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?uT(s,m):f==="dangerouslySetInnerHTML"?lT(s,m):f==="children"?ou(s,m):Iv(s,f,m,d)}switch(l){case"input":Ag(s,i);break;case"textarea":oT(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?za(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?za(s,!!i.multiple,i.defaultValue,!0):za(s,!!i.multiple,i.multiple?[]:"",!1))}s[pu]=i}catch(y){Lt(t,t.return,y)}}break;case 6:if(kr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Lt(t,t.return,y)}}break;case 3:if(kr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(y){Lt(t,t.return,y)}break;case 4:kr(e,t),Zr(t);break;case 13:kr(e,t),Zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lx=$t())),r&4&&$_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(d=Tn)||f,kr(e,t),Tn=d):kr(e,t),Zr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Te=t,f=t.child;f!==null;){for(m=Te=f;Te!==null;){switch(h=Te,g=h.child,h.tag){case 0:case 11:case 14:case 15:Gc(4,h,h.return);break;case 1:Ma(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){Lt(r,n,y)}}break;case 5:Ma(h,h.return);break;case 22:if(h.memoizedState!==null){z_(m);continue}}g!==null?(g.return=h,Te=g):z_(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cT("display",o))}catch(y){Lt(t,t.return,y)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){Lt(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kr(e,t),Zr(t),r&4&&$_(t);break;case 21:break;default:kr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OC(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ou(s,""),r.flags&=-33);var i=U_(t);ly(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=U_(t);ay(t,l,o);break;default:throw Error(re(161))}}catch(c){Lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F2(t,e,n){Te=t,FC(t)}function FC(t,e,n){for(var r=(t.mode&1)!==0;Te!==null;){var s=Te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Jd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=Jd;var d=Tn;if(Jd=o,(Tn=c)&&!d)for(Te=s;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?q_(s):c!==null?(c.return=o,Te=c):q_(s);for(;i!==null;)Te=i,FC(i),i=i.sibling;Te=s,Jd=l,Tn=d}B_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Te=i):B_(t)}}function B_(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||rm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&uu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Tn||e.flags&512&&oy(e)}catch(h){Lt(e,e.return,h)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function z_(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function q_(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rm(4,e)}catch(c){Lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Lt(e,s,c)}}var i=e.return;try{oy(e)}catch(c){Lt(e,i,c)}break;case 5:var o=e.return;try{oy(e)}catch(c){Lt(e,o,c)}}}catch(c){Lt(e,e.return,c)}if(e===t){Te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Te=l;break}Te=e.return}}var L2=Math.ceil,of=Hs.ReactCurrentDispatcher,ox=Hs.ReactCurrentOwner,Tr=Hs.ReactCurrentBatchConfig,at=0,on=null,Ht=null,hn=0,rr=0,Fa=no(0),Xt=0,_u=null,Lo=0,sm=0,ax=0,Zc=null,zn=null,lx=0,El=1/0,Cs=null,af=!1,cy=null,Ci=null,eh=!1,yi=null,lf=0,Yc=0,uy=null,Th=-1,Ch=0;function On(){return at&6?$t():Th!==-1?Th:Th=$t()}function Si(t){return t.mode&1?at&2&&hn!==0?hn&-hn:b2.transition!==null?(Ch===0&&(Ch=bT()),Ch):(t=ft,t!==0||(t=window.event,t=t===void 0?16:IT(t.type)),t):1}function $r(t,e,n,r){if(50<Yc)throw Yc=0,uy=null,Error(re(185));ed(t,n,r),(!(at&2)||t!==on)&&(t===on&&(!(at&2)&&(sm|=n),Xt===4&&ii(t,hn)),Zn(t,r),n===1&&at===0&&!(e.mode&1)&&(El=$t()+500,em&&ro()))}function Zn(t,e){var n=t.callbackNode;bR(t,e);var r=qh(t,t===on?hn:0);if(r===0)n!==null&&Jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jw(n),e===1)t.tag===0?_2(H_.bind(null,t)):QT(H_.bind(null,t)),y2(function(){!(at&6)&&ro()}),n=null;else{switch(ET(r)){case 1:n=Dv;break;case 4:n=wT;break;case 16:n=zh;break;case 536870912:n=_T;break;default:n=zh}n=WC(n,LC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LC(t,e){if(Th=-1,Ch=0,at&6)throw Error(re(327));var n=t.callbackNode;if(Qa()&&t.callbackNode!==n)return null;var r=qh(t,t===on?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cf(t,r);else{e=r;var s=at;at|=2;var i=$C();(on!==t||hn!==e)&&(Cs=null,El=$t()+500,Ro(t,e));do try{B2();break}catch(l){UC(t,l)}while(!0);Kv(),of.current=i,at=s,Ht!==null?e=0:(on=null,hn=0,e=Xt)}if(e!==0){if(e===2&&(s=Mg(t),s!==0&&(r=s,e=dy(t,s))),e===1)throw n=_u,Ro(t,0),ii(t,r),Zn(t,$t()),n;if(e===6)ii(t,r);else{if(s=t.current.alternate,!(r&30)&&!U2(s)&&(e=cf(t,r),e===2&&(i=Mg(t),i!==0&&(r=i,e=dy(t,i))),e===1))throw n=_u,Ro(t,0),ii(t,r),Zn(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:go(t,zn,Cs);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=lx+500-$t(),10<e)){if(qh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hg(go.bind(null,t,zn,Cs),e);break}go(t,zn,Cs);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L2(r/1960))-r,10<r){t.timeoutHandle=Hg(go.bind(null,t,zn,Cs),r);break}go(t,zn,Cs);break;case 5:go(t,zn,Cs);break;default:throw Error(re(329))}}}return Zn(t,$t()),t.callbackNode===n?LC.bind(null,t):null}function dy(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=cf(t,e),t!==2&&(e=zn,zn=n,e!==null&&hy(e)),t}function hy(t){zn===null?zn=t:zn.push.apply(zn,t)}function U2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~ax,e&=~sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function H_(t){if(at&6)throw Error(re(327));Qa();var e=qh(t,0);if(!(e&1))return Zn(t,$t()),null;var n=cf(t,e);if(t.tag!==0&&n===2){var r=Mg(t);r!==0&&(e=r,n=dy(t,r))}if(n===1)throw n=_u,Ro(t,0),ii(t,e),Zn(t,$t()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,go(t,zn,Cs),Zn(t,$t()),null}function cx(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(El=$t()+500,em&&ro())}}function Uo(t){yi!==null&&yi.tag===0&&!(at&6)&&Qa();var e=at;at|=1;var n=Tr.transition,r=ft;try{if(Tr.transition=null,ft=1,t)return t()}finally{ft=r,Tr.transition=n,at=e,!(at&6)&&ro()}}function ux(){rr=Fa.current,Tt(Fa)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g2(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gh();break;case 3:_l(),Tt(Qn),Tt(An),Jv();break;case 5:Xv(r);break;case 4:_l();break;case 13:Tt(Rt);break;case 19:Tt(Rt);break;case 10:Qv(r.type._context);break;case 22:case 23:ux()}n=n.return}if(on=t,Ht=t=Ai(t.current,null),hn=rr=e,Xt=0,_u=null,ax=sm=Lo=0,zn=Zc=null,_o!==null){for(e=0;e<_o.length;e++)if(n=_o[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_o=null}return t}function UC(t,e){do{var n=Ht;try{if(Kv(),_h.current=sf,rf){for(var r=Dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rf=!1}if(Fo=0,sn=Gt=Dt=null,Qc=!1,vu=0,ox.current=null,n===null||n.return===null){Xt=1,_u=e,Ht=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=P_(o);if(g!==null){g.flags&=-257,R_(g,o,l,i,e),g.mode&1&&k_(i,d,e),e=g,c=d;var b=e.updateQueue;if(b===null){var y=new Set;y.add(c),e.updateQueue=y}else b.add(c);break e}else{if(!(e&1)){k_(i,d,e),dx();break e}c=Error(re(426))}}else if(Ct&&l.mode&1){var E=P_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),R_(E,o,l,i,e),Hv(bl(c,l));break e}}i=c=bl(c,l),Xt!==4&&(Xt=2),Zc===null?Zc=[i]:Zc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=EC(i,c,e);C_(i,_);break e;case 1:l=c;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ci===null||!Ci.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=TC(i,l,e);C_(i,P);break e}}i=i.return}while(i!==null)}zC(n)}catch(D){e=D,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function $C(){var t=of.current;return of.current=sf,t===null?sf:t}function dx(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),on===null||!(Lo&268435455)&&!(sm&268435455)||ii(on,hn)}function cf(t,e){var n=at;at|=2;var r=$C();(on!==t||hn!==e)&&(Cs=null,Ro(t,e));do try{$2();break}catch(s){UC(t,s)}while(!0);if(Kv(),at=n,of.current=r,Ht!==null)throw Error(re(261));return on=null,hn=0,Xt}function $2(){for(;Ht!==null;)BC(Ht)}function B2(){for(;Ht!==null&&!fR();)BC(Ht)}function BC(t){var e=HC(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?zC(t):Ht=e,ox.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O2(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Ht=null;return}}else if(n=D2(n,e,rr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Xt===0&&(Xt=5)}function go(t,e,n){var r=ft,s=Tr.transition;try{Tr.transition=null,ft=1,z2(t,e,n,r)}finally{Tr.transition=s,ft=r}return null}function z2(t,e,n,r){do Qa();while(yi!==null);if(at&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ER(t,i),t===on&&(Ht=on=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eh||(eh=!0,WC(zh,function(){return Qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=ft;ft=1;var l=at;at|=4,ox.current=null,M2(t,n),MC(n,t),c2(zg),Hh=!!Bg,zg=Bg=null,t.current=n,F2(n),mR(),at=l,ft=o,Tr.transition=i}else t.current=n;if(eh&&(eh=!1,yi=t,lf=s),i=t.pendingLanes,i===0&&(Ci=null),yR(n.stateNode),Zn(t,$t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(af)throw af=!1,t=cy,cy=null,t;return lf&1&&t.tag!==0&&Qa(),i=t.pendingLanes,i&1?t===uy?Yc++:(Yc=0,uy=t):Yc=0,ro(),null}function Qa(){if(yi!==null){var t=ET(lf),e=Tr.transition,n=ft;try{if(Tr.transition=null,ft=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,lf=0,at&6)throw Error(re(331));var s=at;for(at|=4,Te=t.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Te=d;Te!==null;){var f=Te;switch(f.tag){case 0:case 11:case 15:Gc(8,f,i)}var m=f.child;if(m!==null)m.return=f,Te=m;else for(;Te!==null;){f=Te;var h=f.sibling,g=f.return;if(DC(f),f===d){Te=null;break}if(h!==null){h.return=g,Te=h;break}Te=g}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Te=_;break e}Te=i.return}}var v=t.current;for(Te=v;Te!==null;){o=Te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Te=S;else e:for(o=v;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rm(9,l)}}catch(D){Lt(l,l.return,D)}if(l===o){Te=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Te=P;break e}Te=l.return}}if(at=s,ro(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Gf,t)}catch{}r=!0}return r}finally{ft=n,Tr.transition=e}}return!1}function W_(t,e,n){e=bl(n,e),e=EC(t,e,1),t=Ti(t,e,1),e=On(),t!==null&&(ed(t,1,e),Zn(t,e))}function Lt(t,e,n){if(t.tag===3)W_(t,t,n);else for(;e!==null;){if(e.tag===3){W_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=bl(n,t),t=TC(e,t,1),e=Ti(e,t,1),t=On(),e!==null&&(ed(e,1,t),Zn(e,t));break}}e=e.return}}function q2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(hn&n)===n&&(Xt===4||Xt===3&&(hn&130023424)===hn&&500>$t()-lx?Ro(t,0):ax|=n),Zn(t,e)}function qC(t,e){e===0&&(t.mode&1?(e=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):e=1);var n=On();t=Os(t,e),t!==null&&(ed(t,e,n),Zn(t,n))}function H2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qC(t,n)}function W2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),qC(t,n)}var HC;HC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hn=!1,R2(t,e,n);Hn=!!(t.flags&131072)}else Hn=!1,Ct&&e.flags&1048576&&GT(e,Xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var s=vl(e,An.current);Ka(e,n),s=tx(null,e,r,t,s,n);var i=nx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(i=!0,Zh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zv(e),s.updater=nm,e.stateNode=s,s._reactInternals=e,Xg(e,r,t,n),e=ty(null,e,r,!0,i,n)):(e.tag=0,Ct&&i&&zv(e),Rn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Q2(r),t=Rr(r,t),s){case 0:e=ey(null,e,r,t,n);break e;case 1:e=V_(null,e,r,t,n);break e;case 11:e=D_(null,e,r,t,n);break e;case 14:e=O_(null,e,r,Rr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),ey(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),V_(t,e,r,s,n);case 3:e:{if(NC(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tC(t,e),tf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bl(Error(re(423)),e),e=M_(t,e,r,n,s);break e}else if(r!==s){s=bl(Error(re(424)),e),e=M_(t,e,r,n,s);break e}else for(or=Ei(e.stateNode.containerInfo.firstChild),lr=e,Ct=!0,Vr=null,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xl(),r===s){e=Vs(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&Gg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qg(r,s)?o=null:i!==null&&qg(r,i)&&(e.flags|=32),AC(t,e),Rn(t,e,o,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return IC(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wl(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),D_(t,e,r,s,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gt(Jh,r._currentValue),r._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===s.children&&!Qn.current){e=Vs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ks(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zg(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ka(e,n),s=Cr(s),r=r(s),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,s=Rr(r,e.pendingProps),s=Rr(r.type,s),O_(t,e,r,s,n);case 15:return CC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),Eh(t,e),e.tag=1,Gn(r)?(t=!0,Zh(e)):t=!1,Ka(e,n),bC(e,r,s),Xg(e,r,s,n),ty(null,e,r,!0,t,n);case 19:return jC(t,e,n);case 22:return SC(t,e,n)}throw Error(re(156,e.tag))};function WC(t,e){return xT(t,e)}function K2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new K2(t,e,n,r)}function hx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q2(t){if(typeof t=="function")return hx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kv)return 11;if(t===Pv)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Na:return Do(n.children,s,i,e);case jv:o=8,s|=8;break;case bg:return t=Er(12,n,e,s|2),t.elementType=bg,t.lanes=i,t;case Eg:return t=Er(13,n,e,s),t.elementType=Eg,t.lanes=i,t;case Tg:return t=Er(19,n,e,s),t.elementType=Tg,t.lanes=i,t;case nT:return im(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eT:o=10;break e;case tT:o=9;break e;case kv:o=11;break e;case Pv:o=14;break e;case ni:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Do(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function im(t,e,n,r){return t=Er(22,t,r,e),t.elementType=nT,t.lanes=n,t.stateNode={isHidden:!1},t}function Pp(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function Rp(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fx(t,e,n,r,s,i,o,l,c){return t=new G2(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(i),t}function Z2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KC(t){if(!t)return Mi;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Gn(n))return KT(t,n,e)}return e}function QC(t,e,n,r,s,i,o,l,c){return t=fx(n,r,!0,t,s,i,o,l,c),t.context=KC(null),n=t.current,r=On(),s=Si(n),i=ks(r,s),i.callback=e??null,Ti(n,i,s),t.current.lanes=s,ed(t,s,r),Zn(t,r),t}function om(t,e,n,r){var s=e.current,i=On(),o=Si(s);return n=KC(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(s,e,o),t!==null&&($r(t,s,o,i),wh(t,s,o)),o}function uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mx(t,e){K_(t,e),(t=t.alternate)&&K_(t,e)}function Y2(){return null}var GC=typeof reportError=="function"?reportError:function(t){console.error(t)};function px(t){this._internalRoot=t}am.prototype.render=px.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));om(t,e,null,null)};am.prototype.unmount=px.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){om(null,t,null,null)}),e[Ds]=null}};function am(t){this._internalRoot=t}am.prototype.unstable_scheduleHydration=function(t){if(t){var e=ST();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&NT(t)}};function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q_(){}function X2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=uf(o);i.call(d)}}var o=QC(e,r,t,0,null,!1,!1,"",Q_);return t._reactRootContainer=o,t[Ds]=o.current,fu(t.nodeType===8?t.parentNode:t),Uo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=uf(c);l.call(d)}}var c=fx(t,0,!1,null,null,!1,!1,"",Q_);return t._reactRootContainer=c,t[Ds]=c.current,fu(t.nodeType===8?t.parentNode:t),Uo(function(){om(e,c,n,r)}),c}function cm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=uf(o);l.call(c)}}om(e,o,t,s)}else o=X2(n,e,t,s,r);return uf(o)}TT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pc(e.pendingLanes);n!==0&&(Ov(e,n|1),Zn(e,$t()),!(at&6)&&(El=$t()+500,ro()))}break;case 13:Uo(function(){var r=Os(t,1);if(r!==null){var s=On();$r(r,t,1,s)}}),mx(t,1)}};Vv=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=On();$r(e,t,134217728,n)}mx(t,134217728)}};CT=function(t){if(t.tag===13){var e=Si(t),n=Os(t,e);if(n!==null){var r=On();$r(n,t,e,r)}mx(t,e)}};ST=function(){return ft};AT=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};Dg=function(t,e,n){switch(e){case"input":if(Ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Jf(r);if(!s)throw Error(re(90));sT(r),Ag(r,s)}}}break;case"textarea":oT(t,n);break;case"select":e=n.value,e!=null&&za(t,!!n.multiple,e,!1)}};fT=cx;mT=Uo;var J2={usingClientEntryPoint:!1,Events:[nd,Pa,Jf,dT,hT,cx]},Tc={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eD={bundleType:Tc.bundleType,version:Tc.version,rendererPackageName:Tc.rendererPackageName,rendererConfig:Tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:Tc.findFiberByHostInstance||Y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Gf=th.inject(eD),os=th}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(e))throw Error(re(200));return Z2(t,e,null,n)};gr.createRoot=function(t,e){if(!gx(t))throw Error(re(299));var n=!1,r="",s=GC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fx(t,1,!1,null,null,n,!1,r,s),t[Ds]=e.current,fu(t.nodeType===8?t.parentNode:t),new px(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return Uo(t)};gr.hydrate=function(t,e,n){if(!lm(e))throw Error(re(200));return cm(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!gx(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QC(e,null,t,1,n??null,s,!1,i,o),t[Ds]=e.current,fu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new am(e)};gr.render=function(t,e,n){if(!lm(e))throw Error(re(200));return cm(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!lm(t))throw Error(re(40));return t._reactRootContainer?(Uo(function(){cm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};gr.unstable_batchedUpdates=cx;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lm(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return cm(t,e,n,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function ZC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZC)}catch(t){console.error(t)}}ZC(),ZE.exports=gr;var ia=ZE.exports;const tD=ME(ia);var YC,G_=ia;YC=G_.createRoot,G_.hydrateRoot;function nD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var XC={exports:{}},JC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=x;function rD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sD=typeof Object.is=="function"?Object.is:rD,iD=Tl.useState,oD=Tl.useEffect,aD=Tl.useLayoutEffect,lD=Tl.useDebugValue;function cD(t,e){var n=e(),r=iD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return aD(function(){s.value=n,s.getSnapshot=e,Dp(s)&&i({inst:s})},[t,n,e]),oD(function(){return Dp(s)&&i({inst:s}),t(function(){Dp(s)&&i({inst:s})})},[t]),lD(n),n}function Dp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sD(t,n)}catch{return!0}}function uD(t,e){return e()}var dD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uD:cD;JC.useSyncExternalStore=Tl.useSyncExternalStore!==void 0?Tl.useSyncExternalStore:dD;XC.exports=JC;var hD=XC.exports;const fD=QE.useInsertionEffect,mD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pD=mD?x.useLayoutEffect:x.useEffect,gD=fD||pD,eS=t=>{const e=x.useRef([t,(...n)=>e[0](...n)]).current;return gD(()=>{e[0]=t}),e[1]},yD="popstate",yx="pushState",vx="replaceState",vD="hashchange",Z_=[yD,yx,vx,vD],xD=t=>{for(const e of Z_)addEventListener(e,t);return()=>{for(const e of Z_)removeEventListener(e,t)}},tS=(t,e)=>hD.useSyncExternalStore(xD,t,e),wD=()=>location.search,_D=({ssrSearch:t=""}={})=>tS(wD,()=>t),Y_=()=>location.pathname,bD=({ssrPath:t}={})=>tS(Y_,t?()=>t:Y_),ED=(t,{replace:e=!1,state:n=null}={})=>history[e?vx:yx](n,"",t),TD=(t={})=>[bD(t),ED],X_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[X_]>"u"){for(const t of[yx,vx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,X_,{value:!0})}const CD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nS=(t="")=>t==="/"?"":t,SD=(t,e)=>t[0]==="~"?t.slice(1):nS(e)+t,AD=(t="",e)=>CD(J_(nS(t)),J_(e)),J_=t=>{try{return decodeURI(t)}catch{return t}},rS={hook:TD,searchHook:_D,parser:nD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},sS=x.createContext(rS),sd=()=>x.useContext(sS),iS={},oS=x.createContext(iS),ND=()=>x.useContext(oS),um=t=>{const[e,n]=t.hook(t);return[AD(t.base,e),eS((r,s)=>n(SD(r,t.base),s))]},ID=()=>um(sd()),aS=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,h)=>[m,c[h]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...r?[l]:[]]:[!1,null]},jD=({children:t,...e})=>{var f,m;const n=sd(),r=e.hook?rS:n;let s=r;const[i,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((m=e.hook)==null?void 0:m.hrefs);let l=x.useRef({}),c=l.current,d=c;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];c===d&&g!==d[h]&&(l.current=d={...d}),d[h]=g,g!==r[h]&&(s=d)}return x.createElement(sS.Provider,{value:s,children:t})},e1=({children:t,component:e},n)=>e?x.createElement(e,{params:n}):typeof t=="function"?t(n):t,kD=t=>{let e=x.useRef(iS),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Cc=({path:t,nest:e,match:n,...r})=>{const s=sd(),[i]=um(s),[o,l,c]=n??aS(s.parser,t,i,e),d=kD({...ND(),...l});if(!o)return null;const f=c?x.createElement(jD,{base:c},e1(r,d)):e1(r,d);return x.createElement(oS.Provider,{value:d,children:f})},Sn=x.forwardRef((t,e)=>{const n=sd(),[r,s]=um(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:f,replace:m,state:h,...g}=t,b=eS(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(l==null||l(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:b,href:y}):x.createElement("a",{...g,onClick:b,href:y,className:f!=null&&f.call?f(r===o):f,children:d,ref:e})}),lS=t=>Array.isArray(t)?t.flatMap(e=>lS(e&&e.type===x.Fragment?e.props.children:e)):[t],PD=({children:t,location:e})=>{const n=sd(),[r]=um(n);for(const s of lS(t)){let i=0;if(x.isValidElement(s)&&(i=aS(n.parser,s.props.path,e||r,s.props.nest))[0])return x.cloneElement(s,{match:i})}return null};var zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$o=typeof window>"u"||"Deno"in globalThis;function xr(){}function RD(t,e){return typeof t=="function"?t(e):t}function fy(t){return typeof t=="number"&&t>=0&&t!==1/0}function cS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ga(t,e){return typeof t=="function"?t(e):t}function Mr(t,e){return typeof t=="function"?t(e):t}function t1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==xx(o,e.options))return!1}else if(!bu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function n1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bo(e.options.mutationKey)!==Bo(i))return!1}else if(!bu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bo)(t)}function Bo(t){return JSON.stringify(t,(e,n)=>my(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!bu(t[n],e[n])):!1}function uS(t,e){if(t===e)return t;const n=r1(t)&&r1(e);if(n||my(t)&&my(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=uS(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function df(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function r1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function my(t){if(!s1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!s1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function s1(t){return Object.prototype.toString.call(t)==="[object Object]"}function DD(t){return new Promise(e=>{setTimeout(e,t)})}function py(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uS(t,e):e}function OD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var wx=Symbol();function dS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var So,ai,sl,AE,MD=(AE=class extends zl{constructor(){super();Me(this,So);Me(this,ai);Me(this,sl);ve(this,sl,e=>{if(!$o&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,ai)||this.setEventListener(F(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ai))==null||e.call(this),ve(this,ai,void 0))}setEventListener(e){var n;ve(this,sl,e),(n=F(this,ai))==null||n.call(this),ve(this,ai,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,So)!==e&&(ve(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,So)=="boolean"?F(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,ai=new WeakMap,sl=new WeakMap,AE),_x=new MD,il,li,ol,NE,FD=(NE=class extends zl{constructor(){super();Me(this,il,!0);Me(this,li);Me(this,ol);ve(this,ol,e=>{if(!$o&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,li)||this.setEventListener(F(this,ol))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,li))==null||e.call(this),ve(this,li,void 0))}setEventListener(e){var n;ve(this,ol,e),(n=F(this,li))==null||n.call(this),ve(this,li,e(this.setOnline.bind(this)))}setOnline(e){F(this,il)!==e&&(ve(this,il,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,il)}},il=new WeakMap,li=new WeakMap,ol=new WeakMap,NE),hf=new FD;function gy(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function LD(t){return Math.min(1e3*2**t,3e4)}function hS(t){return(t??"online")==="online"?hf.isOnline():!0}var fS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Op(t){return t instanceof fS}function mS(t){let e=!1,n=0,r=!1,s;const i=gy(),o=y=>{var E;r||(h(new fS(y)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>_x.isFocused()&&(t.networkMode==="always"||hf.isOnline())&&t.canRun(),f=()=>hS(t.networkMode)&&t.canRun(),m=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var E;s=_=>{(r||d())&&y(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),b=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(m).catch(_=>{var O;if(r)return;const v=t.retry??($o?0:3),S=t.retryDelay??LD,P=typeof S=="function"?S(n,_):S,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!D){h(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),DD(P).then(()=>d()?void 0:g()).then(()=>{e?h(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():g().then(b),i)}}function UD(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Zt=UD(),Ao,IE,pS=(IE=class{constructor(){Me(this,Ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fy(this.gcTime)&&ve(this,Ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($o?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ao)&&(clearTimeout(F(this,Ao)),ve(this,Ao,void 0))}},Ao=new WeakMap,IE),al,ll,vr,_n,Gu,No,Dr,Es,jE,$D=(jE=class extends pS{constructor(n){super();Me(this,Dr);Me(this,al);Me(this,ll);Me(this,vr);Me(this,_n);Me(this,Gu);Me(this,No);ve(this,No,!1),ve(this,Gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,vr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,al,BD(this.options)),this.state=n.state??F(this,al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,_n))==null?void 0:n.promise}setOptions(n){this.options={...F(this,Gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,vr).remove(this)}setData(n,r){const s=py(this.state.data,n,this.options);return Ze(this,Dr,Es).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ze(this,Dr,Es).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,_n))==null?void 0:s.promise;return(i=F(this,_n))==null||i.cancel(n),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,al))}isActive(){return this.observers.some(n=>Mr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!cS(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,_n))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,_n))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,vr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,_n)&&(F(this,No)?F(this,_n).cancel({revert:!0}):F(this,_n).cancelRetry()),this.scheduleGc()),F(this,vr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Dr,Es).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,_n))return F(this,_n).continueRetry(),F(this,_n).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ve(this,No,!0),s.signal)})},o=()=>{const h=dS(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),ve(this,No,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),ve(this,ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ze(this,Dr,Es).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var g,b,y,E;Op(h)&&h.silent||Ze(this,Dr,Es).call(this,{type:"error",error:h}),Op(h)||((b=(g=F(this,vr).config).onError)==null||b.call(g,h,this),(E=(y=F(this,vr).config).onSettled)==null||E.call(y,this.state.data,h,this)),this.scheduleGc()};return ve(this,_n,mS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var g,b,y,E;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){c(_);return}(b=(g=F(this,vr).config).onSuccess)==null||b.call(g,h,this),(E=(y=F(this,vr).config).onSettled)==null||E.call(y,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,g)=>{Ze(this,Dr,Es).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{Ze(this,Dr,Es).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Dr,Es).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),F(this,_n).start()}},al=new WeakMap,ll=new WeakMap,vr=new WeakMap,_n=new WeakMap,Gu=new WeakMap,No=new WeakMap,Dr=new WeakSet,Es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...gS(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Op(i)&&i.revert&&F(this,ll)?{...F(this,ll),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,vr).notify({query:this,type:"updated",action:n})})},jE);function gS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jr,kE,zD=(kE=class extends zl{constructor(e={}){super();Me(this,Jr);this.config=e,ve(this,Jr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xx(s,n);let o=this.get(i);return o||(o=new $D({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Jr).has(e.queryHash)||(F(this,Jr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Jr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Jr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Jr).get(e)}getAll(){return[...F(this,Jr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>t1(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jr=new WeakMap,kE),es,kn,Io,ts,ei,PE,qD=(PE=class extends pS{constructor(n){super();Me(this,ts);Me(this,es);Me(this,kn);Me(this,Io);this.mutationId=n.mutationId,ve(this,kn,n.mutationCache),ve(this,es,[]),this.state=n.state||yS(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,es).includes(n)||(F(this,es).push(n),this.clearGcTimeout(),F(this,kn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,es,F(this,es).filter(r=>r!==n)),this.scheduleGc(),F(this,kn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,es).length||(this.state.status==="pending"?this.scheduleGc():F(this,kn).remove(this))}continue(){var n;return((n=F(this,Io))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,c,d,f,m,h,g,b,y,E,_,v,S,P,D,O,T,C;ve(this,Io,mS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,j)=>{Ze(this,ts,ei).call(this,{type:"failed",failureCount:A,error:j})},onPause:()=>{Ze(this,ts,ei).call(this,{type:"pause"})},onContinue:()=>{Ze(this,ts,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,kn).canRun(this)}));const r=this.state.status==="pending",s=!F(this,Io).canStart();try{if(!r){Ze(this,ts,ei).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=F(this,kn).config).onMutate)==null?void 0:o.call(i,n,this));const j=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));j!==this.state.context&&Ze(this,ts,ei).call(this,{type:"pending",context:j,variables:n,isPaused:s})}const A=await F(this,Io).start();return await((f=(d=F(this,kn).config).onSuccess)==null?void 0:f.call(d,A,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,n,this.state.context)),await((b=(g=F(this,kn).config).onSettled)==null?void 0:b.call(g,A,null,this.state.variables,this.state.context,this)),await((E=(y=this.options).onSettled)==null?void 0:E.call(y,A,null,n,this.state.context)),Ze(this,ts,ei).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(_=F(this,kn).config).onError)==null?void 0:v.call(_,A,n,this.state.context,this)),await((P=(S=this.options).onError)==null?void 0:P.call(S,A,n,this.state.context)),await((O=(D=F(this,kn).config).onSettled)==null?void 0:O.call(D,void 0,A,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,A,n,this.state.context)),A}finally{Ze(this,ts,ei).call(this,{type:"error",error:A})}}finally{F(this,kn).runNext(this)}}},es=new WeakMap,kn=new WeakMap,Io=new WeakMap,ts=new WeakSet,ei=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{F(this,es).forEach(s=>{s.onMutationUpdate(n)}),F(this,kn).notify({mutation:this,type:"updated",action:n})})},PE);function yS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nr,Zu,RE,HD=(RE=class extends zl{constructor(e={}){super();Me(this,nr);Me(this,Zu);this.config=e,ve(this,nr,new Map),ve(this,Zu,Date.now())}build(e,n,r){const s=new qD({mutationCache:this,mutationId:++Fd(this,Zu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=nh(e),r=F(this,nr).get(n)??[];r.push(e),F(this,nr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=nh(e);if(F(this,nr).has(n)){const s=(r=F(this,nr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?F(this,nr).delete(n):F(this,nr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=F(this,nr).get(nh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=F(this,nr).get(nh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...F(this,nr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n1(n,r))}findAll(e={}){return this.getAll().filter(n=>n1(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},nr=new WeakMap,Zu=new WeakMap,RE);function nh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function i1(t){return{onFetch:(e,n)=>{var f,m,h,g,b;const r=e.options,s=(h=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const E=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=dS(e.options,e.fetchOptions),v=async(S,P,D)=>{if(y)return Promise.reject();if(P==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};E(O);const T=await _(O),{maxPages:C}=e.options,A=D?VD:OD;return{pages:A(S.pages,T,C),pageParams:A(S.pageParams,P,C)}};if(s&&i.length){const S=s==="backward",P=S?WD:o1,D={pages:i,pageParams:o},O=P(r,D);l=await v(D,O,S)}else{const S=t??i.length;do{const P=c===0?o[0]??r.initialPageParam:o1(r,l);if(c>0&&P==null)break;l=await v(l,P),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function o1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function WD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,ci,ui,cl,ul,di,dl,hl,DE,KD=(DE=class{constructor(t={}){Me(this,Ft);Me(this,ci);Me(this,ui);Me(this,cl);Me(this,ul);Me(this,di);Me(this,dl);Me(this,hl);ve(this,Ft,t.queryCache||new zD),ve(this,ci,t.mutationCache||new HD),ve(this,ui,t.defaultOptions||{}),ve(this,cl,new Map),ve(this,ul,new Map),ve(this,di,0)}mount(){Fd(this,di)._++,F(this,di)===1&&(ve(this,dl,_x.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ft).onFocus())})),ve(this,hl,hf.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ft).onOnline())})))}unmount(){var t,e;Fd(this,di)._--,F(this,di)===0&&((t=F(this,dl))==null||t.call(this),ve(this,dl,void 0),(e=F(this,hl))==null||e.call(this),ve(this,hl,void 0))}isFetching(t){return F(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ci).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=F(this,Ft).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Ga(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return F(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=RD(e,i);if(o!==void 0)return F(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>F(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Ft);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Ft),r={type:"active",...t};return Zt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Zt.batch(()=>F(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if(F(this,Ft).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zt.batch(()=>F(this,Ft).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Ft).build(this,e);return n.isStaleByTime(Ga(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=i1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=i1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hf.isOnline()?F(this,ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ft)}getMutationCache(){return F(this,ci)}getDefaultOptions(){return F(this,ui)}setDefaultOptions(t){ve(this,ui,t)}setQueryDefaults(t,e){F(this,cl).set(Bo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,cl).values()];let n={};return e.forEach(r=>{bu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){F(this,ul).set(Bo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,ul).values()];let n={};return e.forEach(r=>{bu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,ui).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,ui).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Ft).clear(),F(this,ci).clear()}},Ft=new WeakMap,ci=new WeakMap,ui=new WeakMap,cl=new WeakMap,ul=new WeakMap,di=new WeakMap,dl=new WeakMap,hl=new WeakMap,DE),Un,nt,Yu,Pn,jo,fl,hi,ns,Xu,ml,pl,ko,Po,fi,gl,dt,Dc,yy,vy,xy,wy,_y,by,Ey,vS,OE,QD=(OE=class extends zl{constructor(e,n){super();Me(this,dt);Me(this,Un);Me(this,nt);Me(this,Yu);Me(this,Pn);Me(this,jo);Me(this,fl);Me(this,hi);Me(this,ns);Me(this,Xu);Me(this,ml);Me(this,pl);Me(this,ko);Me(this,Po);Me(this,fi);Me(this,gl,new Set);this.options=n,ve(this,Un,e),ve(this,ns,null),ve(this,hi,gy()),this.options.experimental_prefetchInRender||F(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,nt).addObserver(this),a1(F(this,nt),this.options)?Ze(this,dt,Dc).call(this):this.updateResult(),Ze(this,dt,wy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ty(F(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ty(F(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,dt,_y).call(this),Ze(this,dt,by).call(this),F(this,nt).removeObserver(this)}setOptions(e,n){const r=this.options,s=F(this,nt);if(this.options=F(this,Un).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mr(this.options.enabled,F(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,dt,Ey).call(this),F(this,nt).setOptions(this.options),r._defaulted&&!df(this.options,r)&&F(this,Un).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,nt),observer:this});const i=this.hasListeners();i&&l1(F(this,nt),s,this.options,r)&&Ze(this,dt,Dc).call(this),this.updateResult(n),i&&(F(this,nt)!==s||Mr(this.options.enabled,F(this,nt))!==Mr(r.enabled,F(this,nt))||Ga(this.options.staleTime,F(this,nt))!==Ga(r.staleTime,F(this,nt)))&&Ze(this,dt,yy).call(this);const o=Ze(this,dt,vy).call(this);i&&(F(this,nt)!==s||Mr(this.options.enabled,F(this,nt))!==Mr(r.enabled,F(this,nt))||o!==F(this,fi))&&Ze(this,dt,xy).call(this,o)}getOptimisticResult(e){const n=F(this,Un).getQueryCache().build(F(this,Un),e),r=this.createResult(n,e);return ZD(this,r)&&(ve(this,Pn,r),ve(this,fl,this.options),ve(this,jo,F(this,nt).state)),r}getCurrentResult(){return F(this,Pn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){F(this,gl).add(e)}getCurrentQuery(){return F(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Un).defaultQueryOptions(e),r=F(this,Un).getQueryCache().build(F(this,Un),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ze(this,dt,Dc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Pn)))}createResult(e,n){var C;const r=F(this,nt),s=this.options,i=F(this,Pn),o=F(this,jo),l=F(this,fl),d=e!==r?e.state:F(this,Yu),{state:f}=e;let m={...f},h=!1,g;if(n._optimisticResults){const A=this.hasListeners(),j=!A&&a1(e,n),R=A&&l1(e,r,n,s);(j||R)&&(m={...m,...gS(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:y,status:E}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===F(this,Xu))g=F(this,ml);else try{ve(this,Xu,n.select),g=n.select(m.data),g=py(i==null?void 0:i.data,g,n),ve(this,ml,g),ve(this,ns,null)}catch(A){ve(this,ns,A)}else g=m.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let A;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((C=F(this,pl))==null?void 0:C.state.data,F(this,pl)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),ve(this,ns,null)}catch(j){ve(this,ns,j)}A!==void 0&&(E="success",g=py(i==null?void 0:i.data,A,n),h=!0)}F(this,ns)&&(b=F(this,ns),g=F(this,ml),y=Date.now(),E="error");const _=m.fetchStatus==="fetching",v=E==="pending",S=E==="error",P=v&&_,D=g!==void 0,T={status:E,fetchStatus:m.fetchStatus,isPending:v,isSuccess:E==="success",isError:S,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!v,isLoadingError:S&&!D,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&D,isStale:bx(e,n),refetch:this.refetch,promise:F(this,hi)};if(this.options.experimental_prefetchInRender){const A=k=>{T.status==="error"?k.reject(T.error):T.data!==void 0&&k.resolve(T.data)},j=()=>{const k=ve(this,hi,T.promise=gy());A(k)},R=F(this,hi);switch(R.status){case"pending":e.queryHash===r.queryHash&&A(R);break;case"fulfilled":(T.status==="error"||T.data!==R.value)&&j();break;case"rejected":(T.status!=="error"||T.error!==R.reason)&&j();break}}return T}updateResult(e){const n=F(this,Pn),r=this.createResult(F(this,nt),this.options);if(ve(this,jo,F(this,nt).state),ve(this,fl,this.options),F(this,jo).data!==void 0&&ve(this,pl,F(this,nt)),df(r,n))return;ve(this,Pn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!F(this,gl).size)return!0;const c=new Set(l??F(this,gl));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,Pn)).some(d=>{const f=d;return F(this,Pn)[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ze(this,dt,vS).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,dt,wy).call(this)}},Un=new WeakMap,nt=new WeakMap,Yu=new WeakMap,Pn=new WeakMap,jo=new WeakMap,fl=new WeakMap,hi=new WeakMap,ns=new WeakMap,Xu=new WeakMap,ml=new WeakMap,pl=new WeakMap,ko=new WeakMap,Po=new WeakMap,fi=new WeakMap,gl=new WeakMap,dt=new WeakSet,Dc=function(e){Ze(this,dt,Ey).call(this);let n=F(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(xr)),n},yy=function(){Ze(this,dt,_y).call(this);const e=Ga(this.options.staleTime,F(this,nt));if($o||F(this,Pn).isStale||!fy(e))return;const r=cS(F(this,Pn).dataUpdatedAt,e)+1;ve(this,ko,setTimeout(()=>{F(this,Pn).isStale||this.updateResult()},r))},vy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,nt)):this.options.refetchInterval)??!1},xy=function(e){Ze(this,dt,by).call(this),ve(this,fi,e),!($o||Mr(this.options.enabled,F(this,nt))===!1||!fy(F(this,fi))||F(this,fi)===0)&&ve(this,Po,setInterval(()=>{(this.options.refetchIntervalInBackground||_x.isFocused())&&Ze(this,dt,Dc).call(this)},F(this,fi)))},wy=function(){Ze(this,dt,yy).call(this),Ze(this,dt,xy).call(this,Ze(this,dt,vy).call(this))},_y=function(){F(this,ko)&&(clearTimeout(F(this,ko)),ve(this,ko,void 0))},by=function(){F(this,Po)&&(clearInterval(F(this,Po)),ve(this,Po,void 0))},Ey=function(){const e=F(this,Un).getQueryCache().build(F(this,Un),this.options);if(e===F(this,nt))return;const n=F(this,nt);ve(this,nt,e),ve(this,Yu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},vS=function(e){Zt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,Pn))}),F(this,Un).getQueryCache().notify({query:F(this,nt),type:"observerResultsUpdated"})})},OE);function GD(t,e){return Mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function a1(t,e){return GD(t,e)||t.state.data!==void 0&&Ty(t,e,e.refetchOnMount)}function Ty(t,e,n){if(Mr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&bx(t,e)}return!1}function l1(t,e,n,r){return(t!==e||Mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&bx(t,n)}function bx(t,e){return Mr(e.enabled,t)!==!1&&t.isStaleByTime(Ga(e.staleTime,t))}function ZD(t,e){return!df(t.getCurrentResult(),e)}var mi,pi,$n,Ns,Ps,Ah,Cy,VE,YD=(VE=class extends zl{constructor(n,r){super();Me(this,Ps);Me(this,mi);Me(this,pi);Me(this,$n);Me(this,Ns);ve(this,mi,n),this.setOptions(r),this.bindMethods(),Ze(this,Ps,Ah).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,mi).defaultMutationOptions(n),df(this.options,r)||F(this,mi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,$n),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bo(r.mutationKey)!==Bo(this.options.mutationKey)?this.reset():((s=F(this,$n))==null?void 0:s.state.status)==="pending"&&F(this,$n).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,$n))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,Ps,Ah).call(this),Ze(this,Ps,Cy).call(this,n)}getCurrentResult(){return F(this,pi)}reset(){var n;(n=F(this,$n))==null||n.removeObserver(this),ve(this,$n,void 0),Ze(this,Ps,Ah).call(this),Ze(this,Ps,Cy).call(this)}mutate(n,r){var s;return ve(this,Ns,r),(s=F(this,$n))==null||s.removeObserver(this),ve(this,$n,F(this,mi).getMutationCache().build(F(this,mi),this.options)),F(this,$n).addObserver(this),F(this,$n).execute(n)}},mi=new WeakMap,pi=new WeakMap,$n=new WeakMap,Ns=new WeakMap,Ps=new WeakSet,Ah=function(){var r;const n=((r=F(this,$n))==null?void 0:r.state)??yS();ve(this,pi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Cy=function(n){Zt.batch(()=>{var r,s,i,o,l,c,d,f;if(F(this,Ns)&&this.hasListeners()){const m=F(this,pi).variables,h=F(this,pi).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,Ns)).onSuccess)==null||s.call(r,n.data,m,h),(o=(i=F(this,Ns)).onSettled)==null||o.call(i,n.data,null,m,h)):(n==null?void 0:n.type)==="error"&&((c=(l=F(this,Ns)).onError)==null||c.call(l,n.error,m,h),(f=(d=F(this,Ns)).onSettled)==null||f.call(d,void 0,n.error,m,h))}this.listeners.forEach(m=>{m(F(this,pi))})})},VE),xS=x.createContext(void 0),ql=t=>{const e=x.useContext(xS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},c1=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(xS.Provider,{value:t,children:e})),wS=x.createContext(!1),XD=()=>x.useContext(wS);wS.Provider;function JD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var e4=x.createContext(JD()),t4=()=>x.useContext(e4);function _S(t,e){return typeof t=="function"?t(...e):!!t}function Sy(){}var n4=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},r4=t=>{x.useEffect(()=>{t.clearReset()},[t])},s4=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&_S(n,[t.error,r]),i4=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},o4=(t,e)=>t.isLoading&&t.isFetching&&!e,a4=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,u1=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function l4(t,e,n){var f,m,h,g,b;const r=ql(),s=XD(),i=t4(),o=r.defaultQueryOptions(t);(m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",i4(o),n4(o,i),r4(i);const l=!r.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(y=>{const E=s?Sy:c.subscribe(Zt.batchCalls(y));return c.updateResult(),E},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),a4(o,d))throw u1(o,c,i);if(s4({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((g=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,d),o.experimental_prefetchInRender&&!$o&&o4(d,s)){const y=l?u1(o,c,i):(b=r.getQueryCache().get(o.queryHash))==null?void 0:b.promise;y==null||y.catch(Sy).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ni(t,e){return l4(t,QD)}function Yt(t,e){const n=ql(),[r]=x.useState(()=>new YD(n,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(Zt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(Sy)},[r]);if(s.error&&_S(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function c4(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const u4=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await c4(n),await n.json())},d1=new KD({defaultOptions:{queries:{queryFn:u4({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),d4=1,h4=1e6;let Vp=0;function f4(){return Vp=(Vp+1)%Number.MAX_SAFE_INTEGER,Vp.toString()}const Mp=new Map,h1=t=>{if(Mp.has(t))return;const e=setTimeout(()=>{Mp.delete(t),Xc({type:"REMOVE_TOAST",toastId:t})},h4);Mp.set(t,e)},m4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,d4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?h1(n):t.toasts.forEach(r=>{h1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nh=[];let Ih={toasts:[]};function Xc(t){Ih=m4(Ih,t),Nh.forEach(e=>{e(Ih)})}function p4({...t}){const e=f4(),n=s=>Xc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Xc({type:"DISMISS_TOAST",toastId:e});return Xc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Hl(){const[t,e]=x.useState(Ih);return x.useEffect(()=>(Nh.push(e),()=>{const n=Nh.indexOf(e);n>-1&&Nh.splice(n,1)}),[t]),{...t,toast:p4,dismiss:n=>Xc({type:"DISMISS_TOAST",toastId:n})}}function We(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function f1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bS(...t){return e=>{let n=!1;const r=t.map(s=>{const i=f1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():f1(t[s],null)}}}}function yt(...t){return x.useCallback(bS(...t),t)}function g4(t,e){const n=x.createContext(e),r=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function oa(t,e=[]){let n=[];function r(i,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var _;const{scope:h,children:g,...b}=m,y=((_=h==null?void 0:h[t])==null?void 0:_[c])||l,E=x.useMemo(()=>b,Object.values(b));return a.jsx(y.Provider,{value:E,children:g})};d.displayName=i+"Provider";function f(m,h){var y;const g=((y=h==null?void 0:h[t])==null?void 0:y[c])||l,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,y4(s,...e)]}function y4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Cl(t){const e=v4(t),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,l=x.Children.toArray(i),c=l.find(w4);if(c){const d=c.props.children,f=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:s,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ES=Cl("Slot");function v4(t){const e=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=b4(s),l=_4(i,s.props);return s.type!==x.Fragment&&(l.ref=r?bS(r,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TS=Symbol("radix.slottable");function x4(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TS,e}function w4(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TS}function _4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function b4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function CS(t){const e=t+"CollectionProvider",[n,r]=oa(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:E,children:_}=y,v=ke.useRef(null),S=ke.useRef(new Map).current;return a.jsx(s,{scope:E,itemMap:S,collectionRef:v,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=Cl(l),d=ke.forwardRef((y,E)=>{const{scope:_,children:v}=y,S=i(l,_),P=yt(E,S.collectionRef);return a.jsx(c,{ref:P,children:v})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",h=Cl(f),g=ke.forwardRef((y,E)=>{const{scope:_,children:v,...S}=y,P=ke.useRef(null),D=yt(E,P),O=i(f,_);return ke.useEffect(()=>(O.itemMap.set(P,{ref:P,...S}),()=>void O.itemMap.delete(P))),a.jsx(h,{[m]:"",ref:D,children:v})});g.displayName=f;function b(y){const E=i(t+"CollectionConsumer",y);return ke.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((O,T)=>S.indexOf(O.ref.current)-S.indexOf(T.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},b,r]}var E4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=E4.reduce((t,e)=>{const n=Cl(`Primitive.${e}`),r=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SS(t,e){t&&ia.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function T4(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var C4="DismissableLayer",Ay="dismissableLayer.update",S4="dismissableLayer.pointerDownOutside",A4="dismissableLayer.focusOutside",m1,AS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),id=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(AS),[f,m]=x.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=x.useState({}),b=yt(e,T=>m(T)),y=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=f?y.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,D=I4(T=>{const C=T.target,A=[...d.branches].some(j=>j.contains(C));!P||A||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},h),O=j4(T=>{const C=T.target;[...d.branches].some(j=>j.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},h);return T4(T=>{v===d.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},h),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(m1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),p1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=m1)}},[f,h,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),p1())},[f,d]),x.useEffect(()=>{const T=()=>g({});return document.addEventListener(Ay,T),()=>document.removeEventListener(Ay,T)},[]),a.jsx(rt.div,{...c,ref:b,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:We(t.onFocusCapture,O.onFocusCapture),onBlurCapture:We(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:We(t.onPointerDownCapture,D.onPointerDownCapture)})});id.displayName=C4;var N4="DismissableLayerBranch",NS=x.forwardRef((t,e)=>{const n=x.useContext(AS),r=x.useRef(null),s=yt(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(rt.div,{...t,ref:s})});NS.displayName=N4;function I4(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){IS(S4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function j4(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&IS(A4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p1(){const t=new CustomEvent(Ay);document.dispatchEvent(t)}function IS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SS(s,i):s.dispatchEvent(i)}var k4=id,P4=NS,Nn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},R4="Portal",dm=x.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=x.useState(!1);Nn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tD.createPortal(a.jsx(rt.div,{...r,ref:e}),o):null});dm.displayName=R4;function D4(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var aa=t=>{const{present:e,children:n}=t,r=O4(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=yt(r.ref,V4(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};aa.displayName="Presence";function O4(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=D4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=rh(r.current);i.current=l==="mounted"?d:"none"},[l]),Nn(()=>{const d=r.current,f=s.current;if(f!==t){const h=i.current,g=rh(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Nn(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=g=>{const y=rh(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=g=>{g.target===e&&(i.current=rh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function rh(t){return(t==null?void 0:t.animationName)||"none"}function V4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Eu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=M4({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=fr(n),c=x.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else s(d)},[i,t,s,l]);return[o,c]}function M4({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),i=fr(e);return x.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var F4="VisuallyHidden",od=x.forwardRef((t,e)=>a.jsx(rt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));od.displayName=F4;var L4=od,Ex="ToastProvider",[Tx,U4,$4]=CS("Toast"),[jS,r8]=oa("Toast",[$4]),[B4,hm]=jS(Ex),kS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=x.useState(null),[d,f]=x.useState(0),m=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ex}\`. Expected non-empty \`string\`.`),a.jsx(Tx.Provider,{scope:e,children:a.jsx(B4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>f(g=>g+1),[]),onToastRemove:x.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};kS.displayName=Ex;var PS="ToastViewport",z4=["F8"],Ny="toast.viewportPause",Iy="toast.viewportResume",RS=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=z4,label:s="Notifications ({hotkey})",...i}=t,o=hm(PS,n),l=U4(n),c=x.useRef(null),d=x.useRef(null),f=x.useRef(null),m=x.useRef(null),h=yt(e,m,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((S=m.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),x.useEffect(()=>{const E=c.current,_=m.current;if(b&&E&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Ny);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Iy);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!E.contains(O.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",v),E.addEventListener("focusout",P),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:E})=>{const v=l().map(S=>{const P=S.ref.current,D=[P,...nO(P)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const E=m.current;if(E){const _=v=>{var D,O,T;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const C=document.activeElement,A=v.shiftKey;if(v.target===E&&A){(D=d.current)==null||D.focus();return}const k=y({tabbingDirection:A?"backwards":"forwards"}),I=k.findIndex(H=>H===C);Fp(k.slice(I+1))?v.preventDefault():A?(O=d.current)==null||O.focus():(T=f.current)==null||T.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[l,y]),a.jsxs(P4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(jy,{ref:d,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});Fp(E)}}),a.jsx(Tx.Slot,{scope:n,children:a.jsx(rt.ol,{tabIndex:-1,...i,ref:h})}),b&&a.jsx(jy,{ref:f,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});Fp(E)}})]})});RS.displayName=PS;var DS="ToastFocusProxy",jy=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=hm(DS,n);return a.jsx(od,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});jy.displayName=DS;var fm="Toast",q4="toast.swipeStart",H4="toast.swipeMove",W4="toast.swipeCancel",K4="toast.swipeEnd",OS=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=Eu({prop:r,defaultProp:s,onChange:i});return a.jsx(aa,{present:n||l,children:a.jsx(Z4,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:We(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:We(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});OS.displayName=fm;var[Q4,G4]=jS(fm,{onClose(){}}),Z4=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:g,...b}=t,y=hm(fm,n),[E,_]=x.useState(null),v=yt(e,H=>_(H)),S=x.useRef(null),P=x.useRef(null),D=s||y.duration,O=x.useRef(0),T=x.useRef(D),C=x.useRef(0),{onToastAdd:A,onToastRemove:j}=y,R=fr(()=>{var he;(E==null?void 0:E.contains(document.activeElement))&&((he=y.viewport)==null||he.focus()),o()}),k=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(R,H))},[R]);x.useEffect(()=>{const H=y.viewport;if(H){const he=()=>{k(T.current),d==null||d()},de=()=>{const pe=new Date().getTime()-O.current;T.current=T.current-pe,window.clearTimeout(C.current),c==null||c()};return H.addEventListener(Ny,de),H.addEventListener(Iy,he),()=>{H.removeEventListener(Ny,de),H.removeEventListener(Iy,he)}}},[y.viewport,D,c,d,k]),x.useEffect(()=>{i&&!y.isClosePausedRef.current&&k(D)},[i,D,y.isClosePausedRef,k]),x.useEffect(()=>(A(),()=>j()),[A,j]);const I=x.useMemo(()=>E?BS(E):null,[E]);return y.viewport?a.jsxs(a.Fragment,{children:[I&&a.jsx(Y4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),a.jsx(Q4,{scope:n,onClose:R,children:ia.createPortal(a.jsx(Tx.ItemSlot,{scope:n,children:a.jsx(k4,{asChild:!0,onEscapeKeyDown:We(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:We(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:We(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:We(t.onPointerMove,H=>{if(!S.current)return;const he=H.clientX-S.current.x,de=H.clientY-S.current.y,pe=!!P.current,M=["left","right"].includes(y.swipeDirection),K=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ee=M?K(0,he):0,ge=M?0:K(0,de),Ie=H.pointerType==="touch"?10:2,Ne={x:ee,y:ge},Ke={originalEvent:H,delta:Ne};pe?(P.current=Ne,sh(H4,m,Ke,{discrete:!1})):g1(Ne,y.swipeDirection,Ie)?(P.current=Ne,sh(q4,f,Ke,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(he)>Ie||Math.abs(de)>Ie)&&(S.current=null)}),onPointerUp:We(t.onPointerUp,H=>{const he=P.current,de=H.target;if(de.hasPointerCapture(H.pointerId)&&de.releasePointerCapture(H.pointerId),P.current=null,S.current=null,he){const pe=H.currentTarget,M={originalEvent:H,delta:he};g1(he,y.swipeDirection,y.swipeThreshold)?sh(K4,g,M,{discrete:!0}):sh(W4,h,M,{discrete:!0}),pe.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Y4=t=>{const{__scopeToast:e,children:n,...r}=t,s=hm(fm,e),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return eO(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(dm,{asChild:!0,children:a.jsx(od,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},X4="ToastTitle",VS=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(rt.div,{...r,ref:e})});VS.displayName=X4;var J4="ToastDescription",MS=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(rt.div,{...r,ref:e})});MS.displayName=J4;var FS="ToastAction",LS=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx($S,{altText:n,asChild:!0,children:a.jsx(Cx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FS}\`. Expected non-empty \`string\`.`),null)});LS.displayName=FS;var US="ToastClose",Cx=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=G4(US,n);return a.jsx($S,{asChild:!0,children:a.jsx(rt.button,{type:"button",...r,ref:e,onClick:We(t.onClick,s.onClose)})})});Cx.displayName=US;var $S=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function BS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...BS(r))}}),e}function sh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SS(s,i):s.dispatchEvent(i)}var g1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function eO(t=()=>{}){const e=fr(t);Nn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tO(t){return t.nodeType===t.ELEMENT_NODE}function nO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Fp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rO=kS,zS=RS,qS=OS,HS=VS,WS=MS,KS=LS,QS=Cx;function GS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=GS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=GS(t))&&(r&&(r+=" "),r+=e);return r}const y1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v1=ZS,mm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],m=i==null?void 0:i[d];if(f===null)return null;const h=y1(f)||y1(m);return s[d][h]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,h]=f;return h===void 0||(d[m]=h),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:m,className:h,...g}=f;return Object.entries(g).every(b=>{let[y,E]=b;return Array.isArray(E)?E.includes({...i,...l}[y]):{...i,...l}[y]===E})?[...d,m,h]:d},[]);return v1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...iO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YS("lucide",s),...l},[...o.map(([d,f])=>x.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(oO,{ref:i,iconNode:e,className:YS(`lucide-${sO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ut("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ut("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ut("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ut("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ut("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ut("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ut("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ut("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ut("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ut("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nx="-",yO=t=>{const e=xO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Nx);return l[0]===""&&l.length!==1&&l.shift(),tA(l,e)||vO(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},tA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?tA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Nx);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},b1=/^\[(.+)\]$/,vO=t=>{if(b1.test(t)){const e=b1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _O(Object.entries(t.classGroups),n).forEach(([i,o])=>{Py(o,r,i,e)}),r},Py=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:E1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wO(s)){Py(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Py(o,E1(e,i),n,r)})})},E1=(t,e)=>{let n=t;return e.split(Nx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wO=t=>t.isThemeGetter,_O=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,bO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},nA="!",EO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,f=0,m;for(let E=0;E<l.length;E++){let _=l[E];if(d===0){if(_===s&&(r||l.slice(E,E+i)===e)){c.push(l.slice(f,E)),f=E+i;continue}if(_==="/"){m=E;continue}}_==="["?d++:_==="]"&&d--}const h=c.length===0?l:l.substring(f),g=h.startsWith(nA),b=g?h.substring(1):h,y=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},TO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},CO=t=>({cache:bO(t.cacheSize),parseClassName:EO(t),...yO(t)}),SO=/\s+/,AO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(SO);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:g}=n(d);let b=!!g,y=r(b?h.substring(0,g):h);if(!y){if(!b){l=d+(l.length>0?" "+l:l);continue}if(y=r(h),!y){l=d+(l.length>0?" "+l:l);continue}b=!1}const E=TO(f).join(":"),_=m?E+nA:E,v=_+y;if(i.includes(v))continue;i.push(v);const S=s(y,b);for(let P=0;P<S.length;++P){const D=S[P];i.push(_+D)}l=d+(l.length>0?" "+l:l)}return l};function NO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=rA(e))&&(r&&(r+=" "),r+=n);return r}const rA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rA(t[r]))&&(n&&(n+=" "),n+=e);return n};function IO(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return n=CO(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=AO(c,n);return s(c,f),f}return function(){return i(NO.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},sA=/^\[(?:([a-z-]+):)?(.+)\]$/i,jO=/^\d+\/\d+$/,kO=new Set(["px","full","screen"]),PO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>Ya(t)||kO.has(t)||jO.test(t),Ys=t=>Wl(t,"length",qO),Ya=t=>!!t&&!Number.isNaN(Number(t)),zp=t=>Wl(t,"number",Ya),Sc=t=>!!t&&Number.isInteger(Number(t)),MO=t=>t.endsWith("%")&&Ya(t.slice(0,-1)),Ge=t=>sA.test(t),Xs=t=>PO.test(t),FO=new Set(["length","size","percentage"]),LO=t=>Wl(t,FO,iA),UO=t=>Wl(t,"position",iA),$O=new Set(["image","url"]),BO=t=>Wl(t,$O,WO),zO=t=>Wl(t,"",HO),Ac=()=>!0,Wl=(t,e,n)=>{const r=sA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qO=t=>RO.test(t)&&!DO.test(t),iA=()=>!1,HO=t=>OO.test(t),WO=t=>VO.test(t),KO=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),s=xt("borderColor"),i=xt("borderRadius"),o=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),d=xt("grayscale"),f=xt("hueRotate"),m=xt("invert"),h=xt("gap"),g=xt("gradientColorStops"),b=xt("gradientColorStopPositions"),y=xt("inset"),E=xt("margin"),_=xt("opacity"),v=xt("padding"),S=xt("saturate"),P=xt("scale"),D=xt("sepia"),O=xt("skew"),T=xt("space"),C=xt("translate"),A=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ge,e],k=()=>[Ge,e],I=()=>["",_s,Ys],H=()=>["auto",Ya,Ge],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ge],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Ya,Ge];return{cacheSize:500,separator:":",theme:{colors:[Ac],spacing:[_s,Ys],blur:["none","",Xs,Ge],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Xs,Ge],borderSpacing:k(),borderWidth:I(),contrast:ge(),grayscale:K(),hueRotate:ge(),invert:K(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[MO,Ys],inset:R(),margin:R(),opacity:ge(),padding:k(),saturate:ge(),scale:ge(),sepia:K(),skew:ge(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),Ge]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sc,Ge]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Sc,Ge]}],"grid-cols":[{"grid-cols":[Ac]}],"col-start-end":[{col:["auto",{span:["full",Sc,Ge]},Ge]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ac]}],"row-start-end":[{row:["auto",{span:[Sc,Ge]},Ge]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[Ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Ya,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,Ys]}],"underline-offset":[{"underline-offset":["auto",_s,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),UO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:de()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[_s,Ge]}],"outline-w":[{outline:[_s,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[_s,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,zO]}],"shadow-color":[{shadow:[Ac]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xs,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Sc,Ge]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_s,Ys,zp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QO=IO(KO);function $e(...t){return QO(ZS(t))}const GO=rO,oA=x.forwardRef(({className:t,...e},n)=>a.jsx(zS,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));oA.displayName=zS.displayName;const ZO=mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aA=x.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(qS,{ref:r,className:$e(ZO({variant:e}),t),...n}));aA.displayName=qS.displayName;const YO=x.forwardRef(({className:t,...e},n)=>a.jsx(KS,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));YO.displayName=KS.displayName;const lA=x.forwardRef(({className:t,...e},n)=>a.jsx(QS,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Sl,{className:"h-4 w-4"})}));lA.displayName=QS.displayName;const cA=x.forwardRef(({className:t,...e},n)=>a.jsx(HS,{ref:n,className:$e("text-sm font-semibold",t),...e}));cA.displayName=HS.displayName;const uA=x.forwardRef(({className:t,...e},n)=>a.jsx(WS,{ref:n,className:$e("text-sm opacity-90",t),...e}));uA.displayName=WS.displayName;function T1(){const{toasts:t}=Hl();return a.jsxs(GO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(aA,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(cA,{children:n}),r&&a.jsx(uA,{children:r})]}),s,a.jsx(lA,{})]},e)}),a.jsx(oA,{})]})}var XO=QE[" useId ".trim().toString()]||(()=>{}),JO=0;function Xa(t){const[e,n]=x.useState(XO());return Nn(()=>{n(r=>r??String(JO++))},[t]),e?`radix-${e}`:""}const eV=["top","right","bottom","left"],Fi=Math.min,ir=Math.max,mf=Math.round,ih=Math.floor,ls=t=>({x:t,y:t}),tV={left:"right",right:"left",bottom:"top",top:"bottom"},nV={start:"end",end:"start"};function Ry(t,e,n){return ir(t,Fi(e,n))}function Ms(t,e){return typeof t=="function"?t(e):t}function Fs(t){return t.split("-")[0]}function Kl(t){return t.split("-")[1]}function Ix(t){return t==="x"?"y":"x"}function jx(t){return t==="y"?"height":"width"}function Li(t){return["top","bottom"].includes(Fs(t))?"y":"x"}function kx(t){return Ix(Li(t))}function rV(t,e,n){n===void 0&&(n=!1);const r=Kl(t),s=kx(t),i=jx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=pf(o)),[o,pf(o)]}function sV(t){const e=pf(t);return[Dy(t),e,Dy(e)]}function Dy(t){return t.replace(/start|end/g,e=>nV[e])}function iV(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function oV(t,e,n,r){const s=Kl(t);let i=iV(Fs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dy)))),i}function pf(t){return t.replace(/left|right|bottom|top/g,e=>tV[e])}function aV(t){return{top:0,right:0,bottom:0,left:0,...t}}function dA(t){return typeof t!="number"?aV(t):{top:t,right:t,bottom:t,left:t}}function gf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function C1(t,e,n){let{reference:r,floating:s}=t;const i=Li(e),o=kx(e),l=jx(o),c=Fs(e),d=i==="y",f=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:r.y-s.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-s.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Kl(e)){case"start":g[o]-=h*(n&&d?-1:1);break;case"end":g[o]+=h*(n&&d?-1:1);break}return g}const lV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:m}=C1(d,r,c),h=r,g={},b=0;for(let y=0;y<l.length;y++){const{name:E,fn:_}=l[y],{x:v,y:S,data:P,reset:D}=await _({x:f,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});f=v??f,m=S??m,g={...g,[E]:{...g[E],...P}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:f,y:m}=C1(d,h,c)),y=-1)}return{x:f,y:m,placement:h,strategy:s,middlewareData:g}};async function Cu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:h=!1,padding:g=0}=Ms(e,t),b=dA(g),E=l[h?m==="floating"?"reference":"floating":m],_=gf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),v=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=gf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:S,strategy:c}):v);return{top:(_.top-D.top+b.top)/P.y,bottom:(D.bottom-_.bottom+b.bottom)/P.y,left:(_.left-D.left+b.left)/P.x,right:(D.right-_.right+b.right)/P.x}}const cV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=Ms(t,e)||{};if(d==null)return{};const m=dA(f),h={x:n,y:r},g=kx(s),b=jx(g),y=await o.getDimensions(d),E=g==="y",_=E?"top":"left",v=E?"bottom":"right",S=E?"clientHeight":"clientWidth",P=i.reference[b]+i.reference[g]-h[g]-i.floating[b],D=h[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=O?O[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=l.floating[S]||i.floating[b]);const C=P/2-D/2,A=T/2-y[b]/2-1,j=Fi(m[_],A),R=Fi(m[v],A),k=j,I=T-y[b]-R,H=T/2-y[b]/2+C,he=Ry(k,H,I),de=!c.arrow&&Kl(s)!=null&&H!==he&&i.reference[b]/2-(H<k?j:R)-y[b]/2<0,pe=de?H<k?H-k:H-I:0;return{[g]:h[g]+pe,data:{[g]:he,centerOffset:H-he-pe,...de&&{alignmentOffset:pe}},reset:de}}}),uV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...E}=Ms(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Fs(s),v=Li(l),S=Fs(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=h||(S||!y?[pf(l)]:sV(l)),O=b!=="none";!h&&O&&D.push(...oV(l,y,b,P));const T=[l,...D],C=await Cu(e,E),A=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&A.push(C[_]),m){const H=rV(s,o,P);A.push(C[H[0]],C[H[1]])}if(j=[...j,{placement:s,overflows:A}],!A.every(H=>H<=0)){var R,k;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,he=T[H];if(he)return{data:{index:H,overflows:j},reset:{placement:he}};let de=(k=j.filter(pe=>pe.overflows[0]<=0).sort((pe,M)=>pe.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!de)switch(g){case"bestFit":{var I;const pe=(I=j.filter(M=>{if(O){const K=Li(M.placement);return K===v||K==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(K=>K>0).reduce((K,ee)=>K+ee,0)]).sort((M,K)=>M[1]-K[1])[0])==null?void 0:I[0];pe&&(de=pe);break}case"initialPlacement":de=l;break}if(s!==de)return{reset:{placement:de}}}return{}}}};function S1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A1(t){return eV.some(e=>t[e]>=0)}const dV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ms(t,e);switch(r){case"referenceHidden":{const i=await Cu(e,{...s,elementContext:"reference"}),o=S1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A1(o)}}}case"escaped":{const i=await Cu(e,{...s,altBoundary:!0}),o=S1(i,n.floating);return{data:{escapedOffsets:o,escaped:A1(o)}}}default:return{}}}}};async function hV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fs(n),l=Kl(n),c=Li(n)==="y",d=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,m=Ms(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*f,y:h*d}:{x:h*d,y:g*f}}const fV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await hV(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},mV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...c}=Ms(t,e),d={x:n,y:r},f=await Cu(e,c),m=Li(Fs(s)),h=Ix(m);let g=d[h],b=d[m];if(i){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=g+f[E],S=g-f[_];g=Ry(v,g,S)}if(o){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=b+f[E],S=b-f[_];b=Ry(v,b,S)}const y=l.fn({...e,[h]:g,[m]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[m]:o}}}}}},pV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ms(t,e),f={x:n,y:r},m=Li(s),h=Ix(m);let g=f[h],b=f[m];const y=Ms(l,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const S=h==="y"?"height":"width",P=i.reference[h]-i.floating[S]+E.mainAxis,D=i.reference[h]+i.reference[S]-E.mainAxis;g<P?g=P:g>D&&(g=D)}if(d){var _,v;const S=h==="y"?"width":"height",P=["top","left"].includes(Fs(s)),D=i.reference[m]-i.floating[S]+(P&&((_=o.offset)==null?void 0:_[m])||0)+(P?0:E.crossAxis),O=i.reference[m]+i.reference[S]+(P?0:((v=o.offset)==null?void 0:v[m])||0)-(P?E.crossAxis:0);b<D?b=D:b>O&&(b=O)}return{[h]:g,[m]:b}}}},gV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ms(t,e),f=await Cu(e,d),m=Fs(s),h=Kl(s),g=Li(s)==="y",{width:b,height:y}=i.floating;let E,_;m==="top"||m==="bottom"?(E=m,_=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=m,E=h==="end"?"top":"bottom");const v=y-f.top-f.bottom,S=b-f.left-f.right,P=Fi(y-f[E],v),D=Fi(b-f[_],S),O=!e.middlewareData.shift;let T=P,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),O&&!h){const j=ir(f.left,0),R=ir(f.right,0),k=ir(f.top,0),I=ir(f.bottom,0);g?C=b-2*(j!==0||R!==0?j+R:ir(f.left,f.right)):T=y-2*(k!==0||I!==0?k+I:ir(f.top,f.bottom))}await c({...e,availableWidth:C,availableHeight:T});const A=await o.getDimensions(l.floating);return b!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function pm(){return typeof window<"u"}function Ql(t){return hA(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vs(t){var e;return(e=(hA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hA(t){return pm()?t instanceof Node||t instanceof cr(t).Node:!1}function Hr(t){return pm()?t instanceof Element||t instanceof cr(t).Element:!1}function ms(t){return pm()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function N1(t){return!pm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}function ad(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function yV(t){return["table","td","th"].includes(Ql(t))}function gm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Px(t){const e=Rx(),n=Hr(t)?Wr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vV(t){let e=Ui(t);for(;ms(e)&&!Al(e);){if(Px(e))return e;if(gm(e))return null;e=Ui(e)}return null}function Rx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Al(t){return["html","body","#document"].includes(Ql(t))}function Wr(t){return cr(t).getComputedStyle(t)}function ym(t){return Hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ui(t){if(Ql(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N1(t)&&t.host||vs(t);return N1(e)?e.host:e}function fA(t){const e=Ui(t);return Al(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&ad(e)?e:fA(e)}function Su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=fA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=cr(s);if(i){const l=Oy(o);return e.concat(o,o.visualViewport||[],ad(s)?s:[],l&&n?Su(l):[])}return e.concat(s,Su(s,[],n))}function Oy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mA(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ms(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=mf(n)!==i||mf(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Dx(t){return Hr(t)?t:t.contextElement}function Ja(t){const e=Dx(t);if(!ms(e))return ls(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=mA(e);let o=(i?mf(n.width):n.width)/r,l=(i?mf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const xV=ls(0);function pA(t){const e=cr(t);return!Rx()||!e.visualViewport?xV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function qo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Dx(t);let o=ls(1);e&&(r?Hr(r)&&(o=Ja(r)):o=Ja(t));const l=wV(i,n,r)?pA(i):ls(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(i){const h=cr(i),g=r&&Hr(r)?cr(r):r;let b=h,y=Oy(b);for(;y&&r&&g!==b;){const E=Ja(y),_=y.getBoundingClientRect(),v=Wr(y),S=_.left+(y.clientLeft+parseFloat(v.paddingLeft))*E.x,P=_.top+(y.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,d*=E.y,f*=E.x,m*=E.y,c+=S,d+=P,b=cr(y),y=Oy(b)}}return gf({width:f,height:m,x:c,y:d})}function Ox(t,e){const n=ym(t).scrollLeft;return e?e.left+n:qo(vs(t)).left+n}function gA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ox(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function _V(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=vs(r),l=e?gm(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ls(1);const f=ls(0),m=ms(r);if((m||!m&&!i)&&((Ql(r)!=="body"||ad(o))&&(c=ym(r)),ms(r))){const g=qo(r);d=Ja(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const h=o&&!m&&!i?gA(o,c,!0):ls(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+h.x,y:n.y*d.y-c.scrollTop*d.y+f.y+h.y}}function bV(t){return Array.from(t.getClientRects())}function EV(t){const e=vs(t),n=ym(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ox(t);const l=-n.scrollTop;return Wr(r).direction==="rtl"&&(o+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function TV(t,e){const n=cr(t),r=vs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=Rx();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function CV(t,e){const n=qo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ms(t)?Ja(t):ls(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function I1(t,e,n){let r;if(e==="viewport")r=TV(t,n);else if(e==="document")r=EV(vs(t));else if(Hr(e))r=CV(e,n);else{const s=pA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return gf(r)}function yA(t,e){const n=Ui(t);return n===e||!Hr(n)||Al(n)?!1:Wr(n).position==="fixed"||yA(n,e)}function SV(t,e){const n=e.get(t);if(n)return n;let r=Su(t,[],!1).filter(l=>Hr(l)&&Ql(l)!=="body"),s=null;const i=Wr(t).position==="fixed";let o=i?Ui(t):t;for(;Hr(o)&&!Al(o);){const l=Wr(o),c=Px(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ad(o)&&!c&&yA(t,o))?r=r.filter(f=>f!==o):s=l,o=Ui(o)}return e.set(t,r),r}function AV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?gm(e)?[]:SV(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const m=I1(e,f,s);return d.top=ir(m.top,d.top),d.right=Fi(m.right,d.right),d.bottom=Fi(m.bottom,d.bottom),d.left=ir(m.left,d.left),d},I1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NV(t){const{width:e,height:n}=mA(t);return{width:e,height:n}}function IV(t,e,n){const r=ms(e),s=vs(e),i=n==="fixed",o=qo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=ls(0);if(r||!r&&!i)if((Ql(e)!=="body"||ad(s))&&(l=ym(e)),r){const h=qo(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=Ox(s));const d=s&&!r&&!i?gA(s,l):ls(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function qp(t){return Wr(t).position==="static"}function j1(t,e){if(!ms(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vs(t)===n&&(n=n.ownerDocument.body),n}function vA(t,e){const n=cr(t);if(gm(t))return n;if(!ms(t)){let s=Ui(t);for(;s&&!Al(s);){if(Hr(s)&&!qp(s))return s;s=Ui(s)}return n}let r=j1(t,e);for(;r&&yV(r)&&qp(r);)r=j1(r,e);return r&&Al(r)&&qp(r)&&!Px(r)?n:r||vV(t)||n}const jV=async function(t){const e=this.getOffsetParent||vA,n=this.getDimensions,r=await n(t.floating);return{reference:IV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kV(t){return Wr(t).direction==="rtl"}const PV={convertOffsetParentRelativeRectToViewportRelativeRect:_V,getDocumentElement:vs,getClippingRect:AV,getOffsetParent:vA,getElementRects:jV,getClientRects:bV,getDimensions:NV,getScale:Ja,isElement:Hr,isRTL:kV};function xA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RV(t,e){let n=null,r;const s=vs(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:f,top:m,width:h,height:g}=d;if(l||e(),!h||!g)return;const b=ih(m),y=ih(s.clientWidth-(f+h)),E=ih(s.clientHeight-(m+g)),_=ih(f),S={rootMargin:-b+"px "+-y+"px "+-E+"px "+-_+"px",threshold:ir(0,Fi(1,c))||1};let P=!0;function D(O){const T=O[0].intersectionRatio;if(T!==c){if(!P)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!xA(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return o(!0),i}function DV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Dx(t),f=s||i?[...d?Su(d):[],...Su(e)]:[];f.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const m=d&&l?RV(d,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(_=>{let[v]=_;v&&v.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),d&&!c&&g.observe(d),g.observe(e));let b,y=c?qo(t):null;c&&E();function E(){const _=qo(t);y&&!xA(y,_)&&n(),y=_,b=requestAnimationFrame(E)}return n(),()=>{var _;f.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m==null||m(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const OV=fV,VV=mV,MV=uV,FV=gV,LV=dV,k1=cV,UV=pV,$V=(t,e,n)=>{const r=new Map,s={platform:PV,...n},i={...s.platform,_c:r};return lV(t,e,{...s,platform:i})};var jh=typeof document<"u"?x.useLayoutEffect:x.useEffect;function yf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!yf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P1(t,e){const n=wA(t);return Math.round(e*n)/n}function Hp(t){const e=x.useRef(t);return jh(()=>{e.current=t}),e}function BV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=x.useState(r);yf(h,r)||g(r);const[b,y]=x.useState(null),[E,_]=x.useState(null),v=x.useCallback(M=>{M!==O.current&&(O.current=M,y(M))},[]),S=x.useCallback(M=>{M!==T.current&&(T.current=M,_(M))},[]),P=i||b,D=o||E,O=x.useRef(null),T=x.useRef(null),C=x.useRef(f),A=c!=null,j=Hp(c),R=Hp(s),k=Hp(d),I=x.useCallback(()=>{if(!O.current||!T.current)return;const M={placement:e,strategy:n,middleware:h};R.current&&(M.platform=R.current),$V(O.current,T.current,M).then(K=>{const ee={...K,isPositioned:k.current!==!1};H.current&&!yf(C.current,ee)&&(C.current=ee,ia.flushSync(()=>{m(ee)}))})},[h,e,n,R,k]);jh(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[d]);const H=x.useRef(!1);jh(()=>(H.current=!0,()=>{H.current=!1}),[]),jh(()=>{if(P&&(O.current=P),D&&(T.current=D),P&&D){if(j.current)return j.current(P,D,I);I()}},[P,D,I,j,A]);const he=x.useMemo(()=>({reference:O,floating:T,setReference:v,setFloating:S}),[v,S]),de=x.useMemo(()=>({reference:P,floating:D}),[P,D]),pe=x.useMemo(()=>{const M={position:n,left:0,top:0};if(!de.floating)return M;const K=P1(de.floating,f.x),ee=P1(de.floating,f.y);return l?{...M,transform:"translate("+K+"px, "+ee+"px)",...wA(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ee}},[n,l,de.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:I,refs:he,elements:de,floatingStyles:pe}),[f,I,he,de,pe])}const zV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k1({element:r.current,padding:s}).fn(n):{}:r?k1({element:r,padding:s}).fn(n):{}}}},qV=(t,e)=>({...OV(t),options:[t,e]}),HV=(t,e)=>({...VV(t),options:[t,e]}),WV=(t,e)=>({...UV(t),options:[t,e]}),KV=(t,e)=>({...MV(t),options:[t,e]}),QV=(t,e)=>({...FV(t),options:[t,e]}),GV=(t,e)=>({...LV(t),options:[t,e]}),ZV=(t,e)=>({...zV(t),options:[t,e]});var YV="Arrow",_A=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(rt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_A.displayName=YV;var XV=_A;function bA(t){const[e,n]=x.useState(void 0);return Nn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vx="Popper",[EA,vm]=oa(Vx),[JV,TA]=EA(Vx),CA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return a.jsx(JV,{scope:e,anchor:r,onAnchorChange:s,children:n})};CA.displayName=Vx;var SA="PopperAnchor",AA=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=TA(SA,n),o=x.useRef(null),l=yt(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(rt.div,{...s,ref:l})});AA.displayName=SA;var Mx="PopperContent",[eM,tM]=EA(Mx),NA=x.forwardRef((t,e)=>{var ie,Pe,$,Q,q,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:b,...y}=t,E=TA(Mx,n),[_,v]=x.useState(null),S=yt(e,X=>v(X)),[P,D]=x.useState(null),O=bA(P),T=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,A=r+(i!=="center"?"-"+i:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(d)?d:[d],k=R.length>0,I={padding:j,boundary:R.filter(rM),altBoundary:k},{refs:H,floatingStyles:he,placement:de,isPositioned:pe,middlewareData:M}=BV({strategy:"fixed",placement:A,whileElementsMounted:(...X)=>DV(...X,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[qV({mainAxis:s+C,alignmentAxis:o}),c&&HV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?WV():void 0,...I}),c&&KV({...I}),QV({...I,apply:({elements:X,rects:He,availableWidth:St,availableHeight:tn})=>{const{width:an,height:oe}=He.reference,Oe=X.floating.style;Oe.setProperty("--radix-popper-available-width",`${St}px`),Oe.setProperty("--radix-popper-available-height",`${tn}px`),Oe.setProperty("--radix-popper-anchor-width",`${an}px`),Oe.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),P&&ZV({element:P,padding:l}),sM({arrowWidth:T,arrowHeight:C}),h&&GV({strategy:"referenceHidden",...I})]}),[K,ee]=kA(de),ge=fr(b);Nn(()=>{pe&&(ge==null||ge())},[pe,ge]);const Ie=(ie=M.arrow)==null?void 0:ie.x,Ne=(Pe=M.arrow)==null?void 0:Pe.y,Ke=(($=M.arrow)==null?void 0:$.centerOffset)!==0,[se,De]=x.useState();return Nn(()=>{_&&De(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:pe?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Q=M.transformOrigin)==null?void 0:Q.x,(q=M.transformOrigin)==null?void 0:q.y].join(" "),...((le=M.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(eM,{scope:n,placedSide:K,onArrowChange:D,arrowX:Ie,arrowY:Ne,shouldHideArrow:Ke,children:a.jsx(rt.div,{"data-side":K,"data-align":ee,...y,ref:S,style:{...y.style,animation:pe?void 0:"none"}})})})});NA.displayName=Mx;var IA="PopperArrow",nM={top:"bottom",right:"left",bottom:"top",left:"right"},jA=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=tM(IA,r),o=nM[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(XV,{...s,ref:n,style:{...s.style,display:"block"}})})});jA.displayName=IA;function rM(t){return t!==null}var sM=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=kA(n),m={start:"0%",center:"50%",end:"100%"}[f],h=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",y="";return d==="bottom"?(b=o?m:`${h}px`,y=`${-c}px`):d==="top"?(b=o?m:`${h}px`,y=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,y=o?m:`${g}px`):d==="left"&&(b=`${r.floating.width+c}px`,y=o?m:`${g}px`),{data:{x:b,y}}}});function kA(t){const[e,n="center"]=t.split("-");return[e,n]}var iM=CA,PA=AA,RA=NA,DA=jA,[xm,s8]=oa("Tooltip",[vm]),Fx=vm(),OA="TooltipProvider",oM=700,R1="tooltip.open",[aM,VA]=xm(OA),MA=t=>{const{__scopeTooltip:e,delayDuration:n=oM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(aM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};MA.displayName=OA;var FA="Tooltip",[i8,wm]=xm(FA),Vy="TooltipTrigger",lM=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wm(Vy,n),i=VA(Vy,n),o=Fx(n),l=x.useRef(null),c=yt(e,l,s.onTriggerChange),d=x.useRef(!1),f=x.useRef(!1),m=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(PA,{asChild:!0,...o,children:a.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:We(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:We(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:We(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:We(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:We(t.onBlur,s.onClose),onClick:We(t.onClick,s.onClose)})})});lM.displayName=Vy;var cM="TooltipPortal",[o8,uM]=xm(cM,{forceMount:void 0}),Nl="TooltipContent",LA=x.forwardRef((t,e)=>{const n=uM(Nl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=wm(Nl,t.__scopeTooltip);return a.jsx(aa,{present:r||o.open,children:o.disableHoverableContent?a.jsx(UA,{side:s,...i,ref:e}):a.jsx(dM,{side:s,...i,ref:e})})}),dM=x.forwardRef((t,e)=>{const n=wm(Nl,t.__scopeTooltip),r=VA(Nl,t.__scopeTooltip),s=x.useRef(null),i=yt(e,s),[o,l]=x.useState(null),{trigger:c,onClose:d}=n,f=s.current,{onPointerInTransitChange:m}=r,h=x.useCallback(()=>{l(null),m(!1)},[m]),g=x.useCallback((b,y)=>{const E=b.currentTarget,_={x:b.clientX,y:b.clientY},v=gM(_,E.getBoundingClientRect()),S=yM(_,v),P=vM(y.getBoundingClientRect()),D=wM([...S,...P]);l(D),m(!0)},[m]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&f){const b=E=>g(E,f),y=E=>g(E,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",y)}}},[c,f,g,h]),x.useEffect(()=>{if(o){const b=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},v=(c==null?void 0:c.contains(E))||(f==null?void 0:f.contains(E)),S=!xM(_,o);v?h():S&&(h(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,d,h]),a.jsx(UA,{...t,ref:i})}),[hM,fM]=xm(FA,{isInside:!1}),mM=x4("TooltipContent"),UA=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=wm(Nl,n),d=Fx(n),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(R1,f),()=>document.removeEventListener(R1,f)),[f]),x.useEffect(()=>{if(c.trigger){const m=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),a.jsx(id,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:a.jsxs(RA,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(mM,{children:r}),a.jsx(hM,{scope:n,isInside:!0,children:a.jsx(L4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});LA.displayName=Nl;var $A="TooltipArrow",pM=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fx(n);return fM($A,n).isInside?null:a.jsx(DA,{...s,...r,ref:e})});pM.displayName=$A;function gM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function xM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,f=e[o].y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function wM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_M(e)}function _M(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bM=MA,BA=LA;const D1=bM,EM=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(BA,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));EM.displayName=BA.displayName;const TM=()=>{};var O1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,m=(i&3)<<4|l>>4;let h=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(h=64)),r.push(n[f],n[m],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new SM;const h=i<<2|l>>4;if(r.push(h),d!==64){const g=l<<4&240|d>>2;if(r.push(g),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AM=function(t){const e=zA(t);return qA.encodeByteArray(e,!0)},vf=function(t){return AM(t).replace(/\./g,"")},NM=function(t){try{return qA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=()=>IM().__FIREBASE_DEFAULTS__,kM=()=>{if(typeof process>"u"||typeof O1>"u")return;const t=O1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NM(t[1]);return e&&JSON.parse(e)},Lx=()=>{try{return TM()||jM()||kM()||PM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RM=t=>{var e,n;return(n=(e=Lx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DM=t=>{const e=RM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HA=()=>{var t;return(t=Lx())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){return t.endsWith(".cloudworkstations.dev")}async function VM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vf(JSON.stringify(n)),vf(JSON.stringify(o)),""].join(".")}const Jc={};function FM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function LM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V1=!1;function UM(t,e){if(typeof window>"u"||typeof document>"u"||!Ux(window.location.host)||Jc[t]===e||Jc[t]||V1)return;Jc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=FM().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{V1=!0,o()},h}function f(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=LM(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;l(S),f(E,y);const P=d();c(v,_),S.append(v,b,E,P),document.body.appendChild(S)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BM(){var t;const e=(t=Lx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qM(){return!BM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function HM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="FirebaseError";class so extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WM,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_m.prototype.create)}}class _m{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?KM(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new so(s,l,r)}}function KM(t,e){return t.replace(QM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QM=/\{\$([^}]+)}/g;function Au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(M1(i)&&M1(o)){if(!Au(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function M1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=1e3,ZM=2,YM=4*60*60*1e3,XM=.5;function F1(t,e=GM,n=ZM){const r=e*Math.pow(n,t),s=Math.round(XM*r*(Math.random()-.5)*2);return Math.min(YM,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tF(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eF(t){return t===yo?void 0:t}function tF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const rF={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},sF=it.INFO,iF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},oF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $x{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=oF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const aF=(t,e)=>e.some(n=>t instanceof n);let L1,U1;function lF(){return L1||(L1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QA=new WeakMap,My=new WeakMap,GA=new WeakMap,Wp=new WeakMap,Bx=new WeakMap;function uF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ji(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QA.set(n,t)}).catch(()=>{}),Bx.set(e,t),e}function dF(t){if(My.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});My.set(t,e)}let Fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return My.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hF(t){Fy=t(Fy)}function fF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return GA.set(r,e.sort?e.sort():[e]),ji(r)}:cF().includes(t)?function(...e){return t.apply(Kp(this),e),ji(QA.get(this))}:function(...e){return ji(t.apply(Kp(this),e))}}function mF(t){return typeof t=="function"?fF(t):(t instanceof IDBTransaction&&dF(t),aF(t,lF())?new Proxy(t,Fy):t)}function ji(t){if(t instanceof IDBRequest)return uF(t);if(Wp.has(t))return Wp.get(t);const e=mF(t);return e!==t&&(Wp.set(t,e),Bx.set(e,t)),e}const Kp=t=>Bx.get(t);function ZA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ji(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ji(o.result),c.oldVersion,c.newVersion,ji(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const pF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],Qp=new Map;function $1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pF.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Qp.set(e,i),i}hF(t=>({...t,get:(e,n,r)=>$1(e,n)||t.get(e,n,r),has:(e,n)=>!!$1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ly="@firebase/app",B1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new $x("@firebase/app"),xF="@firebase/app-compat",wF="@firebase/analytics-compat",_F="@firebase/analytics",bF="@firebase/app-check-compat",EF="@firebase/app-check",TF="@firebase/auth",CF="@firebase/auth-compat",SF="@firebase/database",AF="@firebase/data-connect",NF="@firebase/database-compat",IF="@firebase/functions",jF="@firebase/functions-compat",kF="@firebase/installations",PF="@firebase/installations-compat",RF="@firebase/messaging",DF="@firebase/messaging-compat",OF="@firebase/performance",VF="@firebase/performance-compat",MF="@firebase/remote-config",FF="@firebase/remote-config-compat",LF="@firebase/storage",UF="@firebase/storage-compat",$F="@firebase/firestore",BF="@firebase/ai",zF="@firebase/firestore-compat",qF="firebase",HF="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="[DEFAULT]",WF={[Ly]:"fire-core",[xF]:"fire-core-compat",[_F]:"fire-analytics",[wF]:"fire-analytics-compat",[EF]:"fire-app-check",[bF]:"fire-app-check-compat",[TF]:"fire-auth",[CF]:"fire-auth-compat",[SF]:"fire-rtdb",[AF]:"fire-data-connect",[NF]:"fire-rtdb-compat",[IF]:"fire-fn",[jF]:"fire-fn-compat",[kF]:"fire-iid",[PF]:"fire-iid-compat",[RF]:"fire-fcm",[DF]:"fire-fcm-compat",[OF]:"fire-perf",[VF]:"fire-perf-compat",[MF]:"fire-rc",[FF]:"fire-rc-compat",[LF]:"fire-gcs",[UF]:"fire-gcs-compat",[$F]:"fire-fst",[zF]:"fire-fst-compat",[BF]:"fire-vertex","fire-js":"fire-js",[qF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,KF=new Map,$y=new Map;function z1(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if($y.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of xf.values())z1(n,t);for(const n of KF.values())z1(n,t);return!0}function ld(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function QF(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new _m("app","Firebase",GF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=HF;function YA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ki.create("bad-app-name",{appName:String(s)});if(n||(n=HA()),!n)throw ki.create("no-options");const i=xf.get(s);if(i){if(Au(n,i.options)&&Au(r,i.config))return i;throw ki.create("duplicate-app",{appName:s})}const o=new nF(s);for(const c of $y.values())o.addComponent(c);const l=new ZF(n,r,o);return xf.set(s,l),l}function XA(t=Uy){const e=xf.get(t);if(!e&&t===Uy&&HA())return YA();if(!e)throw ki.create("no-app",{appName:t});return e}function cs(t,e,n){var r;let s=(r=WF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}$i(new Ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="firebase-heartbeat-database",JF=1,Nu="firebase-heartbeat-store";let Gp=null;function JA(){return Gp||(Gp=ZA(XF,JF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function eL(t){try{const n=(await JA()).transaction(Nu),r=await n.objectStore(Nu).get(eN(t));return await n.done,r}catch(e){if(e instanceof so)Us.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function q1(t,e){try{const r=(await JA()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,eN(t)),await r.done}catch(n){if(n instanceof so)Us.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function eN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,nL=30;class rL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=H1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>nL){const o=oL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H1(),{heartbeatsToSend:r,unsentEntries:s}=sL(this._heartbeatsCache.heartbeats),i=vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function H1(){return new Date().toISOString().substring(0,10)}function sL(t,e=tL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),W1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W1(t){return vf(JSON.stringify({version:2,heartbeats:t})).length}function oL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){$i(new Ls("platform-logger",e=>new yF(e),"PRIVATE")),$i(new Ls("heartbeat",e=>new rL(e),"PRIVATE")),cs(Ly,B1,t),cs(Ly,B1,"esm2017"),cs("fire-js","")}aL("");var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,tN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function A(){}A.prototype=C.prototype,T.D=C.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(j,R,k){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return C.prototype[R].apply(j,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,C,A){A||(A=0);var j=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)j[R]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(R=0;16>R;++R)j[R]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=T.g[0],A=T.g[1],R=T.g[2];var k=T.g[3],I=C+(k^A&(R^k))+j[0]+3614090360&4294967295;C=A+(I<<7&4294967295|I>>>25),I=k+(R^C&(A^R))+j[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=R+(A^k&(C^A))+j[2]+606105819&4294967295,R=k+(I<<17&4294967295|I>>>15),I=A+(C^R&(k^C))+j[3]+3250441966&4294967295,A=R+(I<<22&4294967295|I>>>10),I=C+(k^A&(R^k))+j[4]+4118548399&4294967295,C=A+(I<<7&4294967295|I>>>25),I=k+(R^C&(A^R))+j[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=R+(A^k&(C^A))+j[6]+2821735955&4294967295,R=k+(I<<17&4294967295|I>>>15),I=A+(C^R&(k^C))+j[7]+4249261313&4294967295,A=R+(I<<22&4294967295|I>>>10),I=C+(k^A&(R^k))+j[8]+1770035416&4294967295,C=A+(I<<7&4294967295|I>>>25),I=k+(R^C&(A^R))+j[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=R+(A^k&(C^A))+j[10]+4294925233&4294967295,R=k+(I<<17&4294967295|I>>>15),I=A+(C^R&(k^C))+j[11]+2304563134&4294967295,A=R+(I<<22&4294967295|I>>>10),I=C+(k^A&(R^k))+j[12]+1804603682&4294967295,C=A+(I<<7&4294967295|I>>>25),I=k+(R^C&(A^R))+j[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=R+(A^k&(C^A))+j[14]+2792965006&4294967295,R=k+(I<<17&4294967295|I>>>15),I=A+(C^R&(k^C))+j[15]+1236535329&4294967295,A=R+(I<<22&4294967295|I>>>10),I=C+(R^k&(A^R))+j[1]+4129170786&4294967295,C=A+(I<<5&4294967295|I>>>27),I=k+(A^R&(C^A))+j[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=R+(C^A&(k^C))+j[11]+643717713&4294967295,R=k+(I<<14&4294967295|I>>>18),I=A+(k^C&(R^k))+j[0]+3921069994&4294967295,A=R+(I<<20&4294967295|I>>>12),I=C+(R^k&(A^R))+j[5]+3593408605&4294967295,C=A+(I<<5&4294967295|I>>>27),I=k+(A^R&(C^A))+j[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=R+(C^A&(k^C))+j[15]+3634488961&4294967295,R=k+(I<<14&4294967295|I>>>18),I=A+(k^C&(R^k))+j[4]+3889429448&4294967295,A=R+(I<<20&4294967295|I>>>12),I=C+(R^k&(A^R))+j[9]+568446438&4294967295,C=A+(I<<5&4294967295|I>>>27),I=k+(A^R&(C^A))+j[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=R+(C^A&(k^C))+j[3]+4107603335&4294967295,R=k+(I<<14&4294967295|I>>>18),I=A+(k^C&(R^k))+j[8]+1163531501&4294967295,A=R+(I<<20&4294967295|I>>>12),I=C+(R^k&(A^R))+j[13]+2850285829&4294967295,C=A+(I<<5&4294967295|I>>>27),I=k+(A^R&(C^A))+j[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=R+(C^A&(k^C))+j[7]+1735328473&4294967295,R=k+(I<<14&4294967295|I>>>18),I=A+(k^C&(R^k))+j[12]+2368359562&4294967295,A=R+(I<<20&4294967295|I>>>12),I=C+(A^R^k)+j[5]+4294588738&4294967295,C=A+(I<<4&4294967295|I>>>28),I=k+(C^A^R)+j[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=R+(k^C^A)+j[11]+1839030562&4294967295,R=k+(I<<16&4294967295|I>>>16),I=A+(R^k^C)+j[14]+4259657740&4294967295,A=R+(I<<23&4294967295|I>>>9),I=C+(A^R^k)+j[1]+2763975236&4294967295,C=A+(I<<4&4294967295|I>>>28),I=k+(C^A^R)+j[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=R+(k^C^A)+j[7]+4139469664&4294967295,R=k+(I<<16&4294967295|I>>>16),I=A+(R^k^C)+j[10]+3200236656&4294967295,A=R+(I<<23&4294967295|I>>>9),I=C+(A^R^k)+j[13]+681279174&4294967295,C=A+(I<<4&4294967295|I>>>28),I=k+(C^A^R)+j[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=R+(k^C^A)+j[3]+3572445317&4294967295,R=k+(I<<16&4294967295|I>>>16),I=A+(R^k^C)+j[6]+76029189&4294967295,A=R+(I<<23&4294967295|I>>>9),I=C+(A^R^k)+j[9]+3654602809&4294967295,C=A+(I<<4&4294967295|I>>>28),I=k+(C^A^R)+j[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=R+(k^C^A)+j[15]+530742520&4294967295,R=k+(I<<16&4294967295|I>>>16),I=A+(R^k^C)+j[2]+3299628645&4294967295,A=R+(I<<23&4294967295|I>>>9),I=C+(R^(A|~k))+j[0]+4096336452&4294967295,C=A+(I<<6&4294967295|I>>>26),I=k+(A^(C|~R))+j[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=R+(C^(k|~A))+j[14]+2878612391&4294967295,R=k+(I<<15&4294967295|I>>>17),I=A+(k^(R|~C))+j[5]+4237533241&4294967295,A=R+(I<<21&4294967295|I>>>11),I=C+(R^(A|~k))+j[12]+1700485571&4294967295,C=A+(I<<6&4294967295|I>>>26),I=k+(A^(C|~R))+j[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=R+(C^(k|~A))+j[10]+4293915773&4294967295,R=k+(I<<15&4294967295|I>>>17),I=A+(k^(R|~C))+j[1]+2240044497&4294967295,A=R+(I<<21&4294967295|I>>>11),I=C+(R^(A|~k))+j[8]+1873313359&4294967295,C=A+(I<<6&4294967295|I>>>26),I=k+(A^(C|~R))+j[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=R+(C^(k|~A))+j[6]+2734768916&4294967295,R=k+(I<<15&4294967295|I>>>17),I=A+(k^(R|~C))+j[13]+1309151649&4294967295,A=R+(I<<21&4294967295|I>>>11),I=C+(R^(A|~k))+j[4]+4149444226&4294967295,C=A+(I<<6&4294967295|I>>>26),I=k+(A^(C|~R))+j[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=R+(C^(k|~A))+j[2]+718787259&4294967295,R=k+(I<<15&4294967295|I>>>17),I=A+(k^(R|~C))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var A=C-this.blockSize,j=this.B,R=this.h,k=0;k<C;){if(R==0)for(;k<=A;)s(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<C;)if(j[R++]=T.charCodeAt(k++),R==this.blockSize){s(this,j),R=0;break}}else for(;k<C;)if(j[R++]=T[k++],R==this.blockSize){s(this,j),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var A=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=A&255,A/=256;for(this.u(T),T=Array(16),C=A=0;4>C;++C)for(var j=0;32>j;j+=8)T[A++]=this.g[C]>>>j&255;return T};function i(T,C){var A=l;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=C(T)}function o(T,C){this.h=C;for(var A=[],j=!0,R=T.length-1;0<=R;R--){var k=T[R]|0;j&&k==C||(A[R]=k,j=!1)}this.g=A}var l={};function c(T){return-128<=T&&128>T?i(T,function(C){return new o([C|0],0>C?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return E(d(-T));for(var C=[],A=1,j=0;T>=A;j++)C[j]=T/A|0,A*=4294967296;return new o(C,0)}function f(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return E(f(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(C,8)),j=m,R=0;R<T.length;R+=8){var k=Math.min(8,T.length-R),I=parseInt(T.substring(R,R+k),C);8>k?(k=d(Math.pow(C,k)),j=j.j(k).add(d(I))):(j=j.j(A),j=j.add(d(I)))}return j}var m=c(0),h=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();for(var T=0,C=1,A=0;A<this.g.length;A++){var j=this.i(A);T+=(0<=j?j:4294967296+j)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(y(this))return"-"+E(this).toString(T);for(var C=d(Math.pow(T,6)),A=this,j="";;){var R=P(A,C).g;A=_(A,R.j(C));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=R,b(A))return k+j;for(;6>k.length;)k="0"+k;j=k+j}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=_(this,T),y(T)?-1:b(T)?0:1};function E(T){for(var C=T.g.length,A=[],j=0;j<C;j++)A[j]=~T.g[j];return new o(A,~T.h).add(h)}t.abs=function(){return y(this)?E(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),A=[],j=0,R=0;R<=C;R++){var k=j+(this.i(R)&65535)+(T.i(R)&65535),I=(k>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);j=I>>>16,k&=65535,I&=65535,A[R]=I<<16|k}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(T,C){return T.add(E(C))}t.j=function(T){if(b(this)||b(T))return m;if(y(this))return y(T)?E(this).j(E(T)):E(E(this).j(T));if(y(T))return E(this.j(E(T)));if(0>this.l(g)&&0>T.l(g))return d(this.m()*T.m());for(var C=this.g.length+T.g.length,A=[],j=0;j<2*C;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(var R=0;R<T.g.length;R++){var k=this.i(j)>>>16,I=this.i(j)&65535,H=T.i(R)>>>16,he=T.i(R)&65535;A[2*j+2*R]+=I*he,v(A,2*j+2*R),A[2*j+2*R+1]+=k*he,v(A,2*j+2*R+1),A[2*j+2*R+1]+=I*H,v(A,2*j+2*R+1),A[2*j+2*R+2]+=k*H,v(A,2*j+2*R+2)}for(j=0;j<C;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=C;j<2*C;j++)A[j]=0;return new o(A,0)};function v(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function S(T,C){this.g=T,this.h=C}function P(T,C){if(b(C))throw Error("division by zero");if(b(T))return new S(m,m);if(y(T))return C=P(E(T),C),new S(E(C.g),E(C.h));if(y(C))return C=P(T,E(C)),new S(E(C.g),C.h);if(30<T.g.length){if(y(T)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var A=h,j=C;0>=j.l(T);)A=D(A),j=D(j);var R=O(A,1),k=O(j,1);for(j=O(j,2),A=O(A,2);!b(j);){var I=k.add(j);0>=I.l(T)&&(R=R.add(A),k=I),j=O(j,1),A=O(A,1)}return C=_(T,R.j(C)),new S(R,C)}for(R=m;0<=T.l(C);){for(A=Math.max(1,Math.floor(T.m()/C.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),k=d(A),I=k.j(C);y(I)||0<I.l(T);)A-=j,k=d(A),I=k.j(C);b(k)&&(k=h),R=R.add(k),T=_(T,I)}return new S(R,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),A=[],j=0;j<C;j++)A[j]=this.i(j)&T.i(j);return new o(A,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),A=[],j=0;j<C;j++)A[j]=this.i(j)|T.i(j);return new o(A,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),A=[],j=0;j<C;j++)A[j]=this.i(j)^T.i(j);return new o(A,this.h^T.h)};function D(T){for(var C=T.g.length+1,A=[],j=0;j<C;j++)A[j]=T.i(j)<<1|T.i(j-1)>>>31;return new o(A,T.h)}function O(T,C){var A=C>>5;C%=32;for(var j=T.g.length-A,R=[],k=0;k<j;k++)R[k]=0<C?T.i(k+A)>>>C|T.i(k+A+1)<<32-C:T.i(k+A);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Pi=o}).apply(typeof K1<"u"?K1:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nN,Vc,rN,kh,By,sN,iN,oN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,w){return u==Array.prototype||u==Object.prototype||(u[p]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var p=0;p<u.length;++p){var w=u[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var w=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var L=u[N];if(!(L in w))break e;w=w[L]}u=u[u.length-1],N=w[u],p=p(N),p!=N&&p!=null&&e(w,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var w=0,N=!1,L={next:function(){if(!N&&w<u.length){var z=w++;return{value:p(z,u[z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function f(u,p,w){return u.call.apply(u.bind,arguments)}function m(u,p,w){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function h(u,p,w){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,h.apply(null,arguments)}function g(u,p){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function b(u,p){function w(){}w.prototype=p.prototype,u.aa=p.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(N,L,z){for(var ce=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ce[pt-2]=arguments[pt];return p.prototype[L].apply(N,ce)}}function y(u){const p=u.length;if(0<p){const w=Array(p);for(let N=0;N<p;N++)w[N]=u[N];return w}return[]}function E(u,p){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(c(N)){const L=u.length||0,z=N.length||0;u.length=L+z;for(let ce=0;ce<z;ce++)u[L+ce]=N[ce]}else u.push(N)}}class _{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(u,p,w){for(const N in u)p.call(w,u[N],N,u)}function T(u,p){for(const w in u)p.call(void 0,u[w],w,u)}function C(u){const p={};for(const w in u)p[w]=u[w];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,p){let w,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(w in N)u[w]=N[w];for(let z=0;z<A.length;z++)w=A[z],Object.prototype.hasOwnProperty.call(N,w)&&(u[w]=N[w])}}function R(u){var p=1;u=u.split(":");const w=[];for(;0<p&&u.length;)w.push(u.shift()),p--;return u.length&&w.push(u.join(":")),w}function k(u){l.setTimeout(()=>{throw u},0)}function I(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,w){const N=he.get();N.set(p,w),this.h?this.h.next=N:this.g=N,this.h=N}}var he=new _(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,M=!1,K=new H,ee=()=>{const u=l.Promise.resolve(void 0);pe=()=>{u.then(ge)}};var ge=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(w){k(w)}var p=he;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}M=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};l.addEventListener("test",w,p),l.removeEventListener("test",w,p)}catch{}return u}();function se(u,p){if(Ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{P(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else w=="mouseover"?p=u.fromElement:w=="mouseout"&&(p=u.toElement);this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&se.aa.h.call(this)}}b(se,Ne);var De={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function $(u,p,w,N,L){this.listener=u,this.proxy=null,this.src=p,this.type=w,this.capture=!!N,this.ha=L,this.key=++Pe,this.da=this.fa=!1}function Q(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function q(u){this.src=u,this.g={},this.h=0}q.prototype.add=function(u,p,w,N,L){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ce=X(u,p,N,L);return-1<ce?(p=u[ce],w||(p.fa=!1)):(p=new $(p,this.src,z,!!N,L),p.fa=w,u.push(p)),p};function le(u,p){var w=p.type;if(w in u.g){var N=u.g[w],L=Array.prototype.indexOf.call(N,p,void 0),z;(z=0<=L)&&Array.prototype.splice.call(N,L,1),z&&(Q(p),u.g[w].length==0&&(delete u.g[w],u.h--))}}function X(u,p,w,N){for(var L=0;L<u.length;++L){var z=u[L];if(!z.da&&z.listener==p&&z.capture==!!w&&z.ha==N)return L}return-1}var He="closure_lm_"+(1e6*Math.random()|0),St={};function tn(u,p,w,N,L){if(Array.isArray(p)){for(var z=0;z<p.length;z++)tn(u,p[z],w,N,L);return null}return w=ye(w),u&&u[ie]?u.K(p,w,d(N)?!!N.capture:!!N,L):an(u,p,w,!1,N,L)}function an(u,p,w,N,L,z){if(!p)throw Error("Invalid event type");var ce=d(L)?!!L.capture:!!L,pt=U(u);if(pt||(u[He]=pt=new q(u)),w=pt.add(p,w,N,ce,z),w.proxy)return w;if(N=oe(),w.proxy=N,N.src=u,N.listener=w,u.addEventListener)Ke||(L=ce),L===void 0&&(L=!1),u.addEventListener(p.toString(),N,L);else if(u.attachEvent)u.attachEvent(G(p.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function oe(){function u(w){return p.call(u.src,u.listener,w)}const p=V;return u}function Oe(u,p,w,N,L){if(Array.isArray(p))for(var z=0;z<p.length;z++)Oe(u,p[z],w,N,L);else N=d(N)?!!N.capture:!!N,w=ye(w),u&&u[ie]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],w=X(z,w,N,L),-1<w&&(Q(z[w]),Array.prototype.splice.call(z,w,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=U(u))&&(p=u.g[p.toString()],u=-1,p&&(u=X(p,w,N,L)),(w=-1<u?p[u]:null)&&pn(w))}function pn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ie])le(p.i,u);else{var w=u.type,N=u.proxy;p.removeEventListener?p.removeEventListener(w,N,u.capture):p.detachEvent?p.detachEvent(G(w),N):p.addListener&&p.removeListener&&p.removeListener(N),(w=U(p))?(le(w,u),w.h==0&&(w.src=null,p[He]=null)):Q(u)}}}function G(u){return u in St?St[u]:St[u]="on"+u}function V(u,p){if(u.da)u=!0;else{p=new se(p,this);var w=u.listener,N=u.ha||u.src;u.fa&&pn(u),u=w.call(N,p)}return u}function U(u){return u=u[He],u instanceof q?u:null}var W="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(u){return typeof u=="function"?u:(u[W]||(u[W]=function(p){return u.handleEvent(p)}),u[W])}function ne(){Ie.call(this),this.i=new q(this),this.M=this,this.F=null}b(ne,Ie),ne.prototype[ie]=!0,ne.prototype.removeEventListener=function(u,p,w,N){Oe(this,u,p,w,N)};function J(u,p){var w,N=u.F;if(N)for(w=[];N;N=N.F)w.push(N);if(u=u.M,N=p.type||p,typeof p=="string")p=new Ne(p,u);else if(p instanceof Ne)p.target=p.target||u;else{var L=p;p=new Ne(N,u),j(p,L)}if(L=!0,w)for(var z=w.length-1;0<=z;z--){var ce=p.g=w[z];L=_e(ce,N,!0,p)&&L}if(ce=p.g=u,L=_e(ce,N,!0,p)&&L,L=_e(ce,N,!1,p)&&L,w)for(z=0;z<w.length;z++)ce=p.g=w[z],L=_e(ce,N,!1,p)&&L}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var w=u.g[p],N=0;N<w.length;N++)Q(w[N]);delete u.g[p],u.h--}}this.F=null},ne.prototype.K=function(u,p,w,N){return this.i.add(String(u),p,!1,w,N)},ne.prototype.L=function(u,p,w,N){return this.i.add(String(u),p,!0,w,N)};function _e(u,p,w,N){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,z=0;z<p.length;++z){var ce=p[z];if(ce&&!ce.da&&ce.capture==w){var pt=ce.listener,ln=ce.ha||ce.src;ce.fa&&le(u.i,ce),L=pt.call(ln,N)!==!1&&L}}return L&&!N.defaultPrevented}function tt(u,p,w){if(typeof u=="function")w&&(u=h(u,w));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function At(u){u.g=tt(()=>{u.g=null,u.i&&(u.i=!1,At(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class nn extends Ie{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(u){Ie.call(this),this.h=u,this.g={}}b(co,Ie);var ua=[];function da(u){O(u.g,function(p,w){this.g.hasOwnProperty(w)&&pn(p)},u),u.g={}}co.prototype.N=function(){co.aa.N.call(this),da(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sc=l.JSON.stringify,bd=l.JSON.parse,Wm=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function ha(){}ha.prototype.h=null;function G0(u){return u.h||(u.h=u.i())}function Z0(){}var ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Km(){Ne.call(this,"d")}b(Km,Ne);function Qm(){Ne.call(this,"c")}b(Qm,Ne);var uo={},Y0=null;function Ed(){return Y0=Y0||new ne}uo.La="serverreachability";function X0(u){Ne.call(this,uo.La,u)}b(X0,Ne);function oc(u){const p=Ed();J(p,new X0(p))}uo.STAT_EVENT="statevent";function J0(u,p){Ne.call(this,uo.STAT_EVENT,u),this.stat=p}b(J0,Ne);function jn(u){const p=Ed();J(p,new J0(p,u))}uo.Ma="timingevent";function ew(u,p){Ne.call(this,uo.Ma,u),this.size=p}b(ew,Ne);function ac(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function lc(){this.g=!0}lc.prototype.xa=function(){this.g=!1};function oP(u,p,w,N,L,z){u.info(function(){if(u.g)if(z)for(var ce="",pt=z.split("&"),ln=0;ln<pt.length;ln++){var lt=pt[ln].split("=");if(1<lt.length){var gn=lt[0];lt=lt[1];var yn=gn.split("_");ce=2<=yn.length&&yn[1]=="type"?ce+(gn+"="+lt+"&"):ce+(gn+"=redacted&")}}else ce=null;else ce=z;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+p+`
`+w+`
`+ce})}function aP(u,p,w,N,L,z,ce){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+p+`
`+w+`
`+z+" "+ce})}function fa(u,p,w,N){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cP(u,w)+(N?" "+N:"")})}function lP(u,p){u.info(function(){return"TIMEOUT: "+p})}lc.prototype.info=function(){};function cP(u,p){if(!u.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var N=w[u];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ce=1;ce<L.length;ce++)L[ce]=""}}}}return sc(w)}catch{return p}}var Td={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gm;function Cd(){}b(Cd,ha),Cd.prototype.g=function(){return new XMLHttpRequest},Cd.prototype.i=function(){return{}},Gm=new Cd;function Ks(u,p,w,N){this.j=u,this.i=p,this.l=w,this.R=N||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nw}function nw(){this.i=null,this.g="",this.h=!1}var rw={},Zm={};function Ym(u,p,w){u.L=1,u.v=Id(xs(p)),u.m=w,u.P=!0,sw(u,null)}function sw(u,p){u.F=Date.now(),Sd(u),u.A=xs(u.v);var w=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),vw(w.i,"t",N),u.C=0,w=u.j.J,u.h=new nw,u.g=Vw(u.j,w?p:null,!u.m),0<u.O&&(u.M=new nn(h(u.Y,u,u.g),u.O)),p=u.U,w=u.g,N=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ua[0]=L.toString()),L=ua);for(var z=0;z<L.length;z++){var ce=tn(w,L[z],N||p.handleEvent,!1,p.h||p);if(!ce)break;p.g[ce.key]=ce}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),oc(),oP(u.i,u.u,u.A,u.l,u.R,u.m)}Ks.prototype.ca=function(u){u=u.target;const p=this.M;p&&ws(u)==3?p.j():this.Y(u)},Ks.prototype.Y=function(u){try{if(u==this.g)e:{const yn=ws(this.g);var p=this.g.Ba();const ga=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Cw(this.g)))){this.J||yn!=4||p==7||(p==8||0>=ga?oc(3):oc(2)),Xm(this);var w=this.g.Z();this.X=w;t:if(iw(this)){var N=Cw(this.g);u="";var L=N.length,z=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),cc(this);var ce="";break t}this.h.i=new l.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(N[p],{stream:!(z&&p==L-1)});N.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,aP(this.i,this.u,this.A,this.l,this.R,yn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,ln=this.g;if((pt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(pt)){var lt=pt;break t}}lt=null}if(w=lt)fa(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,w);else{this.o=!1,this.s=3,jn(12),ho(this),cc(this);break e}}if(this.P){w=!0;let jr;for(;!this.J&&this.C<ce.length;)if(jr=uP(this,ce),jr==Zm){yn==4&&(this.s=4,jn(14),w=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==rw){this.s=4,jn(15),fa(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else fa(this.i,this.l,jr,null),Jm(this,jr);if(iw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||ce.length!=0||this.h.h||(this.s=1,jn(16),w=!1),this.o=this.o&&w,!w)fa(this.i,this.l,ce,"[Invalid Chunked Response]"),ho(this),cc(this);else if(0<ce.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ip(gn),gn.M=!0,jn(11))}}else fa(this.i,this.l,ce,null),Jm(this,ce);yn==4&&ho(this),this.o&&!this.J&&(yn==4?Pw(this.j,this):(this.o=!1,Sd(this)))}else AP(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,jn(12)):(this.s=0,jn(13)),ho(this),cc(this)}}}catch{}finally{}};function iw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uP(u,p){var w=u.C,N=p.indexOf(`
`,w);return N==-1?Zm:(w=Number(p.substring(w,N)),isNaN(w)?rw:(N+=1,N+w>p.length?Zm:(p=p.slice(N,N+w),u.C=N+w,p)))}Ks.prototype.cancel=function(){this.J=!0,ho(this)};function Sd(u){u.S=Date.now()+u.I,ow(u,u.I)}function ow(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ac(h(u.ba,u),p)}function Xm(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Ks.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lP(this.i,this.A),this.L!=2&&(oc(),jn(17)),ho(this),this.s=2,cc(this)):ow(this,this.S-u)};function cc(u){u.j.G==0||u.J||Pw(u.j,u)}function ho(u){Xm(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,da(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Jm(u,p){try{var w=u.j;if(w.G!=0&&(w.g==u||ep(w.h,u))){if(!u.K&&ep(w.h,u)&&w.G==3){try{var N=w.Da.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Od(w),Rd(w);else break e;sp(w),jn(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=ac(h(w.Za,w),6e3));if(1>=cw(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else mo(w,11)}else if((u.K||w.g==u)&&Od(w),!v(p))for(L=w.Da.g.parse(p),p=0;p<L.length;p++){let lt=L[p];if(w.T=lt[0],lt=lt[1],w.G==2)if(lt[0]=="c"){w.K=lt[1],w.ia=lt[2];const gn=lt[3];gn!=null&&(w.la=gn,w.j.info("VER="+w.la));const yn=lt[4];yn!=null&&(w.Aa=yn,w.j.info("SVER="+w.Aa));const ga=lt[5];ga!=null&&typeof ga=="number"&&0<ga&&(N=1.5*ga,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const jr=u.g;if(jr){const Md=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Md){var z=N.h;z.g||Md.indexOf("spdy")==-1&&Md.indexOf("quic")==-1&&Md.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(tp(z,z.h),z.h=null))}if(N.D){const op=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;op&&(N.ya=op,vt(N.I,N.D,op))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var ce=u;if(N.qa=Ow(N,N.J?N.ia:null,N.W),ce.K){uw(N.h,ce);var pt=ce,ln=N.L;ln&&(pt.I=ln),pt.B&&(Xm(pt),Sd(pt)),N.g=ce}else jw(N);0<w.i.length&&Dd(w)}else lt[0]!="stop"&&lt[0]!="close"||mo(w,7);else w.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?mo(w,7):rp(w):lt[0]!="noop"&&w.l&&w.l.ta(lt),w.v=0)}}oc(4)}catch{}}var dP=class{constructor(u,p){this.g=u,this.map=p}};function aw(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function cw(u){return u.h?1:u.g?u.g.size:0}function ep(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function tp(u,p){u.g?u.g.add(p):u.h=p}function uw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}aw.prototype.cancel=function(){if(this.i=dw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const w of u.g.values())p=p.concat(w.D);return p}return y(u.i)}function hP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],w=u.length,N=0;N<w;N++)p.push(u[N]);return p}p=[],w=0;for(N in u)p[w++]=u[N];return p}function fP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var w=0;w<u;w++)p.push(w);return p}p=[],w=0;for(const N in u)p[w++]=N;return p}}}function hw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var w=fP(u),N=hP(u),L=N.length,z=0;z<L;z++)p.call(void 0,N[z],w&&w[z],u)}var fw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mP(u,p){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var N=u[w].indexOf("="),L=null;if(0<=N){var z=u[w].substring(0,N);L=u[w].substring(N+1)}else z=u[w];p(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fo){this.h=u.h,Ad(this,u.j),this.o=u.o,this.g=u.g,Nd(this,u.s),this.l=u.l;var p=u.i,w=new hc;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),mw(this,w),this.m=u.m}else u&&(p=String(u).match(fw))?(this.h=!1,Ad(this,p[1]||"",!0),this.o=uc(p[2]||""),this.g=uc(p[3]||"",!0),Nd(this,p[4]),this.l=uc(p[5]||"",!0),mw(this,p[6]||"",!0),this.m=uc(p[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}fo.prototype.toString=function(){var u=[],p=this.j;p&&u.push(dc(p,pw,!0),":");var w=this.g;return(w||p=="file")&&(u.push("//"),(p=this.o)&&u.push(dc(p,pw,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(dc(w,w.charAt(0)=="/"?yP:gP,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",dc(w,xP)),u.join("")};function xs(u){return new fo(u)}function Ad(u,p,w){u.j=w?uc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Nd(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function mw(u,p,w){p instanceof hc?(u.i=p,wP(u.i,u.h)):(w||(p=dc(p,vP)),u.i=new hc(p,u.h))}function vt(u,p,w){u.i.set(p,w)}function Id(u){return vt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function uc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dc(u,p,w){return typeof u=="string"?(u=encodeURI(u).replace(p,pP),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pw=/[#\/\?@]/g,gP=/[#\?:]/g,yP=/[#\?]/g,vP=/[#\?@]/g,xP=/#/g;function hc(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Qs(u){u.g||(u.g=new Map,u.h=0,u.i&&mP(u.i,function(p,w){u.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=hc.prototype,t.add=function(u,p){Qs(this),this.i=null,u=ma(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(p),this.h+=1,this};function gw(u,p){Qs(u),p=ma(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function yw(u,p){return Qs(u),p=ma(u,p),u.g.has(p)}t.forEach=function(u,p){Qs(this),this.g.forEach(function(w,N){w.forEach(function(L){u.call(p,L,N,this)},this)},this)},t.na=function(){Qs(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let N=0;N<p.length;N++){const L=u[N];for(let z=0;z<L.length;z++)w.push(p[N])}return w},t.V=function(u){Qs(this);let p=[];if(typeof u=="string")yw(this,u)&&(p=p.concat(this.g.get(ma(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)p=p.concat(u[w])}return p},t.set=function(u,p){return Qs(this),this.i=null,u=ma(this,u),yw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function vw(u,p,w){gw(u,p),0<w.length&&(u.i=null,u.g.set(ma(u,p),y(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var N=p[w];const z=encodeURIComponent(String(N)),ce=this.V(N);for(N=0;N<ce.length;N++){var L=z;ce[N]!==""&&(L+="="+encodeURIComponent(String(ce[N]))),u.push(L)}}return this.i=u.join("&")};function ma(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function wP(u,p){p&&!u.j&&(Qs(u),u.i=null,u.g.forEach(function(w,N){var L=N.toLowerCase();N!=L&&(gw(this,N),vw(this,L,w))},u)),u.j=p}function _P(u,p){const w=new lc;if(l.Image){const N=new Image;N.onload=g(Gs,w,"TestLoadImage: loaded",!0,p,N),N.onerror=g(Gs,w,"TestLoadImage: error",!1,p,N),N.onabort=g(Gs,w,"TestLoadImage: abort",!1,p,N),N.ontimeout=g(Gs,w,"TestLoadImage: timeout",!1,p,N),l.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else p(!1)}function bP(u,p){const w=new lc,N=new AbortController,L=setTimeout(()=>{N.abort(),Gs(w,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:N.signal}).then(z=>{clearTimeout(L),z.ok?Gs(w,"TestPingServer: ok",!0,p):Gs(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Gs(w,"TestPingServer: error",!1,p)})}function Gs(u,p,w,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(w)}catch{}}function EP(){this.g=new Wm}function TP(u,p,w){const N=w||"";try{hw(u,function(L,z){let ce=L;d(L)&&(ce=sc(L)),p.push(N+z+"="+encodeURIComponent(ce))})}catch(L){throw p.push(N+"type="+encodeURIComponent("_badmap")),L}}function jd(u){this.l=u.Ub||null,this.j=u.eb||!1}b(jd,ha),jd.prototype.g=function(){return new kd(this.l,this.j)},jd.prototype.i=function(u){return function(){return u}}({});function kd(u,p){ne.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(kd,ne),t=kd.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,mc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mc(this)),this.g&&(this.readyState=3,mc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?fc(this):mc(this),this.readyState==3&&xw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,fc(this))},t.Qa=function(u){this.g&&(this.response=u,fc(this))},t.ga=function(){this.g&&fc(this)};function fc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mc(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=p.next();return u.join(`\r
`)};function mc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ww(u){let p="";return O(u,function(w,N){p+=N,p+=":",p+=w,p+=`\r
`}),p}function np(u,p,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=ww(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):vt(u,p,w))}function Mt(u){ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Mt,ne);var CP=/^https?$/i,SP=["POST","PUT"];t=Mt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gm.g(),this.v=this.o?G0(this.o):G0(Gm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){_w(this,z);return}if(u=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)w.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())w.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(z=>z.toLowerCase()=="content-type"),L=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(SP,p,void 0))||N||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ce]of w)this.g.setRequestHeader(z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tw(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){_w(this,z)}};function _w(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,bw(u),Pd(u)}function bw(u){u.A||(u.A=!0,J(u,"complete"),J(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,J(this,"complete"),J(this,"abort"),Pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pd(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ew(this):this.bb())},t.bb=function(){Ew(this)};function Ew(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ws(u)!=4||u.Z()!=2)){if(u.u&&ws(u)==4)tt(u.Ea,0,u);else if(J(u,"readystatechange"),ws(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var N;if(N=ce===0){var L=String(u.D).match(fw)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),N=!CP.test(L?L.toLowerCase():"")}w=N}if(w)J(u,"complete"),J(u,"success");else{u.m=6;try{var z=2<ws(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",bw(u)}}finally{Pd(u)}}}}function Pd(u,p){if(u.g){Tw(u);const w=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||J(u,"ready");try{w.onreadystatechange=N}catch{}}}function Tw(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ws(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),bd(p)}};function Cw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function AP(u){const p={};u=(u.g&&2<=ws(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(v(u[N]))continue;var w=R(u[N]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const z=p[L]||[];p[L]=z,z.push(w)}T(p,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pc(u,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||p}function Sw(u){this.Aa=0,this.i=[],this.j=new lc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pc("baseRetryDelayMs",5e3,u),this.cb=pc("retryDelaySeedMs",1e4,u),this.Wa=pc("forwardChannelMaxRetries",2,u),this.wa=pc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new aw(u&&u.concurrentRequestLimit),this.Da=new EP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sw.prototype,t.la=8,t.G=1,t.connect=function(u,p,w,N){jn(0),this.W=u,this.H=p||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Ow(this,null,this.W),Dd(this)};function rp(u){if(Aw(u),u.G==3){var p=u.U++,w=xs(u.I);if(vt(w,"SID",u.K),vt(w,"RID",p),vt(w,"TYPE","terminate"),gc(u,w),p=new Ks(u,u.j,p),p.L=2,p.v=Id(xs(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=p.v,w=!0),w||(p.g=Vw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Sd(p)}Dw(u)}function Rd(u){u.g&&(ip(u),u.g.cancel(),u.g=null)}function Aw(u){Rd(u),u.u&&(l.clearTimeout(u.u),u.u=null),Od(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Dd(u){if(!lw(u.h)&&!u.s){u.s=!0;var p=u.Ga;pe||ee(),M||(pe(),M=!0),K.add(p,u),u.B=0}}function NP(u,p){return cw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ac(h(u.Ga,u,p),Rw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ks(this,this.j,u);let z=this.o;if(this.S&&(z?(z=C(z),j(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Iw(this,L,p),w=xs(this.I),vt(w,"RID",u),vt(w,"CVER",22),this.D&&vt(w,"X-HTTP-Session-Id",this.D),gc(this,w),z&&(this.O?p="headers="+encodeURIComponent(String(ww(z)))+"&"+p:this.m&&np(w,this.m,z)),tp(this.h,L),this.Ua&&vt(w,"TYPE","init"),this.P?(vt(w,"$req",p),vt(w,"SID","null"),L.T=!0,Ym(L,w,null)):Ym(L,w,p),this.G=2}}else this.G==3&&(u?Nw(this,u):this.i.length==0||lw(this.h)||Nw(this))};function Nw(u,p){var w;p?w=p.l:w=u.U++;const N=xs(u.I);vt(N,"SID",u.K),vt(N,"RID",w),vt(N,"AID",u.T),gc(u,N),u.m&&u.o&&np(N,u.m,u.o),w=new Ks(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Iw(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),tp(u.h,w),Ym(w,N,p)}function gc(u,p){u.H&&O(u.H,function(w,N){vt(p,N,w)}),u.l&&hw({},function(w,N){vt(p,N,w)})}function Iw(u,p,w){w=Math.min(u.i.length,w);var N=u.l?h(u.l.Na,u.l,u):null;e:{var L=u.i;let z=-1;for(;;){const ce=["count="+w];z==-1?0<w?(z=L[0].g,ce.push("ofs="+z)):z=0:ce.push("ofs="+z);let pt=!0;for(let ln=0;ln<w;ln++){let lt=L[ln].g;const gn=L[ln].map;if(lt-=z,0>lt)z=Math.max(0,L[ln].g-100),pt=!1;else try{TP(gn,ce,"req"+lt+"_")}catch{N&&N(gn)}}if(pt){N=ce.join("&");break e}}}return u=u.i.splice(0,w),p.D=u,N}function jw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;pe||ee(),M||(pe(),M=!0),K.add(p,u),u.v=0}}function sp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ac(h(u.Fa,u),Rw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,kw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ac(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jn(10),Rd(this),kw(this))};function ip(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function kw(u){u.g=new Ks(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=xs(u.qa);vt(p,"RID","rpc"),vt(p,"SID",u.K),vt(p,"AID",u.T),vt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&vt(p,"TO",u.ja),vt(p,"TYPE","xmlhttp"),gc(u,p),u.m&&u.o&&np(p,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Id(xs(p)),w.m=null,w.P=!0,sw(w,u)}t.Za=function(){this.C!=null&&(this.C=null,Rd(this),sp(this),jn(19))};function Od(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Pw(u,p){var w=null;if(u.g==p){Od(u),ip(u),u.g=null;var N=2}else if(ep(u.h,p))w=p.D,uw(u.h,p),N=1;else return;if(u.G!=0){if(p.o)if(N==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;N=Ed(),J(N,new ew(N,w)),Dd(u)}else jw(u);else if(L=p.s,L==3||L==0&&0<p.X||!(N==1&&NP(u,p)||N==2&&sp(u)))switch(w&&0<w.length&&(p=u.h,p.i=p.i.concat(w)),L){case 1:mo(u,5);break;case 4:mo(u,10);break;case 3:mo(u,6);break;default:mo(u,2)}}}function Rw(u,p){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*p}function mo(u,p){if(u.j.info("Error code "+p),p==2){var w=h(u.fb,u),N=u.Xa;const L=!N;N=new fo(N||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ad(N,"https"),Id(N),L?_P(N.toString(),w):bP(N.toString(),w)}else jn(2);u.G=0,u.l&&u.l.sa(p),Dw(u),Aw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),jn(2)):(this.j.info("Failed to ping google.com"),jn(1))};function Dw(u){if(u.G=0,u.ka=[],u.l){const p=dw(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Ow(u,p,w){var N=w instanceof fo?xs(w):new fo(w);if(N.g!="")p&&(N.g=p+"."+N.g),Nd(N,N.s);else{var L=l.location;N=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var z=new fo(null);N&&Ad(z,N),p&&(z.g=p),L&&Nd(z,L),w&&(z.l=w),N=z}return w=u.D,p=u.ya,w&&p&&vt(N,w,p),vt(N,"VER",u.la),gc(u,N),N}function Vw(u,p,w){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Mt(new jd({eb:w})):new Mt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mw(){}t=Mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vd(){}Vd.prototype.g=function(u,p){return new er(u,p)};function er(u,p){ne.call(this),this.g=new Sw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new pa(this)}b(er,ne),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){rp(this.g)},er.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=sc(u),u=w);p.i.push(new dP(p.Ya++,u)),p.G==3&&Dd(p)},er.prototype.N=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,er.aa.N.call(this)};function Fw(u){Km.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const w in p){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(Fw,Km);function Lw(){Qm.call(this),this.status=1}b(Lw,Qm);function pa(u){this.g=u}b(pa,Mw),pa.prototype.ua=function(){J(this.g,"a")},pa.prototype.ta=function(u){J(this.g,new Fw(u))},pa.prototype.sa=function(u){J(this.g,new Lw)},pa.prototype.ra=function(){J(this.g,"b")},Vd.prototype.createWebChannel=Vd.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,oN=function(){return new Vd},iN=function(){return Ed()},sN=uo,By={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Td.NO_ERROR=0,Td.TIMEOUT=8,Td.HTTP_ERROR=6,kh=Td,tw.COMPLETE="complete",rN=tw,Z0.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Vc=Z0,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,nN=Mt}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const Q1="@firebase/firestore",G1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new $x("@firebase/firestore");function ba(){return Ho.logLevel}function we(t,...e){if(Ho.logLevel<=it.DEBUG){const n=e.map(zx);Ho.debug(`Firestore (${Gl}): ${t}`,...n)}}function $s(t,...e){if(Ho.logLevel<=it.ERROR){const n=e.map(zx);Ho.error(`Firestore (${Gl}): ${t}`,...n)}}function Il(t,...e){if(Ho.logLevel<=it.WARN){const n=e.map(zx);Ho.warn(`Firestore (${Gl}): ${t}`,...n)}}function zx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aN(t,r,n)}function aN(t,e,n){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function ht(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aN(e,s,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends so{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class cL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uL{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ri,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new lN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class dL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QF(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function zy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Xe(r,s);{const i=cN(),o=pL(i.encode(Y1(t,n)),i.encode(Y1(e,n)));return o!==0?o:Xe(r,s)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function Y1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function jl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=-62135596800,J1=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*J1);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X1)throw new Ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Jt(0,0))}static max(){return new ze(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),s=Xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):zy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class Et extends Xr{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const gL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Xr{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return gL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new dn([eb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Et.fromString(e))}static fromName(e){return new Ve(Et.fromString(e).popFirst(5))}static empty(){return new Ve(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function yL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Bi(s,Ve.empty(),e)}function vL(t){return new Bi(t.readTime,t.key,Iu)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(ze.min(),Ve.empty(),Iu)}static max(){return new Bi(ze.max(),Ve.empty(),Iu)}}function xL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _L{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==wL)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new Z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function bL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-1;function Em(t){return t==null}function wf(t){return t===0&&1/t==-1/0}function EL(t){return typeof t=="number"&&Number.isInteger(t)&&!wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="";function TL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tb(e)),e=CL(t.get(n),e);return tb(e)}function CL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case dN:n+="";break;default:n+=i}}return n}function tb(t){return t+dN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??un.RED,this.left=s??un.EMPTY,this.right=i??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new en(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fN("Invalid base64 string: "+i):i}}(e);return new mn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const SL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=SL.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="server_timestamp",pN="__type__",gN="__previous_value__",yN="__local_write_time__";function Hx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pN])===null||n===void 0?void 0:n.stringValue)===mN}function Tm(t){const e=t.mapValue.fields[gN];return Hx(e)?Tm(e):e}function ju(t){const e=zi(t.mapValue.fields[yN].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,s,i,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const _f="(default)";class ku{constructor(e,n){this.projectId=e,this.database=n||_f}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="__type__",xN="__max__",lh={mapValue:{fields:{__type__:{stringValue:xN}}}},wN="__vector__",bf="value";function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hx(t)?4:IL(t)?9007199254740991:NL(t)?10:11:Fe(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=zi(s.timestampValue),l=zi(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qi(s.bytesValue).isEqual(qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ut(s.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ut(s.integerValue)===Ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ut(s.doubleValue),l=Ut(i.doubleValue);return o===l?wf(o)===wf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(nb(o)!==nb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ps(o[c],l[c])))return!1;return!0}(t,e);default:return Fe(52216,{left:t})}}function Pu(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ut(i.integerValue||i.doubleValue),c=Ut(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return sb(t.timestampValue,e.timestampValue);case 4:return sb(ju(t),ju(e));case 5:return zy(t.stringValue,e.stringValue);case 6:return function(i,o){const l=qi(i),c=qi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Xe(l[d],c[d]);if(f!==0)return f}return Xe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Xe(Ut(i.latitude),Ut(o.latitude));return l!==0?l:Xe(Ut(i.longitude),Ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ib(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,d,f;const m=i.fields||{},h=o.fields||{},g=(l=m[bf])===null||l===void 0?void 0:l.arrayValue,b=(c=h[bf])===null||c===void 0?void 0:c.arrayValue,y=Xe(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0);return y!==0?y:ib(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===lh.mapValue&&o===lh.mapValue)return 0;if(i===lh.mapValue)return 1;if(o===lh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const h=zy(c[m],f[m]);if(h!==0)return h;const g=kl(l[c[m]],d[f[m]]);if(g!==0)return g}return Xe(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Fe(23264,{Pe:n})}}function sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=zi(t),r=zi(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function ib(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=kl(n[s],r[s]);if(i)return i}return Xe(n.length,r.length)}function Pl(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${qy(n.fields[o])}`;return s+"}"}(t.mapValue):Fe(61005,{value:t})}function Ph(t){switch(Hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ph(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return io(r.fields,(i,o)=>{s+=i.length+Ph(o)}),s}(t.mapValue);default:throw Fe(13486,{value:t})}}function ob(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hy(t){return!!t&&"integerValue"in t}function Wx(t){return!!t&&"arrayValue"in t}function ab(t){return!!t&&"nullValue"in t}function lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rh(t){return!!t&&"mapValue"in t}function NL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vN])===null||n===void 0?void 0:n.stringValue)===wN}function eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=dn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=eu(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){io(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new qn(eu(this.value))}}function _N(t){const e=[];return io(t.fields,(n,r)=>{const s=new dn([n]);if(Rh(r)){const i=_N(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Cn(e,0,ze.min(),ze.min(),ze.min(),qn.empty(),0)}static newFoundDocument(e,n,r,s){return new Cn(e,1,n,ze.min(),r,s,0)}static newNoDocument(e,n){return new Cn(e,2,n,ze.min(),ze.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,ze.min(),ze.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.position=e,this.inclusive=n}}function cb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ve.comparator(Ve.fromName(o.referenceValue),n.key):r=kl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function jL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{}class Wt extends bN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PL(e,n,r):n==="array-contains"?new OL(e,r):n==="in"?new VL(e,r):n==="not-in"?new ML(e,r):n==="array-contains-any"?new FL(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RL(e,r):new DL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends bN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kr(e,n)}matches(e){return EN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EN(t){return t.op==="and"}function TN(t){return kL(t)&&EN(t)}function kL(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function Wy(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(TN(t))return t.filters.map(e=>Wy(e)).join(",");{const e=t.filters.map(n=>Wy(n)).join(",");return`${t.op}(${e})`}}function CN(t,e){return t instanceof Wt?function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&ps(r.value,s.value)}(t,e):t instanceof Kr?function(r,s){return s instanceof Kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&CN(o,s.filters[l]),!0):!1}(t,e):void Fe(19439)}function SN(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`}(t):t instanceof Kr?function(n){return n.op.toString()+" {"+n.getFilters().map(SN).join(" ,")+"}"}(t):"Filter"}class PL extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends Wt{constructor(e,n){super(e,"in",n),this.keys=AN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DL extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=AN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class OL extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wx(n)&&Pu(n.arrayValue,this.value)}}class VL extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class ML extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class FL extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function db(t,e=null,n=[],r=[],s=null,i=null,o=null){return new LL(t,e,n,r,s,i,o)}function Kx(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pl(r)).join(",")),e.Ie=n}return e.Ie}function Qx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ub(t.startAt,e.startAt)&&ub(t.endAt,e.endAt)}function Ky(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UL(t,e,n,r,s,i,o,l){return new Xl(t,e,n,r,s,i,o,l)}function Gx(t){return new Xl(t)}function hb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NN(t){return t.collectionGroup!==null}function tu(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new en(dn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Ru(i,r))}),n.has(dn.keyField().canonicalString())||e.Ee.push(new Ru(dn.keyField(),r))}return e.Ee}function us(t){const e=qe(t);return e.de||(e.de=$L(e,tu(t))),e.de}function $L(t,e){if(t.limitType==="F")return db(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ru(s.field,i)});const n=t.endAt?new Ef(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ef(t.startAt.position,t.startAt.inclusive):null;return db(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e){const n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tf(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cm(t,e){return Qx(us(t),us(e))&&t.limitType===e.limitType}function IN(t){return`${Kx(us(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>SN(s)).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pl(s)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ve.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of tu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=cb(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,tu(r),s)||r.endAt&&!function(o,l,c){const d=cb(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,tu(r),s))}(t,e)}function BL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jN(t){return(e,n)=>{let r=!1;for(const s of tu(t)){const i=zL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zL(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?kl(c,d):Fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Vt(Ve.comparator);function Bs(){return qL}const kN=new Vt(Ve.comparator);function Mc(...t){let e=kN;for(const n of t)e=e.insert(n.key,n);return e}function PN(t){let e=kN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return nu()}function RN(){return nu()}function nu(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const HL=new Vt(Ve.comparator),WL=new en(Ve.comparator);function et(...t){let e=WL;for(const n of t)e=e.add(n);return e}const KL=new en(Xe);function QL(){return KL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function DN(t){return{integerValue:""+t}}function GL(t,e){return EL(e)?DN(e):Zx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function ZL(t,e,n){return t instanceof Cf?function(s,i){const o={fields:{[pN]:{stringValue:mN},[yN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hx(i)&&(i=Tm(i)),i&&(o.fields[gN]=i),{mapValue:o}}(n,e):t instanceof Du?VN(t,e):t instanceof Ou?MN(t,e):function(s,i){const o=ON(s,i),l=fb(o)+fb(s.Re);return Hy(o)&&Hy(s.Re)?DN(l):Zx(s.serializer,l)}(t,e)}function YL(t,e,n){return t instanceof Du?VN(t,e):t instanceof Ou?MN(t,e):n}function ON(t,e){return t instanceof Sf?function(r){return Hy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cf extends Am{}class Du extends Am{constructor(e){super(),this.elements=e}}function VN(t,e){const n=FN(e);for(const r of t.elements)n.some(s=>ps(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends Am{constructor(e){super(),this.elements=e}}function MN(t,e){let n=FN(e);for(const r of t.elements)n=n.filter(s=>!ps(s,r));return{arrayValue:{values:n}}}class Sf extends Am{constructor(e,n){super(),this.serializer=e,this.Re=n}}function fb(t){return Ut(t.integerValue||t.doubleValue)}function FN(t){return Wx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Du&&s instanceof Du||r instanceof Ou&&s instanceof Ou?jl(r.elements,s.elements,ps):r instanceof Sf&&s instanceof Sf?ps(r.Re,s.Re):r instanceof Cf&&s instanceof Cf}(t.transform,e.transform)}class JL{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nm{}function LN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yx(t.key,Br.none()):new cd(t.key,t.data,Br.none());{const n=t.data,r=qn.empty();let s=new en(dn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new oo(t.key,r,new ar(s.toArray()),Br.none())}}function e3(t,e,n){t instanceof cd?function(s,i,o){const l=s.value.clone(),c=pb(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(s,i,o){if(!Dh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=pb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(UN(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ru(t,e,n,r){return t instanceof cd?function(i,o,l,c){if(!Dh(i.precondition,o))return l;const d=i.value.clone(),f=gb(i.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(i,o,l,c){if(!Dh(i.precondition,o))return l;const d=gb(i.fieldTransforms,c,o),f=o.data;return f.setAll(UN(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return Dh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function t3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ON(r.transform,s||null);i!=null&&(n===null&&(n=qn.empty()),n.set(r.field,i))}return n||null}function mb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jl(r,s,(i,o)=>XL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends Nm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oo extends Nm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pb(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,YL(o,l,n[s]))}return r}function gb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ZL(i,o,e))}return r}class Yx extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n3 extends Nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=LN(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(n,r)=>mb(n,r))&&jl(this.baseMutations,e.baseMutations,(n,r)=>mb(n,r))}}class Xx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ht(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return HL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,st;function o3(t){switch(t){case Y.OK:return Fe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function $N(t){if(t===void 0)return $s("GRPC error has no .code"),Y.UNKNOWN;switch(t){case zt.OK:return Y.OK;case zt.CANCELLED:return Y.CANCELLED;case zt.UNKNOWN:return Y.UNKNOWN;case zt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case zt.INTERNAL:return Y.INTERNAL;case zt.UNAVAILABLE:return Y.UNAVAILABLE;case zt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case zt.NOT_FOUND:return Y.NOT_FOUND;case zt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case zt.ABORTED:return Y.ABORTED;case zt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case zt.DATA_LOSS:return Y.DATA_LOSS;default:return Fe(39323,{code:t})}}(st=zt||(zt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new Pi([4294967295,4294967295],0);function yb(t){const e=cN().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function vb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pi([n,r],0),new Pi([s,i],0)]}class Jx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fc(`Invalid padding: ${n}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Pi.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Pi.fromNumber(r)));return s.compare(a3)===1&&(s=new Pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=yb(e),[r,s]=vb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jx(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=yb(e),[r,s]=vb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Im(ze.min(),s,new Vt(Xe),Bs(),et())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class BN{constructor(e,n){this.targetId=e,this.Ce=n}}class zN{constructor(e,n,r=mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xb{constructor(){this.Fe=0,this.Me=wb(),this.xe=mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),r=et();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Fe(38017,{changeType:i})}}),new ud(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=wb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class l3{constructor(e){this.ze=e,this.je=new Map,this.He=Bs(),this.Je=ch(),this.Ye=ch(),this.Ze=new Vt(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Ky(i))if(r===0){const o=new Ve(i.path);this.tt(n,o,Cn.newNoDocument(o,ze.min()))}else ht(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=qi(r).toUint8Array()}catch(c){if(c instanceof fN)return Il("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Jx(o,s,i)}catch(c){return Il(c instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&Ky(l.target)){const c=new Ve(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Cn.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=et();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Im(e,n,this.Ze,this.He,r);return this.He=Bs(),this.Je=ch(),this.Ye=ch(),this.Ze=new Vt(Xe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new xb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new en(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new en(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ch(){return new Vt(Ve.comparator)}function wb(){return new Vt(Ve.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d3={and:"AND",or:"OR"};class h3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gy(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f3(t,e){return Af(t,e.toTimestamp())}function ds(t){return ht(!!t,49232),ze.fromTimestamp(function(n){const r=zi(n);return new Jt(r.seconds,r.nanos)}(t))}function e0(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HN(t){const e=Et.fromString(t);return ht(ZN(e),10190,{key:e.toString()}),e}function Yy(t,e){return e0(t.databaseId,e.path)}function Zp(t,e){const n=HN(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(KN(n))}function WN(t,e){return e0(t.databaseId,e)}function m3(t){const e=HN(t);return e.length===4?Et.emptyPath():KN(e)}function Xy(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KN(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _b(t,e,n){return{name:Yy(t,e),fields:n.value.mapValue.fields}}function p3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ht(f===void 0||typeof f=="string",58123),mn.fromBase64String(f||"")):(ht(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),mn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?Y.UNKNOWN:$N(d.code);return new Ce(f,d.message||"")}(o);n=new zN(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zp(t,r.document.name),i=ds(r.document.updateTime),o=r.document.createTime?ds(r.document.createTime):ze.min(),l=new qn({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(s,i,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Oh(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zp(t,r.document),i=r.readTime?ds(r.readTime):ze.min(),o=Cn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Oh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zp(t,r.document),i=r.removedTargetIds||[];n=new Oh([],i,s,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i3(s,i),l=r.targetId;n=new BN(l,o)}}return n}function g3(t,e){let n;if(e instanceof cd)n={update:_b(t,e.key,e.value)};else if(e instanceof Yx)n={delete:Yy(t,e.key)};else if(e instanceof oo)n={update:_b(t,e.key,e.data),updateMask:C3(e.fieldMask)};else{if(!(e instanceof n3))return Fe(16599,{ft:e.type});n={verify:Yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:f3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe(27497)}(t,e.precondition)),n}function y3(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ds(s.updateTime):ds(i);return o.isEqual(ze.min())&&(o=ds(i)),new JL(o,s.transformResults||[])}(n,e))):[]}function v3(t,e){return{documents:[WN(t,e.path)]}}function x3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WN(t,s);const i=function(d){if(d.length!==0)return GN(Kr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(h){return{field:Ta(h.field),direction:b3(h.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Gy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function w3(t){let e=m3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ht(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const h=QN(m);return h instanceof Kr&&TN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(h=>function(b){return new Ru(Ca(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(m){let h;return h=typeof m=="object"?m.value:m,Em(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(m){const h=!!m.before,g=m.values||[];return new Ef(g,h)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const h=!m.before,g=m.values||[];return new Ef(g,h)}(n.endAt)),UL(e,s,o,i,l,"F",c,d)}function _3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ca(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ca(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ca(n.unaryFilter.field);return Wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ca(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(Ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kr.create(n.compositeFilter.filters.map(r=>QN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(n.compositeFilter.op))}(t):Fe(30097,{filter:t})}function b3(t){return c3[t]}function E3(t){return u3[t]}function T3(t){return d3[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function Ca(t){return dn.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof Wt?function(n){if(n.op==="=="){if(lb(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lb(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:E3(n.op),value:n.value}}}(t):t instanceof Kr?function(n){const r=n.getFilters().map(s=>GN(s));return r.length===1?r[0]:{compositeFilter:{op:T3(n.op),filters:r}}}(t):Fe(54877,{filter:t})}function C3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,s,i=ze.min(),o=ze.min(),l=mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.wt=e}}function A3(t){const e=w3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Cn=new I3}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Bi.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class I3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YN=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(YN,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Rl(0)}static lr(){return new Rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="LruGarbageCollector",j3=1048576;function Tb([t,e],[n,r]){const s=Xe(t,n);return s===0?Xe(e,r):s}class k3{constructor(e){this.Er=e,this.buffer=new en(Tb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Eb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?we(Eb,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.mr(3e5)})}}class R3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(bm.le);const r=new k3(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(bb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),ba()<=it.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function D3(t,e){return new R3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ru(r.mutation,s,ar.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=Eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mc();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Bs();const o=nu(),l=function(){return nu()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof oo)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ru(f.mutation,d,f.mutation.getFieldMask(),Jt.now())):o.set(d.key,ar.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var m;return l.set(d,new V3(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=nu();let s=new Vt((o,l)=>o-l),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||ar.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(s.get(l.batchId)||et()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=RN();f.forEach(h=>{if(!i.has(h)){const g=LN(n.get(h),r.get(h));g!==null&&m.set(h,g),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Z.resolve(Eo());let l=Iu,c=i;return o.next(d=>Z.forEach(d,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(f)?Z.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{c=c.insert(f,h)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,et())).next(f=>({batchId:l,changes:PN(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let s=Mc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mc();return this.indexManager.getCollectionParents(e,i).next(l=>Z.forEach(l,c=>{const d=function(m,h){return new Xl(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Cn.newInvalidDocument(f)))});let l=Mc();return o.forEach((c,d)=>{const f=i.get(c);f!==void 0&&ru(f.mutation,d,ar.empty(),Jt.now()),Sm(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Z.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ds(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:A3(s.bundledQuery),readTime:ds(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.overlays=new Vt(Ve.comparator),this.Qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return Z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=Eo(),i=n.length+1,o=new Ve(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=Eo(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Eo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=s)););return Z.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s3(n,r));let i=this.Qr.get(n);i===void 0&&(i=et(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.$r=new en(rn.Ur),this.Kr=new en(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new rn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new rn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ve(new Et([])),r=new rn(n,e),s=new rn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ve(new Et([])),r=new rn(n,e),s=new rn(n,e+1);let i=et();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ve.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new en(rn.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r3(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new rn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?qx:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),s=new rn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Xe);return n.forEach(s=>{const i=new rn(s,0),o=new rn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ve.isDocumentKey(i)||(i=i.child(""));const o=new rn(new Ve(i),0);let l=new en(Xe);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Zr)),!0)},o),Z.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(n.mutations,s=>{const i=new rn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new rn(n,0),s=this.Xr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.ii=e,this.docs=function(){return new Vt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Cn.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bs();const o=n.path,l=new Ve(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||xL(vL(f),r)<=0||(s.has(f.key)||Sm(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Fe(9500)}si(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z3(this)}getSize(e){return Z.resolve(this.size)}}class z3 extends O3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.persistence=e,this.oi=new la(n=>Kx(n),Qx),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new t0,this.targetCount=0,this.ui=Rl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Z.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Tr(n),Z.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Z.waitFor(i).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.ci={},this.overlays={},this.li=new bm(0),this.hi=!1,this.hi=!0,this.Pi=new U3,this.referenceDelegate=e(this),this.Ti=new q3(this),this.indexManager=new N3,this.remoteDocumentCache=function(s){return new B3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new S3(n),this.Ei=new F3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new $3(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new H3(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class H3 extends _L{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.Vi=new t0,this.mi=null}static fi(e){return new n0(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const s=Ve.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ze.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Z.or([()=>Z.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Nf{constructor(e,n){this.persistence=e,this.yi=new la(r=>TL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=D3(this,n)}static fi(e,n){return new Nf(e,n)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Z.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?Z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ze.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}Dr(e,n,r){return Z.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new r0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qM()?8:bL($M())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new W3;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ba()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(ba()<=it.DEBUG&&we("QueryEngine","Query:",Ea(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ba()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):Z.resolve())}ws(e,n){if(hb(n))return Z.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tf(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=et(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,o,c.readTime)?this.ws(e,Tf(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,s){return hb(n)||s.isEqual(ze.min())?Z.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?Z.resolve(null):(ba()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ea(n)),this.Fs(e,o,n,yL(s,Iu)).next(l=>l))})}vs(e,n){let r=new en(jN(e));return n.forEach((s,i)=>{Sm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ba()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.ys.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LocalStore",Q3=3e8;class G3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Vt(Xe),this.Os=new la(i=>Kx(i),Qx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Z3(t,e,n,r){return new G3(t,e,n,r)}async function JN(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=et();for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:l}))})})}function Y3(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const m=d.batch,h=m.keys();let g=Z.resolve();return h.forEach(b=>{g=g.next(()=>f.getEntry(c,b)).next(y=>{const E=d.docVersions.get(b);ht(E!==null,48541),y.version.compareTo(E)<0&&(m.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),f.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eI(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function X3(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((f,m)=>{const h=s.get(m);if(!h)return;l.push(n.Ti.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(i,f.addedDocuments,m)));let g=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(mn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),s=s.insert(m,g),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Q3?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,f)&&l.push(n.Ti.updateTargetData(i,g))});let c=Bs(),d=et();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(J3(i,o,e.documentUpdates).next(f=>{c=f.qs,d=f.Qs})),!r.isEqual(ze.min())){const f=n.Ti.getLastRemoteSnapshotVersion(i).next(m=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return Z.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.xs=s,i))}function J3(t,e,n){let r=et(),s=et();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Bs();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(s0,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function e6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,Z.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Jy(t,e,n){const r=qe(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yl(o))throw o;we(s0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Cb(t,e,n){const r=qe(t);let s=ze.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const m=qe(c),h=m.Os.get(f);return h!==void 0?Z.resolve(m.xs.get(h)):m.Ti.getTargetData(d,f)}(r,o,us(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ze.min(),n?i:et())).next(l=>(n6(r,BL(e),l),{documents:l,$s:i})))}function n6(t,e,n){let r=t.Ns.get(e)||ze.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class Sb{constructor(){this.activeTargetIds=QL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r6{constructor(){this.xo=new Sb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Sb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="ConnectivityMonitor";class Nb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Ab,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function ev(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",i6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===_f?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=ev(),l=this.jo(e,n.toUriEncodedString());we(Yp,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:d}=new URL(l),f=Ux(d);return this.Jo(e,l,c,r,f).then(m=>(we(Yp,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Il(Yp,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=i6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class l6 extends o6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ev();return new Promise((l,c)=>{const d=new nN;d.setWithCredentials(!0),d.listenOnce(rN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case kh.NO_ERROR:const m=d.getResponseJson();we(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case kh.TIMEOUT:we(wn,`RPC '${e}' ${o} timed out`),c(new Ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const h=d.getStatus();if(we(wn,`RPC '${e}' ${o} failed with status:`,h,"response text:",d.getResponseText()),h>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const y=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(v)>=0?v:Y.UNKNOWN}(b.status);c(new Ce(y,b.message))}else c(new Ce(Y.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ce(Y.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{we(wn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);we(wn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}I_(e,n,r){const s=ev(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oN(),l=iN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");we(wn,`Creating RPC '${e}' stream ${s}: ${f}`,c);const m=o.createWebChannel(f,c);this.E_(m);let h=!1,g=!1;const b=new a6({Zo:E=>{g?we(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(we(wn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),h=!0),we(wn,`RPC '${e}' stream ${s} sending:`,E),m.send(E))},Xo:()=>m.close()}),y=(E,_,v)=>{E.listen(_,S=>{try{v(S)}catch(P){setTimeout(()=>{throw P},0)}})};return y(m,Vc.EventType.OPEN,()=>{g||(we(wn,`RPC '${e}' stream ${s} transport opened.`),b.__())}),y(m,Vc.EventType.CLOSE,()=>{g||(g=!0,we(wn,`RPC '${e}' stream ${s} transport closed`),b.u_(),this.d_(m))}),y(m,Vc.EventType.ERROR,E=>{g||(g=!0,Il(wn,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.u_(new Ce(Y.UNAVAILABLE,"The operation could not be completed")))}),y(m,Vc.EventType.MESSAGE,E=>{var _;if(!g){const v=E.data[0];ht(!!v,16349);const S=v,P=(S==null?void 0:S.error)||((_=S[0])===null||_===void 0?void 0:_.error);if(P){we(wn,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let O=function(A){const j=zt[A];if(j!==void 0)return $N(j)}(D),T=P.message;O===void 0&&(O=Y.INTERNAL,T="Unknown error status: "+D+" with message "+P.message),g=!0,b.u_(new Ce(O,T)),m.close()}else we(wn,`RPC '${e}' stream ${s} received:`,v),b.c_(v)}}),y(l,sN.STAT_EVENT,E=>{E.stat===By.PROXY?we(wn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===By.NOPROXY&&we(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return new h3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class nI{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new tI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(we(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends nI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=p3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ze.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?ds(o.readTime):ze.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Xy(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Ky(c)?{documents:v3(i,c)}:{query:x3(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qN(i,o.resumeToken);const d=Gy(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ze.min())>0){l.readTime=Af(i,o.snapshotVersion.toTimestamp());const d=Gy(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=_3(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Xy(this.serializer),n.removeTarget=e,this.Q_(n)}}class u6 extends nI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=y3(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Xy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g3(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{}class h6 extends d6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Zy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ce(Y.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Zy(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(Y.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class f6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?($s(n),this.ua=!1):we("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class m6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{ca(this)&&(we(Wo,"Restarting streams for network reachability change."),await async function(c){const d=qe(c);d.da.add(4),await dd(d),d.Va.set("Unknown"),d.da.delete(4),await km(d)}(this))})}),this.Va=new f6(r,s)}}async function km(t){if(ca(t))for(const e of t.Aa)await e(!0)}async function dd(t){for(const e of t.Aa)await e(!1)}function rI(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),l0(n)?a0(n):Jl(n).N_()&&o0(n,e))}function i0(t,e){const n=qe(t),r=Jl(n);n.Ea.delete(e),r.N_()&&sI(n,e),n.Ea.size===0&&(r.N_()?r.k_():ca(n)&&n.Va.set("Unknown"))}function o0(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).Z_(e)}function sI(t,e){t.ma.Ke(e),Jl(t).X_(e)}function a0(t){t.ma=new l3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.Va.ca()}function l0(t){return ca(t)&&!Jl(t).O_()&&t.Ea.size>0}function ca(t){return qe(t).da.size===0}function iI(t){t.ma=void 0}async function p6(t){t.Va.set("Online")}async function g6(t){t.Ea.forEach((e,n)=>{o0(t,e)})}async function y6(t,e){iI(t),l0(t)?(t.Va.Pa(e),a0(t)):t.Va.set("Unknown")}async function v6(t,e,n){if(t.Va.set("Online"),e instanceof zN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){we(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(t,r)}else if(e instanceof Oh?t.ma.Xe(e):e instanceof BN?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ze.min()))try{const r=await eI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ea.get(d);f&&i.Ea.set(d,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const f=i.Ea.get(c);if(!f)return;i.Ea.set(c,f.withResumeToken(mn.EMPTY_BYTE_STRING,f.snapshotVersion)),sI(i,c);const m=new xi(f.target,c,d,f.sequenceNumber);o0(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we(Wo,"Failed to raise snapshot:",r),await If(t,r)}}async function If(t,e,n){if(!Yl(e))throw e;t.da.add(1),await dd(t),t.Va.set("Offline"),n||(n=()=>eI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Wo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await km(t)})}function oI(t,e){return e().catch(n=>If(t,n,e))}async function Pm(t){const e=qe(t),n=Wi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:qx;for(;x6(e);)try{const s=await e6(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,w6(e,s)}catch(s){await If(e,s)}aI(e)&&lI(e)}function x6(t){return ca(t)&&t.Ia.length<10}function w6(t,e){t.Ia.push(e);const n=Wi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function aI(t){return ca(t)&&!Wi(t).O_()&&t.Ia.length>0}function lI(t){Wi(t).start()}async function _6(t){Wi(t).ia()}async function b6(t){const e=Wi(t);for(const n of t.Ia)e.ta(n.mutations)}async function E6(t,e,n){const r=t.Ia.shift(),s=Xx.from(r,e,n);await oI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pm(t)}async function T6(t,e){e&&Wi(t).ea&&await async function(r,s){if(function(o){return o3(o)&&o!==Y.ABORTED}(s.code)){const i=r.Ia.shift();Wi(r).L_(),await oI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pm(r)}}(t,e),aI(t)&&lI(t)}async function jb(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(Wo,"RemoteStore received new credentials");const r=ca(n);n.da.add(3),await dd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await km(n)}async function C6(t,e){const n=qe(t);e?(n.da.delete(2),await km(n)):e||(n.da.add(2),await dd(n),n.Va.set("Unknown"))}function Jl(t){return t.fa||(t.fa=function(n,r,s){const i=qe(n);return i.oa(),new c6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:p6.bind(null,t),n_:g6.bind(null,t),i_:y6.bind(null,t),Y_:v6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),l0(t)?a0(t):t.Va.set("Unknown")):(await t.fa.stop(),iI(t))})),t.fa}function Wi(t){return t.ga||(t.ga=function(n,r,s){const i=qe(n);return i.oa(),new u6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:_6.bind(null,t),i_:T6.bind(null,t),na:b6.bind(null,t),ra:E6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Pm(t)):(await t.ga.stop(),t.Ia.length>0&&(we(Wo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new c0(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u0(t,e){if($s("AsyncQueue",`${e}: ${t}`),Yl(t))return new Ce(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.pa=new Vt(Ve.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dl{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Dl(e,n,el.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class A6{constructor(){this.queries=Pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=qe(n),i=s.queries;s.queries=Pb(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Ce(Y.ABORTED,"Firestore shutting down"))}}function Pb(){return new la(t=>IN(t),Cm)}async function cI(t,e){const n=qe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new S6,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=u0(o,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&d0(n)}async function uI(t,e){const n=qe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N6(t,e){const n=qe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&d0(n)}function I6(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function d0(t){t.Ca.forEach(e=>{e.next()})}var tv,Rb;(Rb=tv||(tv={})).xa="default",Rb.Cache="cache";class dI{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==tv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class fI{constructor(e){this.key=e}}class j6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.Za=jN(e),this.Xa=new el(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new kb,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const h=s.get(f),g=Sm(this.query,m)?m:null,b=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?b!==y&&(r.track({type:3,doc:g}),E=!0):this.ru(h,g)||(r.track({type:2,doc:g}),E=!0,(c&&this.Za(g,c)>0||d&&this.Za(g,d)<0)&&(l=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(c||d)&&(l=!0)),E&&(g?(o=o.add(g),i=y?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((f,m)=>function(g,b){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:E})}};return y(g)-y(b)}(f.type,m.type)||this.Za(f.doc,m.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,d=c!==this.Ja;return this.Ja=c,o.length!==0||d?{snapshot:new Dl(this.query,e.Xa,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new fI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new hI(r))}),n}au(e){this.Ha=e.$s,this.Ya=et();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Dl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const h0="SyncEngine";class k6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P6{constructor(e){this.key=e,this.cu=!1}}class R6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new la(l=>IN(l),Cm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Vt(Ve.comparator),this.Eu=new Map,this.du=new t0,this.Au={},this.Ru=new Map,this.Vu=Rl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function D6(t,e,n=!0){const r=xI(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await mI(r,e,n,!0),s}async function O6(t,e){const n=xI(t);await mI(n,e,!0,!1)}async function mI(t,e,n,r){const s=await t6(t.localStore,us(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await V6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&rI(t.remoteStore,s),l}async function V6(t,e,n,r,s){t.fu=(m,h,g)=>async function(y,E,_,v){let S=E.view.tu(_);S.Cs&&(S=await Cb(y.localStore,E.query,!1).then(({documents:T})=>E.view.tu(T,S)));const P=v&&v.targetChanges.get(E.targetId),D=v&&v.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,y.isPrimaryClient,P,D);return Ob(y,E.targetId,O.ou),O.snapshot}(t,m,h,g);const i=await Cb(t.localStore,e,!0),o=new j6(e,i.$s),l=o.tu(i.documents),c=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);Ob(t,n,d.ou);const f=new k6(e,n,o);return t.hu.set(e,f),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function M6(t,e,n){const r=qe(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Cm(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&i0(r.remoteStore,s.targetId),nv(r,s.targetId)}).catch(Zl)):(nv(r,s.targetId),await Jy(r.localStore,s.targetId,!0))}async function F6(t,e){const n=qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i0(n.remoteStore,r.targetId))}async function L6(t,e,n){const r=W6(t);try{const s=await function(o,l){const c=qe(o),d=Jt.now(),f=l.reduce((g,b)=>g.add(b.key),et());let m,h;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Bs(),y=et();return c.Bs.getEntries(g,f).next(E=>{b=E,b.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(E=>{m=E;const _=[];for(const v of l){const S=t3(v,m.get(v.key).overlayedDocument);S!=null&&_.push(new oo(v.key,S,_N(S.value.mapValue),Br.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,_,l)}).next(E=>{h=E;const _=E.applyToLocalDocumentSet(m,y);return c.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:h.batchId,changes:PN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Au[o.currentUser.toKey()];d||(d=new Vt(Xe)),d=d.insert(l,c),o.Au[o.currentUser.toKey()]=d}(r,s.batchId,n),await hd(r,s.changes),await Pm(r.remoteStore)}catch(s){const i=u0(s,"Failed to persist write");n.reject(i)}}async function pI(t,e){const n=qe(t);try{const r=await X3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?ht(o.cu,14607):s.removedDocuments.size>0&&(ht(o.cu,42227),o.cu=!1))}),await hd(n,r,e)}catch(r){await Zl(r)}}function Db(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=qe(o);c.onlineState=l;let d=!1;c.queries.forEach((f,m)=>{for(const h of m.Sa)h.Fa(l)&&(d=!0)}),d&&d0(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U6(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Vt(Ve.comparator);o=o.insert(i,Cn.newNoDocument(i,ze.min()));const l=et().add(i),c=new Im(ze.min(),new Map,new Vt(Xe),o,l);await pI(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),f0(r)}else await Jy(r.localStore,e,!1).then(()=>nv(r,e,n)).catch(Zl)}async function $6(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await Y3(n.localStore,e);yI(n,r,null),gI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,s)}catch(s){await Zl(s)}}async function B6(t,e,n){const r=qe(t);try{const s=await function(o,l){const c=qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(ht(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);yI(r,e,n),gI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hd(r,s)}catch(s){await Zl(s)}}function gI(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function yI(t,e,n){const r=qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||vI(t,r)})}function vI(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(i0(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),f0(t))}function Ob(t,e,n){for(const r of n)r instanceof hI?(t.du.addReference(r.key,e),z6(t,r)):r instanceof fI?(we(h0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||vI(t,r.key)):Fe(19791,{pu:r})}function z6(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(we(h0,"New document in limbo: "+n),t.Tu.add(r),f0(t))}function f0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ve(Et.fromString(e)),r=t.Vu.next();t.Eu.set(r,new P6(n)),t.Iu=t.Iu.insert(n,r),rI(t.remoteStore,new xi(us(Gx(n.path)),r,"TargetPurposeLimboResolution",bm.le))}}async function hd(t,e,n){const r=qe(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=r0.Rs(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,d){const f=qe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Z.forEach(d,h=>Z.forEach(h.ds,g=>f.persistence.referenceDelegate.addReference(m,h.targetId,g)).next(()=>Z.forEach(h.As,g=>f.persistence.referenceDelegate.removeReference(m,h.targetId,g)))))}catch(m){if(!Yl(m))throw m;we(s0,"Failed to update sequence numbers: "+m)}for(const m of d){const h=m.targetId;if(!m.fromCache){const g=f.xs.get(h),b=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(b);f.xs=f.xs.insert(h,y)}}}(r.localStore,i))}async function q6(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(h0,"User change. New user:",e.toKey());const r=await JN(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new Ce(Y.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hd(n,r.ks)}}function H6(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return et().add(r.key);{let s=et();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const l=n.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function xI(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.lu.Y_=N6.bind(null,e.eventManager),e.lu.gu=I6.bind(null,e.eventManager),e}function W6(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B6.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return Z3(this.persistence,new K3,e.initialUser,this.serializer)}Su(e){return new XN(n0.fi,this.serializer)}bu(e){return new r6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class K6 extends jf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ht(this.persistence.referenceDelegate instanceof Nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new XN(r=>Nf.fi(r,n),this.serializer)}}class rv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Db(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A6}()}createDatastore(e){const n=jm(e.databaseInfo.databaseId),r=function(i){return new l6(i)}(e.databaseInfo);return function(i,o,l,c){return new h6(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new m6(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Db(this.syncEngine,n,0),function(){return Nb.C()?new Nb:new s6}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,f){const m=new R6(s,i,o,l,c,d);return f&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=qe(s);we(Wo,"RemoteStore shutting down."),i.da.add(5),await dd(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rv.provider={build:()=>new rv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class Q6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=uN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{we(Ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we(Ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G6(t);we(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jb(e.remoteStore,s)),t._onlineComponents=e}async function G6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ki,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new jf)}}else we(Ki,"Using default OfflineComponentProvider"),await Jp(t,new K6(void 0));return t._offlineComponents}async function _I(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ki,"Using user provided OnlineComponentProvider"),await Vb(t,t._uninitializedComponentsProvider._online)):(we(Ki,"Using default OnlineComponentProvider"),await Vb(t,new rv))),t._onlineComponents}function Z6(t){return _I(t).then(e=>e.syncEngine)}async function sv(t){const e=await _I(t),n=e.eventManager;return n.onListen=D6.bind(null,e.syncEngine),n.onUnlisten=M6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),n}function Y6(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const f=new wI({next:h=>{f.xu(),o.enqueueAndForget(()=>uI(i,m)),h.fromCache&&c.source==="server"?d.reject(new Ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(h)},error:h=>d.reject(h)}),m=new dI(l,f,{includeMetadataChanges:!0,Qa:!0});return cI(i,m)}(await sv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e,n){if(!n)throw new Ce(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X6(t,e,n,r){if(e===!0&&r===!0)throw new Ce(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fb(t){if(!Ve.isDocumentKey(t))throw new Ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lb(t){if(Ve.isDocumentKey(t))throw new Ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rm(t);throw new Ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firestore.googleapis.com",Ub=!0;class $b{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TI,this.ssl=Ub}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j3)throw new Ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lL;switch(r.type){case"firstParty":return new hL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mb.get(n);r&&(we("ComponentProvider","Removing Datastore"),Mb.delete(n),r.terminate())}(this),Promise.resolve()}}function J6(t,e,n,r={}){var s;t=hs(t,Dm);const i=Ux(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(VM(`https://${c}`),UM("Firestore",!0)),o.host!==TI&&o.host!==c&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Au(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=En.MOCK_USER;else{f=MM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new En(h)}t._authCredentials=new cL(new lN(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Di extends Ws{constructor(e,n,r){super(e,n,Gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Ve(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Ar(t),EI("collection","path",e),t instanceof Dm){const r=Et.fromString(e,...n);return Lb(r),new Di(t,null,r)}{if(!(t instanceof Yn||t instanceof Di))throw new Ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return Lb(r),new Di(t.firestore,null,r)}}function Xn(t,e,...n){if(t=Ar(t),arguments.length===1&&(e=uN.newId()),EI("doc","path",e),t instanceof Dm){const r=Et.fromString(e,...n);return Fb(r),new Yn(t,null,new Ve(r))}{if(!(t instanceof Yn||t instanceof Di))throw new Ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return Fb(r),new Yn(t.firestore,t instanceof Di?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="AsyncQueue";class zb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new tI(this,"async_queue_retry"),this.rc=()=>{const r=Xp();r&&we(Bb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Yl(e))throw e;we(Bb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,$s("INTERNAL UNHANDLED ERROR: ",qb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=c0.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Fe(47125,{cc:qb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function qb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ko extends Dm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zb(e),this._firestoreClient=void 0,await e}}}function e9(t,e){const n=typeof t=="object"?t:XA(),r=typeof t=="string"?t:_f,s=ld(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DM("firestore");i&&J6(s,...i)}return s}function m0(t){if(t._terminated)throw new Ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t9(t),t._firestoreClient}function t9(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,f){return new AL(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,bI(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Q6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(mn.fromBase64String(e))}catch(n){throw new Ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=/^__.*__$/;class r9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class CI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:t})}}class v0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new v0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(SI(this.Ic)&&n9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class s9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jm(e)}bc(e,n,r,s=!1){return new v0({Ic:e,methodName:n,wc:r,path:dn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(t){const e=t._freezeSettings(),n=jm(t._databaseId);return new s9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i9(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);w0("Data must be an object, but it was:",o,r);const l=AI(r,o);let c,d;if(i.merge)c=new ar(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const h=iv(e,m,n);if(!o.contains(h))throw new Ce(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);II(f,h)||f.push(h)}c=new ar(f),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new r9(new qn(l),c,d)}class Vm extends p0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}function o9(t,e,n,r){const s=t.bc(1,e,n);w0("Data must be an object, but it was:",s,r);const i=[],o=qn.empty();io(r,(c,d)=>{const f=_0(e,c,n);d=Ar(d);const m=s.mc(f);if(d instanceof Vm)i.push(f);else{const h=fd(d,m);h!=null&&(i.push(f),o.set(f,h))}});const l=new ar(i);return new CI(o,l,s.fieldTransforms)}function a9(t,e,n,r,s,i){const o=t.bc(1,e,n),l=[iv(e,r,n)],c=[s];if(i.length%2!=0)throw new Ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(iv(e,i[h])),c.push(i[h+1]);const d=[],f=qn.empty();for(let h=l.length-1;h>=0;--h)if(!II(d,l[h])){const g=l[h];let b=c[h];b=Ar(b);const y=o.mc(g);if(b instanceof Vm)d.push(g);else{const E=fd(b,y);E!=null&&(d.push(g),f.set(g,E))}}const m=new ar(d);return new CI(f,m,o.fieldTransforms)}function l9(t,e,n,r=!1){return fd(n,t.bc(r?4:3,e))}function fd(t,e){if(NI(t=Ar(t)))return w0("Unsupported field value:",e,t),AI(t,e);if(t instanceof p0)return function(r,s){if(!SI(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=fd(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Jt.fromDate(r);return{timestampValue:Af(s.serializer,i)}}if(r instanceof Jt){const i=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(s.serializer,i)}}if(r instanceof g0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:qN(s.serializer,r._byteString)};if(r instanceof Yn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof y0)return function(o,l){return{mapValue:{fields:{[vN]:{stringValue:wN},[bf]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return Zx(l.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Rm(r)}`)}(t,e)}function AI(t,e){const n={};return hN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,s)=>{const i=fd(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof g0||t instanceof Ol||t instanceof Yn||t instanceof p0||t instanceof y0)}function w0(t,e,n){if(!NI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Rm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function iv(t,e,n){if((e=Ar(e))instanceof Om)return e._internalPath;if(typeof e=="string")return _0(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const c9=new RegExp("[~\\*/\\[\\]]");function _0(t,e,n){if(e.search(c9)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Om(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Ce(Y.INVALID_ARGUMENT,l+t+c)}function II(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u9 extends jI{data(){return super.data()}}function b0(t,e){return typeof e=="string"?_0(t,e):e instanceof Om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}class T0 extends E0{}function ec(t,e,...n){let r=[];e instanceof E0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof S0).length,l=i.filter(c=>c instanceof C0).length;if(o>1||o>0&&l>0)throw new Ce(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class C0 extends T0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new C0(e,n,r)}_apply(e){const n=this._parse(e);return PI(e._query,n),new Ws(e.firestore,e.converter,Qy(e._query,n))}_parse(e){const n=x0(e.firestore);return function(i,o,l,c,d,f,m){let h;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ce(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Kb(m,f);const b=[];for(const y of m)b.push(Wb(c,i,y));h={arrayValue:{values:b}}}else h=Wb(c,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Kb(m,f),h=l9(l,o,m,f==="in"||f==="not-in");return Wt.create(d,f,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class S0 extends E0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)PI(o,c),o=Qy(o,c)}(e._query,n),new Ws(e.firestore,e.converter,Qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A0 extends T0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(i,o)}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Xl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function tc(t,e="asc"){const n=e,r=b0("orderBy",t);return A0._create(r,n)}class N0 extends T0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new N0(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,Tf(e._query,this._limit,this._limitType))}}function d9(t){return N0._create("limit",t,"F")}function Wb(t,e,n){if(typeof(n=Ar(n))=="string"){if(n==="")throw new Ce(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NN(e)&&n.indexOf("/")!==-1)throw new Ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Ve.isDocumentKey(r))throw new Ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ob(t,new Ve(r))}if(n instanceof Yn)return ob(t,n._key);throw new Ce(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rm(n)}.`)}function Kb(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h9{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[bf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ut(o.doubleValue));return new y0(i)}convertGeoPoint(e){return new g0(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ht(ZN(r),9688,{name:e});const s=new ku(r.get(1),r.get(3)),i=new Ve(r.popFirst(5));return s.isEqual(n)||$s(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RI extends jI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vh extends RI{data(e={}){return super.data(e)}}class DI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Vh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Lc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Vh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Lc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:m9(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}class I0 extends h9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function Mm(t){t=hs(t,Ws);const e=hs(t.firestore,Ko),n=m0(e),r=new I0(e);return kI(t._query),Y6(n,t._query).then(s=>new DI(e,r,t,s))}function md(t,e,n,...r){t=hs(t,Yn);const s=hs(t.firestore,Ko),i=x0(s);let o;return o=typeof(e=Ar(e))=="string"||e instanceof Om?a9(i,"updateDoc",t._key,e,n,r):o9(i,"updateDoc",t._key,e),j0(s,[o.toMutation(t._key,Br.exists(!0))])}function Vl(t){return j0(hs(t.firestore,Ko),[new Yx(t._key,Br.none())])}function Qo(t,e){const n=hs(t.firestore,Ko),r=Xn(t),s=f9(t.converter,e);return j0(n,[i9(x0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function OI(t,...e){var n,r,s;t=Ar(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Hb(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hb(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let c,d,f;if(t instanceof Yn)d=hs(t.firestore,Ko),f=Gx(t._key.path),c={next:m=>{e[o]&&e[o](p9(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=hs(t,Ws);d=hs(m.firestore,Ko),f=m._query;const h=new I0(d);c={next:g=>{e[o]&&e[o](new DI(d,h,m,g))},error:e[o+1],complete:e[o+2]},kI(t._query)}return function(h,g,b,y){const E=new wI(y),_=new dI(g,E,b);return h.asyncQueue.enqueueAndForget(async()=>cI(await sv(h),_)),()=>{E.xu(),h.asyncQueue.enqueueAndForget(async()=>uI(await sv(h),_))}}(m0(d),f,l,c)}function j0(t,e){return function(r,s){const i=new Ri;return r.asyncQueue.enqueueAndForget(async()=>L6(await Z6(r),s,i)),i.promise}(m0(t),e)}function p9(t,e,n){const r=n.docs.get(e._key),s=new I0(t);return new RI(t,s,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Gl=s})(YF),$i(new Ls("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ko(new uL(r.getProvider("auth-internal")),new fL(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(d.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),cs(Q1,G1,e),cs(Q1,G1,"esm2017")})();var g9="firebase",y9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(g9,y9,"app");const VI="@firebase/installations",k0="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e4,FI=`w:${k0}`,LI="FIS_v2",v9="https://firebaseinstallations.googleapis.com/v1",x9=60*60*1e3,w9="installations",_9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Go=new _m(w9,_9,b9);function UI(t){return t instanceof so&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I({projectId:t}){return`${v9}/projects/${t}/installations`}function BI(t){return{token:t.token,requestStatus:2,expiresIn:T9(t.expiresIn),creationTime:Date.now()}}async function zI(t,e){const r=(await e.json()).error;return Go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E9(t,{refreshToken:e}){const n=qI(t);return n.append("Authorization",C9(e)),n}async function HI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function T9(t){return Number(t.replace("s","000"))}function C9(t){return`${LI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$I(t),s=qI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:LI,appId:t.appId,sdkVersion:FI},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await HI(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:BI(d.authToken)}}else throw await zI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=/^[cdef][\w-]{21}$/,ov="";function I9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=j9(t);return N9.test(n)?n:ov}catch{return ov}}function j9(t){return A9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Map;function QI(t,e){const n=Fm(t);GI(n,e),k9(n,e)}function GI(t,e){const n=KI.get(t);if(n)for(const r of n)r(e)}function k9(t,e){const n=P9();n&&n.postMessage({key:t,fid:e}),R9()}let To=null;function P9(){return!To&&"BroadcastChannel"in self&&(To=new BroadcastChannel("[Firebase] FID Change"),To.onmessage=t=>{GI(t.data.key,t.data.fid)}),To}function R9(){KI.size===0&&To&&(To.close(),To=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="firebase-installations-database",O9=1,Zo="firebase-installations-store";let eg=null;function P0(){return eg||(eg=ZA(D9,O9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zo)}}})),eg}async function Pf(t,e){const n=Fm(t),s=(await P0()).transaction(Zo,"readwrite"),i=s.objectStore(Zo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&QI(t,e.fid),e}async function ZI(t){const e=Fm(t),r=(await P0()).transaction(Zo,"readwrite");await r.objectStore(Zo).delete(e),await r.done}async function Lm(t,e){const n=Fm(t),s=(await P0()).transaction(Zo,"readwrite"),i=s.objectStore(Zo),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&QI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(t){let e;const n=await Lm(t.appConfig,r=>{const s=V9(r),i=M9(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ov?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function V9(t){const e=t||{fid:I9(),registrationStatus:0};return YI(e)}function M9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Go.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=F9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:L9(t)}:{installationEntry:e}}async function F9(t,e){try{const n=await S9(t,e);return Pf(t.appConfig,n)}catch(n){throw UI(n)&&n.customData.serverCode===409?await ZI(t.appConfig):await Pf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function L9(t){let e=await Qb(t.appConfig);for(;e.registrationStatus===1;)await WI(100),e=await Qb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await R0(t);return r||n}return e}function Qb(t){return Lm(t,e=>{if(!e)throw Go.create("installation-not-found");return YI(e)})}function YI(t){return U9(t)?{fid:t.fid,registrationStatus:0}:t}function U9(t){return t.registrationStatus===1&&t.registrationTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9({appConfig:t,heartbeatServiceProvider:e},n){const r=B9(t,n),s=E9(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:FI,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await HI(()=>fetch(r,l));if(c.ok){const d=await c.json();return BI(d)}else throw await zI("Generate Auth Token",c)}function B9(t,{fid:e}){return`${$I(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(t,e=!1){let n;const r=await Lm(t.appConfig,i=>{if(!XI(i))throw Go.create("not-registered");const o=i.authToken;if(!e&&H9(o))return i;if(o.requestStatus===1)return n=z9(t,e),i;{if(!navigator.onLine)throw Go.create("app-offline");const l=K9(i);return n=q9(t,l),l}});return n?await n:r.authToken}async function z9(t,e){let n=await Gb(t.appConfig);for(;n.authToken.requestStatus===1;)await WI(100),n=await Gb(t.appConfig);const r=n.authToken;return r.requestStatus===0?D0(t,e):r}function Gb(t){return Lm(t,e=>{if(!XI(e))throw Go.create("not-registered");const n=e.authToken;return Q9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function q9(t,e){try{const n=await $9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pf(t.appConfig,r),n}catch(n){if(UI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pf(t.appConfig,r)}throw n}}function XI(t){return t!==void 0&&t.registrationStatus===2}function H9(t){return t.requestStatus===2&&!W9(t)}function W9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x9}function K9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Q9(t){return t.requestStatus===1&&t.requestTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t){const e=t,{installationEntry:n,registrationPromise:r}=await R0(e);return r?r.catch(console.error):D0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e=!1){const n=t;return await Y9(n),(await D0(n,e)).token}async function Y9(t){const{registrationPromise:e}=await R0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){if(!t||!t.options)throw tg("App Configuration");if(!t.name)throw tg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tg(t){return Go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="installations",J9="installations-internal",e5=t=>{const e=t.getProvider("app").getImmediate(),n=X9(e),r=ld(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t5=t=>{const e=t.getProvider("app").getImmediate(),n=ld(e,JI).getImmediate();return{getId:()=>G9(n),getToken:s=>Z9(n,s)}};function n5(){$i(new Ls(JI,e5,"PUBLIC")),$i(new Ls(J9,t5,"PRIVATE"))}n5();cs(VI,k0);cs(VI,k0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="analytics",r5="firebase_id",s5="origin",i5=60*1e3,o5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new $x("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new _m("analytics","Analytics",a5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){if(!t.startsWith(O0)){const e=ur.create("invalid-gtag-resource",{gtagURL:t});return Jn.warn(e.message),""}return t}function ej(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function c5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function u5(t,e){const n=c5("firebase-js-sdk-policy",{createScriptURL:l5}),r=document.createElement("script"),s=`${O0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function d5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function h5(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await ej(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){Jn.error(l)}t("config",s,i)}async function f5(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await ej(n);for(const c of o){const d=l.find(m=>m.measurementId===c),f=d&&e[d.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Jn.error(i)}}function m5(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await f5(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await h5(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=o;t("consent",l,c)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){Jn.error(l)}}return s}function p5(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=m5(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function g5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(O0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=30,v5=1e3;class x5{constructor(e={},n=v5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tj=new x5;function w5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _5(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:w5(r)},i=o5.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function b5(t,e=tj,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ur.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ur.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new C5;return setTimeout(async()=>{l.abort()},i5),nj({appId:r,apiKey:s,measurementId:i},o,l,e)}async function nj(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=tj){var i;const{appId:o,measurementId:l}=t;try{await E5(r,e)}catch(c){if(l)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await _5(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!T5(d)){if(s.deleteThrottleMetadata(o),l)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const f=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?F1(n,s.intervalMillis,y5):F1(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,m),Jn.debug(`Calling attemptFetch again in ${f} millis`),nj(t,m,r,s)}}function E5(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function T5(t){if(!(t instanceof so)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class C5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S5(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(){if(WA())try{await KA()}catch(t){return Jn.warn(ur.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Jn.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N5(t,e,n,r,s,i,o){var l;const c=b5(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Jn.error(g)),e.push(c);const d=A5().then(g=>{if(g)return r.getId()}),[f,m]=await Promise.all([c,d]);g5(i)||u5(i,f.measurementId),s("js",new Date);const h=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return h[s5]="firebase",h.update=!0,m!=null&&(h[r5]=m),s("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.app=e}_delete(){return delete su[this.app.options.appId],Promise.resolve()}}let su={},Zb=[];const Yb={};let ng="dataLayer",j5="gtag",Xb,rj,Jb=!1;function k5(){const t=[];if(zM()&&t.push("This is a browser extension environment."),HM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ur.create("invalid-analytics-context",{errorInfo:e});Jn.warn(n.message)}}function P5(t,e,n){k5();const r=t.options.appId;if(!r)throw ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(su[r]!=null)throw ur.create("already-exists",{id:r});if(!Jb){d5(ng);const{wrappedGtag:i,gtagCore:o}=p5(su,Zb,Yb,ng,j5);rj=i,Xb=o,Jb=!0}return su[r]=N5(t,Zb,Yb,e,Xb,ng,n),new I5(t)}function R5(t=XA()){t=Ar(t);const e=ld(t,Rf);return e.isInitialized()?e.getImmediate():D5(t)}function D5(t,e={}){const n=ld(t,Rf);if(n.isInitialized()){const s=n.getImmediate();if(Au(e,n.getOptions()))return s;throw ur.create("already-initialized")}return n.initialize({options:e})}function O5(t,e,n,r){t=Ar(t),S5(rj,su[t.app.options.appId],e,n,r).catch(s=>Jn.error(s))}const eE="@firebase/analytics",tE="0.10.16";function V5(){$i(new Ls(Rf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return P5(r,s,n)},"PUBLIC")),$i(new Ls("analytics-internal",t,"PRIVATE")),cs(eE,tE),cs(eE,tE,"esm2017");function t(e){try{const n=e.getProvider(Rf).getImmediate();return{logEvent:(r,s,i)=>O5(n,r,s,i)}}catch(n){throw ur.create("interop-component-reg-failed",{reason:n})}}}V5();const sj={apiKey:"AIzaSyB_liZT4SR7h47J9XBJYPiaYCrGNLinhuA",authDomain:"calorie-316d8.firebaseapp.com",projectId:"calorie-316d8",storageBucket:"calorie-316d8.firebasestorage.app",messagingSenderId:"817302259483",appId:"1:817302259483:web:454240a8702611bb84f5be",measurementId:"G-ZRP9DS8EQS"},ij=YA(sj),mt=e9(ij);typeof window<"u"&&sj.measurementId&&R5(ij);const M5=async()=>{try{return(await Mm(ec(Vn(mt,"workoutCategories"),tc("order")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching workout categories:",t),t}},F5=async t=>{try{return(await Qo(Vn(mt,"workoutCategories"),t)).id}catch(e){throw console.error("Error creating workout category:",e),e}},L5=async(t,e)=>{try{await md(Xn(mt,"workoutCategories",t),e)}catch(n){throw console.error("Error updating workout category:",n),n}},U5=async t=>{try{await Vl(Xn(mt,"workoutCategories",t))}catch(e){throw console.error("Error deleting workout category:",e),e}},rg=async t=>{try{return(await Mm(ec(Vn(mt,"workoutCategories",t,"subcategories"),tc("order")))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Error fetching workout subcategories:",e),e}},$5=async(t,e)=>{try{return(await Qo(Vn(mt,"workoutCategories",t,"subcategories"),e)).id}catch(n){throw console.error("Error creating workout subcategory:",n),n}},B5=async(t,e,n)=>{try{await md(Xn(mt,"workoutCategories",t,"subcategories",e),n)}catch(r){throw console.error("Error updating workout subcategory:",r),r}},z5=async(t,e)=>{try{await Vl(Xn(mt,"workoutCategories",t,"subcategories",e))}catch(n){throw console.error("Error deleting workout subcategory:",n),n}},nE=async(t,e)=>{try{const n=e?Vn(mt,"workoutCategories",t,"subcategories",e,"exercises"):Vn(mt,"workoutCategories",t,"exercises");return(await Mm(ec(n,tc("order"),d9(20)))).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error fetching exercises:",n),n}},q5=async(t,e,n)=>{try{const r=e?Vn(mt,"workoutCategories",t,"subcategories",e,"exercises"):Vn(mt,"workoutCategories",t,"exercises");return(await Qo(r,n)).id}catch(r){throw console.error("Error creating exercise:",r),r}},H5=async(t,e,n,r)=>{try{const s=e?Xn(mt,"workoutCategories",t,"subcategories",e,"exercises",n):Xn(mt,"workoutCategories",t,"exercises",n);await md(s,r)}catch(s){throw console.error("Error updating exercise:",s),s}},W5=async(t,e,n)=>{try{const r=e?Xn(mt,"workoutCategories",t,"subcategories",e,"exercises",n):Xn(mt,"workoutCategories",t,"exercises",n);await Vl(r)}catch(r){throw console.error("Error deleting exercise:",r),r}};var ot;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ot||(ot={}));var av;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(av||(av={}));const xe=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),As=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},te=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),K5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dr.create=t=>new dr(t);const Ml=(t,e)=>{let n;switch(t.code){case te.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ot.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${ot.joinValues(t.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ot.joinValues(t.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${ot.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ot.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case te.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case te.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=e.defaultError,ot.assertNever(t)}return{message:n}};let oj=Ml;function Q5(t){oj=t}function Df(){return oj}const Of=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},G5=[];function me(t,e){const n=Df(),r=Of({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ml?void 0:Ml].filter(s=>!!s)});t.common.issues.push(r)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ue;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return In.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),Ua=t=>({status:"dirty",value:t}),Mn=t=>({status:"valid",value:t}),lv=t=>t.status==="aborted",cv=t=>t.status==="dirty",Yo=t=>t.status==="valid",Vu=t=>typeof Promise<"u"&&t instanceof Promise;function Vf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function aj(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));var Uc,$c;class gs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rE=(t,e)=>{if(Yo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dr(t.common.issues);return this._error=n,this._error}}};function Qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Ye{get description(){return this._def.description}_getType(e){return As(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:As(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new In,ctx:{common:e.parent.common,data:e.data,parsedType:As(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Vu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:As(e)},i=this._parseSync({data:e,path:s.path,parent:s});return rE(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:As(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Yo(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Yo(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:As(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Vu(s)?s:Promise.resolve(s));return rE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:te.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qr({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return fs.create(this,this._def)}nullable(){return Yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zr.create(this)}promise(){return Ll.create(this,this._def)}or(e){return Uu.create([this,e],this._def)}and(e){return $u.create(this,e,this._def)}transform(e){return new Qr({...Qe(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wu({...Qe(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new V0({typeName:Le.ZodBranded,type:this,...Qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ku({...Qe(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pd.create(this,e)}readonly(){return Qu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Z5=/^c[^\s-]{8,}$/i,Y5=/^[0-9a-z]+$/,X5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,J5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eU=/^[a-z0-9_-]{21}$/i,tU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sg;const iU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dU=new RegExp(`^${lj}$`);function cj(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function hU(t){return new RegExp(`^${cj(t)}$`)}function uj(t){let e=`${lj}T${cj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function fU(t,e){return!!((e==="v4"||!e)&&iU.test(t)||(e==="v6"||!e)&&aU.test(t))}function mU(t,e){if(!tU.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function pU(t,e){return!!((e==="v4"||!e)&&oU.test(t)||(e==="v6"||!e)&&lU.test(t))}class Lr extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const i=this._getOrReturnCtx(e);return me(i,{code:te.invalid_type,expected:xe.string,received:i.parsedType}),Ue}const r=new In;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?me(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&me(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")rU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")sg||(sg=new RegExp(sU,"u")),sg.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")J5.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")eU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Z5.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Y5.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")X5.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?uj(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?dU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?nU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"duration",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?fU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?mU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"jwt",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?pU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cidr",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?uU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64url",code:te.invalid_string,message:i.message}),r.dirty()):ot.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:te.invalid_string,...je.errToObj(r)})}_addCheck(e){return new Lr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...je.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...je.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...je.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...je.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...je.errToObj(n)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lr.create=t=>{var e;return new Lr({checks:[],typeName:Le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};function gU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Qi extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const i=this._getOrReturnCtx(e);return me(i,{code:te.invalid_type,expected:xe.number,received:i.parsedType}),Ue}let r;const s=new In;for(const i of this._def.checks)i.kind==="int"?ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?gU(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:te.not_finite,message:i.message}),s.dirty()):ot.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,je.toString(n))}setLimit(e,n,r,s){return new Qi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:je.toString(s)}]})}_addCheck(e){return new Qi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ot.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Qi.create=t=>new Qi({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class Gi extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const s=new In;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ot.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return me(n,{code:te.invalid_type,expected:xe.bigint,received:n.parsedType}),Ue}gte(e,n){return this.setLimit("min",e,!0,je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,je.toString(n))}setLimit(e,n,r,s){return new Gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:je.toString(s)}]})}_addCheck(e){return new Gi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gi.create=t=>{var e;return new Gi({checks:[],typeName:Le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};class Mu extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.boolean,received:r.parsedType}),Ue}return Mn(e.data)}}Mu.create=t=>new Mu({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class Xo extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const i=this._getOrReturnCtx(e);return me(i,{code:te.invalid_type,expected:xe.date,received:i.parsedType}),Ue}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return me(i,{code:te.invalid_date}),Ue}const r=new In;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ot.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xo.create=t=>new Xo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...Qe(t)});class Mf extends Ye{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.symbol,received:r.parsedType}),Ue}return Mn(e.data)}}Mf.create=t=>new Mf({typeName:Le.ZodSymbol,...Qe(t)});class Fu extends Ye{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.undefined,received:r.parsedType}),Ue}return Mn(e.data)}}Fu.create=t=>new Fu({typeName:Le.ZodUndefined,...Qe(t)});class Lu extends Ye{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.null,received:r.parsedType}),Ue}return Mn(e.data)}}Lu.create=t=>new Lu({typeName:Le.ZodNull,...Qe(t)});class Fl extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return Mn(e.data)}}Fl.create=t=>new Fl({typeName:Le.ZodAny,...Qe(t)});class Oo extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mn(e.data)}}Oo.create=t=>new Oo({typeName:Le.ZodUnknown,...Qe(t)});class zs extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:te.invalid_type,expected:xe.never,received:n.parsedType}),Ue}}zs.create=t=>new zs({typeName:Le.ZodNever,...Qe(t)});class Ff extends Ye{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.void,received:r.parsedType}),Ue}return Mn(e.data)}}Ff.create=t=>new Ff({typeName:Le.ZodVoid,...Qe(t)});class zr extends Ye{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==xe.array)return me(n,{code:te.invalid_type,expected:xe.array,received:n.parsedType}),Ue;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(me(n,{code:o?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(me(n,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(me(n,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new gs(n,o,n.path,l)))).then(o=>In.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new gs(n,o,n.path,l)));return In.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new zr({...this._def,minLength:{value:e,message:je.toString(n)}})}max(e,n){return new zr({...this._def,maxLength:{value:e,message:je.toString(n)}})}length(e,n){return new zr({...this._def,exactLength:{value:e,message:je.toString(n)}})}nonempty(e){return this.min(1,e)}}zr.create=(t,e)=>new zr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Qe(e)});function Sa(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=fs.create(Sa(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof zr?new zr({...t._def,type:Sa(t.element)}):t instanceof fs?fs.create(Sa(t.unwrap())):t instanceof Yi?Yi.create(Sa(t.unwrap())):t instanceof ys?ys.create(t.items.map(e=>Sa(e))):t}class Pt extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ot.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==xe.object){const d=this._getOrReturnCtx(e);return me(d,{code:te.invalid_type,expected:xe.object,received:d.parsedType}),Ue}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zs&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new gs(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof zs){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(me(s,{code:te.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new gs(s,m,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,h=await f.value;d.push({key:m,value:h,alwaysSet:f.alwaysSet})}return d}).then(d=>In.mergeObjectSync(r,d)):In.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=je.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};return ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Pt({...this._def,shape:()=>n})}omit(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Pt({...this._def,shape:()=>n})}deepPartial(){return Sa(this)}partial(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Pt({...this._def,shape:()=>n})}required(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof fs;)i=i._def.innerType;n[r]=i}}),new Pt({...this._def,shape:()=>n})}keyof(){return dj(ot.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:zs.create(),typeName:Le.ZodObject,...Qe(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:zs.create(),typeName:Le.ZodObject,...Qe(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:zs.create(),typeName:Le.ZodObject,...Qe(e)});class Uu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new dr(l.ctx.common.issues));return me(n,{code:te.invalid_union,unionErrors:o}),Ue}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new dr(c));return me(n,{code:te.invalid_union,unionErrors:l}),Ue}}get options(){return this._def.options}}Uu.create=(t,e)=>new Uu({options:t,typeName:Le.ZodUnion,...Qe(e)});const Ts=t=>t instanceof zu?Ts(t.schema):t instanceof Qr?Ts(t.innerType()):t instanceof qu?[t.value]:t instanceof Zi?t.options:t instanceof Hu?ot.objectValues(t.enum):t instanceof Wu?Ts(t._def.innerType):t instanceof Fu?[void 0]:t instanceof Lu?[null]:t instanceof fs?[void 0,...Ts(t.unwrap())]:t instanceof Yi?[null,...Ts(t.unwrap())]:t instanceof V0||t instanceof Qu?Ts(t.unwrap()):t instanceof Ku?Ts(t._def.innerType):[];class Um extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.object)return me(n,{code:te.invalid_type,expected:xe.object,received:n.parsedType}),Ue;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(me(n,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Ts(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Um({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Qe(r)})}}function uv(t,e){const n=As(t),r=As(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const s=ot.objectKeys(e),i=ot.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=uv(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=uv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class $u extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(lv(i)||lv(o))return Ue;const l=uv(i.value,o.value);return l.valid?((cv(i)||cv(o))&&n.dirty(),{status:n.value,value:l.data}):(me(r,{code:te.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}$u.create=(t,e,n)=>new $u({left:t,right:e,typeName:Le.ZodIntersection,...Qe(n)});class ys extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return me(r,{code:te.invalid_type,expected:xe.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return me(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new gs(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>In.mergeArray(n,o)):In.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ys({...this._def,rest:e})}}ys.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ys({items:t,typeName:Le.ZodTuple,rest:null,...Qe(e)})};class Bu extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.object)return me(r,{code:te.invalid_type,expected:xe.object,received:r.parsedType}),Ue;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new gs(r,l,r.path,l)),value:o._parse(new gs(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?In.mergeObjectAsync(n,s):In.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ye?new Bu({keyType:e,valueType:n,typeName:Le.ZodRecord,...Qe(r)}):new Bu({keyType:Lr.create(),valueType:e,typeName:Le.ZodRecord,...Qe(n)})}}class Lf extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return me(r,{code:te.invalid_type,expected:xe.map,received:r.parsedType}),Ue;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new gs(r,l,r.path,[d,"key"])),value:i._parse(new gs(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Ue;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Ue;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Lf.create=(t,e,n)=>new Lf({valueType:e,keyType:t,typeName:Le.ZodMap,...Qe(n)});class Jo extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return me(r,{code:te.invalid_type,expected:xe.set,received:r.parsedType}),Ue;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(me(r,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(me(r,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Ue;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new gs(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Jo({...this._def,minSize:{value:e,message:je.toString(n)}})}max(e,n){return new Jo({...this._def,maxSize:{value:e,message:je.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Jo.create=(t,e)=>new Jo({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...Qe(e)});class tl extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.function)return me(n,{code:te.invalid_type,expected:xe.function,received:n.parsedType}),Ue;function r(l,c){return Of({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Df(),Ml].filter(d=>!!d),issueData:{code:te.invalid_arguments,argumentsError:c}})}function s(l,c){return Of({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Df(),Ml].filter(d=>!!d),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ll){const l=this;return Mn(async function(...c){const d=new dr([]),f=await l._def.args.parseAsync(c,i).catch(g=>{throw d.addIssue(r(c,g)),d}),m=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(m,i).catch(g=>{throw d.addIssue(s(m,g)),d})})}else{const l=this;return Mn(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new dr([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),m=l._def.returns.safeParse(f,i);if(!m.success)throw new dr([s(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tl({...this._def,args:ys.create(e).rest(Oo.create())})}returns(e){return new tl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new tl({args:e||ys.create([]).rest(Oo.create()),returns:n||Oo.create(),typeName:Le.ZodFunction,...Qe(r)})}}class zu extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zu.create=(t,e)=>new zu({getter:t,typeName:Le.ZodLazy,...Qe(e)});class qu extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}qu.create=(t,e)=>new qu({value:t,typeName:Le.ZodLiteral,...Qe(e)});function dj(t,e){return new Zi({values:t,typeName:Le.ZodEnum,...Qe(e)})}class Zi extends Ye{constructor(){super(...arguments),Uc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{expected:ot.joinValues(r),received:n.parsedType,code:te.invalid_type}),Ue}if(Vf(this,Uc)||aj(this,Uc,new Set(this._def.values)),!Vf(this,Uc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{received:n.data,code:te.invalid_enum_value,options:r}),Ue}return Mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Zi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Zi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Uc=new WeakMap;Zi.create=dj;class Hu extends Ye{constructor(){super(...arguments),$c.set(this,void 0)}_parse(e){const n=ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=ot.objectValues(n);return me(r,{expected:ot.joinValues(s),received:r.parsedType,code:te.invalid_type}),Ue}if(Vf(this,$c)||aj(this,$c,new Set(ot.getValidEnumValues(this._def.values))),!Vf(this,$c).has(e.data)){const s=ot.objectValues(n);return me(r,{received:r.data,code:te.invalid_enum_value,options:s}),Ue}return Mn(e.data)}get enum(){return this._def.values}}$c=new WeakMap;Hu.create=(t,e)=>new Hu({values:t,typeName:Le.ZodNativeEnum,...Qe(e)});class Ll extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return me(n,{code:te.invalid_type,expected:xe.promise,received:n.parsedType}),Ue;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Mn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ll.create=(t,e)=>new Ll({type:t,typeName:Le.ZodPromise,...Qe(e)});class Qr extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{me(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ue;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ue:c.status==="dirty"||n.value==="dirty"?Ua(c.value):c});{if(n.value==="aborted")return Ue;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ue:l.status==="dirty"||n.value==="dirty"?Ua(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ue:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ue:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yo(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Yo(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);ot.assertNever(s)}}Qr.create=(t,e,n)=>new Qr({schema:t,typeName:Le.ZodEffects,effect:e,...Qe(n)});Qr.createWithPreprocess=(t,e,n)=>new Qr({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...Qe(n)});class fs extends Ye{_parse(e){return this._getType(e)===xe.undefined?Mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fs.create=(t,e)=>new fs({innerType:t,typeName:Le.ZodOptional,...Qe(e)});class Yi extends Ye{_parse(e){return this._getType(e)===xe.null?Mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yi.create=(t,e)=>new Yi({innerType:t,typeName:Le.ZodNullable,...Qe(e)});class Wu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wu.create=(t,e)=>new Wu({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class Ku extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ku.create=(t,e)=>new Ku({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class Uf extends Ye{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return me(r,{code:te.invalid_type,expected:xe.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}Uf.create=t=>new Uf({typeName:Le.ZodNaN,...Qe(t)});const yU=Symbol("zod_brand");class V0 extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pd extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(n.dirty(),Ua(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ue:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new pd({in:e,out:n,typeName:Le.ZodPipeline})}}class Qu extends Ye{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Yo(s)&&(s.value=Object.freeze(s.value)),s);return Vu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:Le.ZodReadonly,...Qe(e)});function sE(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function hj(t,e={},n){return t?Fl.create().superRefine((r,s)=>{var i,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,f;if(!c){const m=sE(e,r),h=(f=(d=m.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...m,fatal:h})}});if(!l){const c=sE(e,r),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):Fl.create()}const vU={object:Pt.lazycreate};var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const xU=(t,e={message:`Input not instance of ${t.name}`})=>hj(n=>n instanceof t,e),fj=Lr.create,mj=Qi.create,wU=Uf.create,_U=Gi.create,pj=Mu.create,bU=Xo.create,EU=Mf.create,TU=Fu.create,CU=Lu.create,SU=Fl.create,AU=Oo.create,NU=zs.create,IU=Ff.create,jU=zr.create,kU=Pt.create,PU=Pt.strictCreate,RU=Uu.create,DU=Um.create,OU=$u.create,VU=ys.create,MU=Bu.create,FU=Lf.create,LU=Jo.create,UU=tl.create,$U=zu.create,BU=qu.create,zU=Zi.create,qU=Hu.create,HU=Ll.create,iE=Qr.create,WU=fs.create,KU=Yi.create,QU=Qr.createWithPreprocess,GU=pd.create,ZU=()=>fj().optional(),YU=()=>mj().optional(),XU=()=>pj().optional(),JU={string:t=>Lr.create({...t,coerce:!0}),number:t=>Qi.create({...t,coerce:!0}),boolean:t=>Mu.create({...t,coerce:!0}),bigint:t=>Gi.create({...t,coerce:!0}),date:t=>Xo.create({...t,coerce:!0})},e$=Ue;var B=Object.freeze({__proto__:null,defaultErrorMap:Ml,setErrorMap:Q5,getErrorMap:Df,makeIssue:Of,EMPTY_PATH:G5,addIssueToContext:me,ParseStatus:In,INVALID:Ue,DIRTY:Ua,OK:Mn,isAborted:lv,isDirty:cv,isValid:Yo,isAsync:Vu,get util(){return ot},get objectUtil(){return av},ZodParsedType:xe,getParsedType:As,ZodType:Ye,datetimeRegex:uj,ZodString:Lr,ZodNumber:Qi,ZodBigInt:Gi,ZodBoolean:Mu,ZodDate:Xo,ZodSymbol:Mf,ZodUndefined:Fu,ZodNull:Lu,ZodAny:Fl,ZodUnknown:Oo,ZodNever:zs,ZodVoid:Ff,ZodArray:zr,ZodObject:Pt,ZodUnion:Uu,ZodDiscriminatedUnion:Um,ZodIntersection:$u,ZodTuple:ys,ZodRecord:Bu,ZodMap:Lf,ZodSet:Jo,ZodFunction:tl,ZodLazy:zu,ZodLiteral:qu,ZodEnum:Zi,ZodNativeEnum:Hu,ZodPromise:Ll,ZodEffects:Qr,ZodTransformer:Qr,ZodOptional:fs,ZodNullable:Yi,ZodDefault:Wu,ZodCatch:Ku,ZodNaN:Uf,BRAND:yU,ZodBranded:V0,ZodPipeline:pd,ZodReadonly:Qu,custom:hj,Schema:Ye,ZodSchema:Ye,late:vU,get ZodFirstPartyTypeKind(){return Le},coerce:JU,any:SU,array:jU,bigint:_U,boolean:pj,date:bU,discriminatedUnion:DU,effect:iE,enum:zU,function:UU,instanceof:xU,intersection:OU,lazy:$U,literal:BU,map:FU,nan:wU,nativeEnum:qU,never:NU,null:CU,nullable:KU,number:mj,object:kU,oboolean:XU,onumber:YU,optional:WU,ostring:ZU,pipeline:GU,preprocess:QU,promise:HU,record:MU,set:LU,strictObject:PU,string:fj,symbol:EU,transformer:iE,tuple:VU,undefined:TU,union:RU,unknown:AU,void:IU,NEVER:e$,ZodIssueCode:te,quotelessJson:K5,ZodError:dr});const t$=B.object({id:B.string(),name:B.string().min(1,"Food name is required"),kurdishName:B.string().optional(),arabicName:B.string().optional(),baseName:B.string().min(1,"Base name is required"),brand:B.string().optional(),category:B.enum(["fruits","vegetables","grains","proteins","dairy","beverages","snacks","condiments","protein supplements"]),foodType:B.enum(["solid","liquid"]),availableUnits:B.array(B.enum(["ml","l","g","cup","tbsp","tsp","plate","fist","piece"])).optional(),nutritionPer100:B.object({calories:B.number().min(0,"Calories must be non-negative"),protein:B.number().min(0).optional(),carbs:B.number().min(0).optional(),fat:B.number().min(0).optional(),fiber:B.number().min(0).optional(),sugar:B.number().min(0).optional(),sodium:B.number().min(0).optional(),calcium:B.number().min(0).optional(),potassium:B.number().min(0).optional(),vitaminB12:B.number().min(0).optional(),vitaminA:B.number().min(0).optional(),vitaminE:B.number().min(0).optional(),vitaminD:B.number().min(0).optional(),vitaminC:B.number().min(0).optional(),iron:B.number().min(0).optional(),magnesium:B.number().min(0).optional()}),customConversions:B.object({cup:B.number().positive().optional(),plate:B.number().positive().optional(),fist:B.number().positive().optional(),piece:B.number().positive().optional(),tbsp:B.number().positive().optional(),tsp:B.number().positive().optional()}).optional(),vegetarian:B.boolean().optional(),vegan:B.boolean().optional(),glutenFree:B.boolean().optional(),dairyFree:B.boolean().optional(),mealPlanner:B.boolean().optional(),allowDuplication:B.boolean().optional(),lowCalorie:B.boolean().optional(),calorieAdjustment:B.boolean().optional(),minPortion:B.number().min(0).optional(),maxPortion:B.number().min(0).optional(),mealTiming:B.array(B.enum(["morning","lunch","dinner"])).optional(),createdAt:B.date(),updatedAt:B.date()});t$.omit({id:!0,createdAt:!0,updatedAt:!0});const $f={fruits:{label:"Fruits",color:"bg-green-100 text-green-800"},vegetables:{label:"Vegetables",color:"bg-green-100 text-green-800"},grains:{label:"Grains",color:"bg-yellow-100 text-yellow-800"},proteins:{label:"Proteins",color:"bg-blue-100 text-blue-800"},dairy:{label:"Dairy",color:"bg-purple-100 text-purple-800"},beverages:{label:"Beverages",color:"bg-cyan-100 text-cyan-800"},snacks:{label:"Snacks",color:"bg-orange-100 text-orange-800"},condiments:{label:"Condiments",color:"bg-gray-100 text-gray-800"},"protein supplements":{label:"Protein Supplements",color:"bg-red-100 text-red-800"}},n$=[{value:"ml",label:"milliliters (ml)"},{value:"l",label:"liters (l)"},{value:"g",label:"grams (g)"},{value:"cup",label:"cup"},{value:"tbsp",label:"tablespoon (tbsp)"},{value:"tsp",label:"teaspoon (tsp)"},{value:"plate",label:"plate"},{value:"fist",label:"fist"},{value:"piece",label:"piece"}],r$=[{value:"morning",label:"Morning/Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"}],s$=B.object({foodId:B.string(),basePortion:B.number().positive(),role:B.enum(["protein_primary","carb_primary","filler","fat_primary","vegetable","fruit","snack"]),allowedPortions:B.array(B.number().positive()).optional()}),i$=B.object({id:B.string(),name:B.string().min(1,"Meal name is required"),mealArabicName:B.string().optional(),mealKurdishName:B.string().optional(),mealType:B.array(B.enum(["breakfast","lunch","dinner","snack"])).min(1,"At least one meal type is required"),foods:B.array(s$),baseCalories:B.number().min(0),baseProtein:B.number().min(0),baseCarbs:B.number().min(0),baseFat:B.number().min(0),minScale:B.number().min(.1).max(1),maxScale:B.number().min(1).max(5),prepTime:B.number().min(0),difficulty:B.enum(["easy","medium","hard"]),cultural:B.array(B.enum(["arabic","kurdish","western","mediterranean","asian"])),tags:B.array(B.string()),createdAt:B.date(),updatedAt:B.date(),isActive:B.boolean()}),o$=i$.omit({id:!0,createdAt:!0,updatedAt:!0}),a$=B.object({id:B.string(),name:B.string().min(1,"Category name is required"),nameKurdish:B.string().optional(),nameArabic:B.string().optional(),iconUrl:B.string().optional(),iconName:B.string().optional(),order:B.number().min(1)}),l$=B.object({id:B.string(),categoryId:B.string(),name:B.string().min(1,"Subcategory name is required"),nameKurdish:B.string().optional(),nameArabic:B.string().optional(),iconUrl:B.string().optional(),iconName:B.string().optional(),order:B.number().min(1)}),c$=B.object({id:B.string(),categoryId:B.string(),subcategoryId:B.string().optional(),name:B.string().min(1,"Exercise name is required"),nameKurdish:B.string().optional(),nameArabic:B.string().optional(),description:B.string().optional(),videoUrl:B.string().optional(),thumbnailUrl:B.string().optional(),muscleGroups:B.array(B.string()).optional().default([]),bodyTarget:B.string().optional(),difficulty:B.enum(["beginner","intermediate","advanced"]).optional().default("beginner"),equipment:B.string().optional(),order:B.number().min(1).optional().default(1)}),u$=B.object({exerciseId:B.string(),categoryId:B.string(),sets:B.number().min(1),reps:B.number().min(1),notes:B.string().optional(),order:B.number().min(1)}),d$=B.object({id:B.string(),userId:B.string(),name:B.string().min(1,"Workout plan name is required"),createdAt:B.date(),exercises:B.array(u$)}),h$=B.object({id:B.string(),userId:B.string(),planId:B.string(),startTime:B.date(),endTime:B.date().optional(),completedExercises:B.array(B.string()),totalTime:B.number().min(0)}),f$=a$.omit({id:!0}),m$=l$.omit({id:!0}),p$=c$.omit({id:!0,categoryId:!0,subcategoryId:!0}).extend({categoryId:B.string().optional(),subcategoryId:B.string().optional()});d$.omit({id:!0,createdAt:!0});h$.omit({id:!0});const g$=mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ES:"button";return a.jsx(o,{className:$e(g$({variant:e,size:n,className:t})),ref:i,...s})});ue.displayName="Button";function gj(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var M0="Checkbox",[y$,c8]=oa(M0),[v$,x$]=y$(M0),yj=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[h,g]=x.useState(null),b=yt(e,P=>g(P)),y=x.useRef(!1),E=h?f||!!h.closest("form"):!0,[_=!1,v]=Eu({prop:s,defaultProp:i,onChange:d}),S=x.useRef(_);return x.useEffect(()=>{const P=h==null?void 0:h.form;if(P){const D=()=>v(S.current);return P.addEventListener("reset",D),()=>P.removeEventListener("reset",D)}},[h,v]),a.jsxs(v$,{scope:n,state:_,disabled:l,children:[a.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":Oi(_)?"mixed":_,"aria-required":o,"data-state":wj(_),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onKeyDown:We(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:We(t.onClick,P=>{v(D=>Oi(D)?!0:!D),E&&(y.current=P.isPropagationStopped(),y.current||P.stopPropagation())})}),E&&a.jsx(w$,{control:h,bubbles:!y.current,name:r,value:c,checked:_,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Oi(i)?!1:i})]})});yj.displayName=M0;var vj="CheckboxIndicator",xj=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=x$(vj,n);return a.jsx(aa,{present:r||Oi(i.state)||i.state===!0,children:a.jsx(rt.span,{"data-state":wj(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});xj.displayName=vj;var w$=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=x.useRef(null),l=gj(n),c=bA(e);x.useEffect(()=>{const f=o.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&g){const b=new Event("click",{bubbles:r});f.indeterminate=Oi(n),g.call(f,Oi(n)?!1:n),f.dispatchEvent(b)}},[l,n,r]);const d=x.useRef(Oi(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Oi(t){return t==="indeterminate"}function wj(t){return Oi(t)?"indeterminate":t?"checked":"unchecked"}var _j=yj,_$=xj;const tr=x.forwardRef(({className:t,...e},n)=>a.jsx(_j,{ref:n,className:$e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(_$,{className:$e("flex items-center justify-center text-current"),children:a.jsx(Sx,{className:"h-4 w-4"})})}));tr.displayName=_j.displayName;function b$({foods:t,selectedFoods:e,onSelectionChange:n,onEdit:r,onDelete:s,onSort:i,sortBy:o,sortOrder:l}){const c=h=>{n(h?new Set(t.map(g=>g.id)):new Set)},d=(h,g)=>{const b=new Set(e);g?b.add(h):b.delete(h),n(b)},f=h=>{const{id:g,createdAt:b,updatedAt:y,...E}=h;r({...E,name:`${h.name} (Copy)`,id:"",createdAt:new Date,updatedAt:new Date})},m=({field:h,children:g})=>a.jsxs("button",{onClick:()=>i(h),className:"flex items-center space-x-1 hover:bg-gray-100 px-2 py-1 rounded transition-colors",children:[a.jsx("span",{children:g}),o===h&&(l==="asc"?a.jsx(XS,{className:"h-4 w-4"}):a.jsx(Ax,{className:"h-4 w-4"}))]});return a.jsx("div",{className:"flex-1 overflow-auto bg-white",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx(tr,{checked:t.length>0&&e.size===t.length,onCheckedChange:c})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx(m,{field:"name",children:"Food Name"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx(m,{field:"category",children:"Category"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servings"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calories"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nutrition"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsx(m,{field:"updatedAt",children:"Last Modified"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No food items found. Add your first food item to get started."})}):t.map(h=>{var g,b,y,E,_,v;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(tr,{checked:e.has(h.id),onCheckedChange:S=>d(h.id,S)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-xl",children:""})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),h.kurdishName&&a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:h.kurdishName}),h.arabicName&&a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:h.arabicName}),h.baseName&&a.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded mt-1 inline-block",children:["Base: ",h.baseName]}),h.brand&&a.jsx("div",{className:"text-sm text-gray-500",children:h.brand})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((g=$f[h.category])==null?void 0:g.color)||"bg-gray-100 text-gray-800"}`,children:((b=$f[h.category])==null?void 0:b.label)||h.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("div",{className:"space-y-1",children:h.availableUnits&&h.availableUnits.length>0?a.jsx("div",{className:"text-xs",children:h.availableUnits.join(", ")}):a.jsx("div",{className:"text-xs text-gray-400",children:"No units defined"})})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((y=h.nutritionPer100)==null?void 0:y.calories)||h.calories||0," kcal"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:["Protein: ",a.jsxs("span",{className:"font-medium",children:[((E=h.nutritionPer100)==null?void 0:E.protein)||h.protein||0,"g"]})]}),a.jsxs("div",{children:["Carbs: ",a.jsxs("span",{className:"font-medium",children:[((_=h.nutritionPer100)==null?void 0:_.carbs)||h.carbs||0,"g"]})]}),a.jsxs("div",{children:["Fat: ",a.jsxs("span",{className:"font-medium",children:[((v=h.nutritionPer100)==null?void 0:v.fat)||h.fat||0,"g"]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.updatedAt.toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>r(h),className:"text-primary hover:text-blue-700",children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>f(h),className:"text-gray-400 hover:text-gray-600",children:a.jsx(cO,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>s(h),className:"text-red-400 hover:text-red-600",children:a.jsx(Ii,{className:"h-4 w-4"})})]})})]},h.id)})})]})})}var ig="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",oE={bubbles:!1,cancelable:!0},E$="FocusScope",F0=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=x.useState(null),d=fr(s),f=fr(i),m=x.useRef(null),h=yt(e,y=>c(y)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(S){if(g.paused||!l)return;const P=S.target;l.contains(P)?m.current=P:ti(m.current,{select:!0})},E=function(S){if(g.paused||!l)return;const P=S.relatedTarget;P!==null&&(l.contains(P)||ti(m.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&ti(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),v.disconnect()}}},[r,l,g.paused]),x.useEffect(()=>{if(l){lE.add(g);const y=document.activeElement;if(!l.contains(y)){const _=new CustomEvent(ig,oE);l.addEventListener(ig,d),l.dispatchEvent(_),_.defaultPrevented||(T$(I$(bj(l)),{select:!0}),document.activeElement===y&&ti(l))}return()=>{l.removeEventListener(ig,d),setTimeout(()=>{const _=new CustomEvent(og,oE);l.addEventListener(og,f),l.dispatchEvent(_),_.defaultPrevented||ti(y??document.body,{select:!0}),l.removeEventListener(og,f),lE.remove(g)},0)}}},[l,d,f,g]);const b=x.useCallback(y=>{if(!n&&!r||g.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const v=y.currentTarget,[S,P]=C$(v);S&&P?!y.shiftKey&&_===P?(y.preventDefault(),n&&ti(S,{select:!0})):y.shiftKey&&_===S&&(y.preventDefault(),n&&ti(P,{select:!0})):_===v&&y.preventDefault()}},[n,r,g.paused]);return a.jsx(rt.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});F0.displayName=E$;function T$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ti(r,{select:e}),document.activeElement!==n)return}function C$(t){const e=bj(t),n=aE(e,t),r=aE(e.reverse(),t);return[n,r]}function bj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aE(t,e){for(const n of t)if(!S$(n,{upTo:e}))return n}function S$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function A$(t){return t instanceof HTMLInputElement&&"select"in t}function ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&A$(t)&&e&&t.select()}}var lE=N$();function N$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cE(t,e),t.unshift(e)},remove(e){var n;t=cE(t,e),(n=t[0])==null||n.resume()}}}function cE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function I$(t){return t.filter(e=>e.tagName!=="A")}var ag=0;function Ej(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uE()),document.body.insertAdjacentElement("beforeend",t[1]??uE()),ag++,()=>{ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ag--}},[])}function uE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ss=function(){return ss=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ss.apply(this,arguments)};function Tj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Mh="right-scroll-bar-position",Fh="width-before-scroll-bar",k$="with-scroll-bars-hidden",P$="--removed-body-scroll-bar-size";function lg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function R$(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var D$=typeof window<"u"?x.useLayoutEffect:x.useEffect,dE=new WeakMap;function O$(t,e){var n=R$(null,function(r){return t.forEach(function(s){return lg(s,r)})});return D$(function(){var r=dE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||lg(l,null)}),i.forEach(function(l){s.has(l)||lg(l,o)})}dE.set(n,t)},[t]),n}function V$(t){return t}function M$(t,e){e===void 0&&(e=V$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function F$(t){t===void 0&&(t={});var e=M$(null);return e.options=ss({async:!0,ssr:!1},t),e}var Cj=function(t){var e=t.sideCar,n=Tj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ss({},n))};Cj.isSideCarExport=!0;function L$(t,e){return t.useMedium(e),Cj}var Sj=F$(),cg=function(){},$m=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:cg,onWheelCapture:cg,onTouchMoveCapture:cg}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,h=t.sideCar,g=t.noIsolation,b=t.inert,y=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,v=t.gapMode,S=Tj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=h,D=O$([n,e]),O=ss(ss({},S),s);return x.createElement(x.Fragment,null,f&&x.createElement(P,{sideCar:Sj,removeScrollBar:d,shards:m,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),o?x.cloneElement(x.Children.only(l),ss(ss({},O),{ref:D})):x.createElement(_,ss({},O,{className:c,ref:D}),l))});$m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$m.classNames={fullWidth:Fh,zeroRight:Mh};var U$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=U$();return e&&t.setAttribute("nonce",e),t}function B$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function z$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var q$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$$())&&(B$(e,n),z$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},H$=function(){var t=q$();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Aj=function(){var t=H$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},W$={left:0,top:0,right:0,gap:0},ug=function(t){return parseInt(t||"",10)||0},K$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ug(n),ug(r),ug(s)]},Q$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return W$;var e=K$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G$=Aj(),nl="data-scroll-locked",Z$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(k$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat(P$,": ").concat(l,`px;
  }
`)},hE=function(){var t=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(t)?t:0},Y$=function(){x.useEffect(function(){return document.body.setAttribute(nl,(hE()+1).toString()),function(){var t=hE()-1;t<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,t.toString())}},[])},X$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Y$();var i=x.useMemo(function(){return Q$(s)},[s]);return x.createElement(G$,{styles:Z$(i,!e,s,n?"":"!important")})},dv=!1;if(typeof window<"u")try{var dh=Object.defineProperty({},"passive",{get:function(){return dv=!0,!0}});window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{dv=!1}var va=dv?{passive:!1}:!1,J$=function(t){return t.tagName==="TEXTAREA"},Nj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!J$(t)&&n[e]==="visible")},eB=function(t){return Nj(t,"overflowY")},tB=function(t){return Nj(t,"overflowX")},fE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ij(t,r);if(s){var i=jj(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ij=function(t,e){return t==="v"?eB(e):tB(e)},jj=function(t,e){return t==="v"?nB(e):rB(e)},sB=function(t,e){return t==="h"&&e==="rtl"?-1:1},iB=function(t,e,n,r,s){var i=sB(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),d=!1,f=o>0,m=0,h=0;do{var g=jj(t,l),b=g[0],y=g[1],E=g[2],_=y-E-i*b;(b||_)&&Ij(t,l)&&(m+=_,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(d=!0),d},hh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mE=function(t){return[t.deltaX,t.deltaY]},pE=function(t){return t&&"current"in t?t.current:t},oB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lB=0,xa=[];function cB(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(lB++)[0],i=x.useState(Aj)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=j$([t.lockRef.current],(t.shards||[]).map(pE),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=hh(y),v=n.current,S="deltaX"in y?y.deltaX:v[0]-_[0],P="deltaY"in y?y.deltaY:v[1]-_[1],D,O=y.target,T=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in y&&T==="h"&&O.type==="range")return!1;var C=fE(T,O);if(!C)return!0;if(C?D=T:(D=T==="v"?"h":"v",C=fE(T,O)),!C)return!1;if(!r.current&&"changedTouches"in y&&(S||P)&&(r.current=D),!D)return!0;var A=r.current||D;return iB(A,E,y,A==="h"?S:P,!0)},[]),c=x.useCallback(function(y){var E=y;if(!(!xa.length||xa[xa.length-1]!==i)){var _="deltaY"in E?mE(E):hh(E),v=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&oB(D.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(pE).filter(Boolean).filter(function(D){return D.contains(E.target)}),P=S.length>0?l(E,S[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),d=x.useCallback(function(y,E,_,v){var S={name:y,delta:E,target:_,should:v,shadowParent:uB(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),f=x.useCallback(function(y){n.current=hh(y),r.current=void 0},[]),m=x.useCallback(function(y){d(y.type,mE(y),y.target,l(y,t.lockRef.current))},[]),h=x.useCallback(function(y){d(y.type,hh(y),y.target,l(y,t.lockRef.current))},[]);x.useEffect(function(){return xa.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,va),document.addEventListener("touchmove",c,va),document.addEventListener("touchstart",f,va),function(){xa=xa.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,va),document.removeEventListener("touchmove",c,va),document.removeEventListener("touchstart",f,va)}},[]);var g=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(i,{styles:aB(s)}):null,g?x.createElement(X$,{gapMode:t.gapMode}):null)}function uB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dB=L$(Sj,cB);var L0=x.forwardRef(function(t,e){return x.createElement($m,ss({},t,{ref:e,sideCar:dB}))});L0.classNames=$m.classNames;var hB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wa=new WeakMap,fh=new WeakMap,mh={},dg=0,kj=function(t){return t&&(t.host||kj(t.parentNode))},fB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mB=function(t,e,n,r){var s=fB(e,Array.isArray(t)?t:[t]);mh[n]||(mh[n]=new WeakMap);var i=mh[n],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))f(h);else try{var g=h.getAttribute(r),b=g!==null&&g!=="false",y=(wa.get(h)||0)+1,E=(i.get(h)||0)+1;wa.set(h,y),i.set(h,E),o.push(h),y===1&&b&&fh.set(h,!0),E===1&&h.setAttribute(n,"true"),b||h.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return f(e),l.clear(),dg++,function(){o.forEach(function(m){var h=wa.get(m)-1,g=i.get(m)-1;wa.set(m,h),i.set(m,g),h||(fh.has(m)||m.removeAttribute(r),fh.delete(m)),g||m.removeAttribute(n)}),dg--,dg||(wa=new WeakMap,wa=new WeakMap,fh=new WeakMap,mh={})}},Pj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=hB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),mB(r,s,n,"aria-hidden")):function(){return null}},U0="Dialog",[Rj,u8]=oa(U0),[pB,Gr]=Rj(U0),Dj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[d=!1,f]=Eu({prop:r,defaultProp:s,onChange:i});return a.jsx(pB,{scope:e,triggerRef:l,contentRef:c,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};Dj.displayName=U0;var Oj="DialogTrigger",gB=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(Oj,n),i=yt(e,s.triggerRef);return a.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":z0(s.open),...r,ref:i,onClick:We(t.onClick,s.onOpenToggle)})});gB.displayName=Oj;var $0="DialogPortal",[yB,Vj]=Rj($0,{forceMount:void 0}),Mj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Gr($0,e);return a.jsx(yB,{scope:e,forceMount:n,children:x.Children.map(r,o=>a.jsx(aa,{present:n||i.open,children:a.jsx(dm,{asChild:!0,container:s,children:o})}))})};Mj.displayName=$0;var Bf="DialogOverlay",Fj=x.forwardRef((t,e)=>{const n=Vj(Bf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gr(Bf,t.__scopeDialog);return i.modal?a.jsx(aa,{present:r||i.open,children:a.jsx(xB,{...s,ref:e})}):null});Fj.displayName=Bf;var vB=Cl("DialogOverlay.RemoveScroll"),xB=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(Bf,n);return a.jsx(L0,{as:vB,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(rt.div,{"data-state":z0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ea="DialogContent",Lj=x.forwardRef((t,e)=>{const n=Vj(ea,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gr(ea,t.__scopeDialog);return a.jsx(aa,{present:r||i.open,children:i.modal?a.jsx(wB,{...s,ref:e}):a.jsx(_B,{...s,ref:e})})});Lj.displayName=ea;var wB=x.forwardRef((t,e)=>{const n=Gr(ea,t.__scopeDialog),r=x.useRef(null),s=yt(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return Pj(i)},[]),a.jsx(Uj,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:We(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:We(t.onFocusOutside,i=>i.preventDefault())})}),_B=x.forwardRef((t,e)=>{const n=Gr(ea,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return a.jsx(Uj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Uj=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Gr(ea,n),c=x.useRef(null),d=yt(e,c);return Ej(),a.jsxs(a.Fragment,{children:[a.jsx(F0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(id,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":z0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(bB,{titleId:l.titleId}),a.jsx(TB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),B0="DialogTitle",$j=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(B0,n);return a.jsx(rt.h2,{id:s.titleId,...r,ref:e})});$j.displayName=B0;var Bj="DialogDescription",zj=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(Bj,n);return a.jsx(rt.p,{id:s.descriptionId,...r,ref:e})});zj.displayName=Bj;var qj="DialogClose",Hj=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(qj,n);return a.jsx(rt.button,{type:"button",...r,ref:e,onClick:We(t.onClick,()=>s.onOpenChange(!1))})});Hj.displayName=qj;function z0(t){return t?"open":"closed"}var Wj="DialogTitleWarning",[d8,Kj]=g4(Wj,{contentName:ea,titleName:B0,docsSlug:"dialog"}),bB=({titleId:t})=>{const e=Kj(Wj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EB="DialogDescriptionWarning",TB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kj(EB).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CB=Dj,SB=Mj,Qj=Fj,Gj=Lj,Zj=$j,Yj=zj,AB=Hj;const Xi=CB,NB=SB,Xj=x.forwardRef(({className:t,...e},n)=>a.jsx(Qj,{ref:n,className:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Xj.displayName=Qj.displayName;const qs=x.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(NB,{children:[a.jsx(Xj,{}),a.jsxs(Gj,{ref:r,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(AB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Sl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qs.displayName=Gj.displayName;const Ji=({className:t,...e})=>a.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ji.displayName="DialogHeader";const eo=x.forwardRef(({className:t,...e},n)=>a.jsx(Zj,{ref:n,className:$e("text-lg font-semibold leading-none tracking-tight",t),...e}));eo.displayName=Zj.displayName;const hv=x.forwardRef(({className:t,...e},n)=>a.jsx(Yj,{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));hv.displayName=Yj.displayName;const fe=x.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fe.displayName="Input";var IB="Label",Jj=x.forwardRef((t,e)=>a.jsx(rt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Jj.displayName=IB;var ek=Jj;const jB=mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=x.forwardRef(({className:t,...e},n)=>a.jsx(ek,{ref:n,className:$e(jB(),t),...e}));Nt.displayName=ek.displayName;function gE(t,[e,n]){return Math.min(n,Math.max(e,t))}var kB=x.createContext(void 0);function PB(t){const e=x.useContext(kB);return t||e||"ltr"}var RB=[" ","Enter","ArrowUp","ArrowDown"],DB=[" ","Enter"],gd="Select",[Bm,zm,OB]=CS(gd),[nc,h8]=oa(gd,[OB,vm]),qm=vm(),[VB,ao]=nc(gd),[MB,FB]=nc(gd),tk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:h,required:g,form:b}=t,y=qm(e),[E,_]=x.useState(null),[v,S]=x.useState(null),[P,D]=x.useState(!1),O=PB(d),[T=!1,C]=Eu({prop:r,defaultProp:s,onChange:i}),[A,j]=Eu({prop:o,defaultProp:l,onChange:c}),R=x.useRef(null),k=E?b||!!E.closest("form"):!0,[I,H]=x.useState(new Set),he=Array.from(I).map(de=>de.props.value).join(";");return a.jsx(iM,{...y,children:a.jsxs(VB,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:Xa(),value:A,onValueChange:j,open:T,onOpenChange:C,dir:O,triggerPointerDownPosRef:R,disabled:h,children:[a.jsx(Bm.Provider,{scope:e,children:a.jsx(MB,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(de=>{H(pe=>new Set(pe).add(de))},[]),onNativeOptionRemove:x.useCallback(de=>{H(pe=>{const M=new Set(pe);return M.delete(de),M})},[]),children:n})}),k?a.jsxs(Sk,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:de=>j(de.target.value),disabled:h,form:b,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},he):null]})})};tk.displayName=gd;var nk="SelectTrigger",rk=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=qm(n),o=ao(nk,n),l=o.disabled||r,c=yt(e,o.onTriggerChange),d=zm(n),f=x.useRef("touch"),[m,h,g]=Ak(y=>{const E=d().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),v=Nk(E,y,_);v!==void 0&&o.onValueChange(v.value)}),b=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(PA,{asChild:!0,...i,children:a.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ck(o.value)?"":void 0,...s,ref:c,onClick:We(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&b(y)}),onPointerDown:We(s.onPointerDown,y=>{f.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:We(s.onKeyDown,y=>{const E=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(E&&y.key===" ")&&RB.includes(y.key)&&(b(),y.preventDefault())})})})});rk.displayName=nk;var sk="SelectValue",ik=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=ao(sk,n),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=yt(e,c.onValueNodeChange);return Nn(()=>{d(f)},[d,f]),a.jsx(rt.span,{...l,ref:m,style:{pointerEvents:"none"},children:Ck(c.value)?a.jsx(a.Fragment,{children:o}):i})});ik.displayName=sk;var LB="SelectIcon",ok=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(rt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ok.displayName=LB;var UB="SelectPortal",ak=t=>a.jsx(dm,{asChild:!0,...t});ak.displayName=UB;var ta="SelectContent",lk=x.forwardRef((t,e)=>{const n=ao(ta,t.__scopeSelect),[r,s]=x.useState();if(Nn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ia.createPortal(a.jsx(ck,{scope:t.__scopeSelect,children:a.jsx(Bm.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(uk,{...t,ref:e})});lk.displayName=ta;var Pr=10,[ck,lo]=nc(ta),$B="SelectContentImpl",BB=Cl("SelectContent.RemoveScroll"),uk=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:E,..._}=t,v=ao(ta,n),[S,P]=x.useState(null),[D,O]=x.useState(null),T=yt(e,ie=>P(ie)),[C,A]=x.useState(null),[j,R]=x.useState(null),k=zm(n),[I,H]=x.useState(!1),he=x.useRef(!1);x.useEffect(()=>{if(S)return Pj(S)},[S]),Ej();const de=x.useCallback(ie=>{const[Pe,...$]=k().map(le=>le.ref.current),[Q]=$.slice(-1),q=document.activeElement;for(const le of ie)if(le===q||(le==null||le.scrollIntoView({block:"nearest"}),le===Pe&&D&&(D.scrollTop=0),le===Q&&D&&(D.scrollTop=D.scrollHeight),le==null||le.focus(),document.activeElement!==q))return},[k,D]),pe=x.useCallback(()=>de([C,S]),[de,C,S]);x.useEffect(()=>{I&&pe()},[I,pe]);const{onOpenChange:M,triggerPointerDownPosRef:K}=v;x.useEffect(()=>{if(S){let ie={x:0,y:0};const Pe=Q=>{var q,le;ie={x:Math.abs(Math.round(Q.pageX)-(((q=K.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((le=K.current)==null?void 0:le.y)??0))}},$=Q=>{ie.x<=10&&ie.y<=10?Q.preventDefault():S.contains(Q.target)||M(!1),document.removeEventListener("pointermove",Pe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",$,{capture:!0})}}},[S,M,K]),x.useEffect(()=>{const ie=()=>M(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[M]);const[ee,ge]=Ak(ie=>{const Pe=k().filter(q=>!q.disabled),$=Pe.find(q=>q.ref.current===document.activeElement),Q=Nk(Pe,ie,$);Q&&setTimeout(()=>Q.ref.current.focus())}),Ie=x.useCallback((ie,Pe,$)=>{const Q=!he.current&&!$;(v.value!==void 0&&v.value===Pe||Q)&&(A(ie),Q&&(he.current=!0))},[v.value]),Ne=x.useCallback(()=>S==null?void 0:S.focus(),[S]),Ke=x.useCallback((ie,Pe,$)=>{const Q=!he.current&&!$;(v.value!==void 0&&v.value===Pe||Q)&&R(ie)},[v.value]),se=r==="popper"?fv:dk,De=se===fv?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:E}:{};return a.jsx(ck,{scope:n,content:S,viewport:D,onViewportChange:O,itemRefCallback:Ie,selectedItem:C,onItemLeave:Ne,itemTextRefCallback:Ke,focusSelectedItem:pe,selectedItemText:j,position:r,isPositioned:I,searchRef:ee,children:a.jsx(L0,{as:BB,allowPinchZoom:!0,children:a.jsx(F0,{asChild:!0,trapped:v.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:We(s,ie=>{var Pe;(Pe=v.trigger)==null||Pe.focus({preventScroll:!0}),ie.preventDefault()}),children:a.jsx(id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(se,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ie=>ie.preventDefault(),..._,...De,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:We(_.onKeyDown,ie=>{const Pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Pe&&ie.key.length===1&&ge(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Q=k().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const q=ie.target,le=Q.indexOf(q);Q=Q.slice(le+1)}setTimeout(()=>de(Q)),ie.preventDefault()}})})})})})})});uk.displayName=$B;var zB="SelectItemAlignedPosition",dk=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ao(ta,n),o=lo(ta,n),[l,c]=x.useState(null),[d,f]=x.useState(null),m=yt(e,T=>f(T)),h=zm(n),g=x.useRef(!1),b=x.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:v}=o,S=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&E&&_){const T=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),j=_.getBoundingClientRect();if(i.dir!=="rtl"){const q=j.left-C.left,le=A.left-q,X=T.left-le,He=T.width+X,St=Math.max(He,C.width),tn=window.innerWidth-Pr,an=gE(le,[Pr,Math.max(Pr,tn-St)]);l.style.minWidth=He+"px",l.style.left=an+"px"}else{const q=C.right-j.right,le=window.innerWidth-A.right-q,X=window.innerWidth-T.right-le,He=T.width+X,St=Math.max(He,C.width),tn=window.innerWidth-Pr,an=gE(le,[Pr,Math.max(Pr,tn-St)]);l.style.minWidth=He+"px",l.style.right=an+"px"}const R=h(),k=window.innerHeight-Pr*2,I=y.scrollHeight,H=window.getComputedStyle(d),he=parseInt(H.borderTopWidth,10),de=parseInt(H.paddingTop,10),pe=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),K=he+de+I+M+pe,ee=Math.min(E.offsetHeight*5,K),ge=window.getComputedStyle(y),Ie=parseInt(ge.paddingTop,10),Ne=parseInt(ge.paddingBottom,10),Ke=T.top+T.height/2-Pr,se=k-Ke,De=E.offsetHeight/2,ie=E.offsetTop+De,Pe=he+de+ie,$=K-Pe;if(Pe<=Ke){const q=R.length>0&&E===R[R.length-1].ref.current;l.style.bottom="0px";const le=d.clientHeight-y.offsetTop-y.offsetHeight,X=Math.max(se,De+(q?Ne:0)+le+pe),He=Pe+X;l.style.height=He+"px"}else{const q=R.length>0&&E===R[0].ref.current;l.style.top="0px";const X=Math.max(Ke,he+y.offsetTop+(q?Ie:0)+De)+$;l.style.height=X+"px",y.scrollTop=Pe-Ke+y.offsetTop}l.style.margin=`${Pr}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,l,d,y,E,_,i.dir,r]);Nn(()=>S(),[S]);const[P,D]=x.useState();Nn(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=x.useCallback(T=>{T&&b.current===!0&&(S(),v==null||v(),b.current=!1)},[S,v]);return a.jsx(HB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:a.jsx(rt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dk.displayName=zB;var qB="SelectPopperPosition",fv=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Pr,...i}=t,o=qm(n);return a.jsx(RA,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fv.displayName=qB;var[HB,q0]=nc(ta,{}),mv="SelectViewport",hk=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=lo(mv,n),o=q0(mv,n),l=yt(e,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Bm.Slot,{scope:n,children:a.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const g=Math.abs(c.current-f.scrollTop);if(g>0){const b=window.innerHeight-Pr*2,y=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),_=Math.max(y,E);if(_<b){const v=_+g,S=Math.min(b,v),P=v-S;m.style.height=S+"px",m.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});hk.displayName=mv;var fk="SelectGroup",[WB,KB]=nc(fk),QB=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xa();return a.jsx(WB,{scope:n,id:s,children:a.jsx(rt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});QB.displayName=fk;var mk="SelectLabel",pk=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=KB(mk,n);return a.jsx(rt.div,{id:s.id,...r,ref:e})});pk.displayName=mk;var zf="SelectItem",[GB,gk]=nc(zf),yk=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=ao(zf,n),c=lo(zf,n),d=l.value===r,[f,m]=x.useState(i??""),[h,g]=x.useState(!1),b=yt(e,v=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,v,r,s)}),y=Xa(),E=x.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(GB,{scope:n,value:r,disabled:s,textId:y,isSelected:d,onItemTextChange:x.useCallback(v=>{m(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Bm.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:a.jsx(rt.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:We(o.onFocus,()=>g(!0)),onBlur:We(o.onBlur,()=>g(!1)),onClick:We(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:We(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:We(o.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:We(o.onPointerMove,v=>{var S;E.current=v.pointerType,s?(S=c.onItemLeave)==null||S.call(c):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:We(o.onKeyDown,v=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(DB.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});yk.displayName=zf;var Bc="SelectItemText",vk=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ao(Bc,n),l=lo(Bc,n),c=gk(Bc,n),d=FB(Bc,n),[f,m]=x.useState(null),h=yt(e,_=>m(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),g=f==null?void 0:f.textContent,b=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=d;return Nn(()=>(y(b),()=>E(b)),[y,E,b]),a.jsxs(a.Fragment,{children:[a.jsx(rt.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ia.createPortal(i.children,o.valueNode):null]})});vk.displayName=Bc;var xk="SelectItemIndicator",wk=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return gk(xk,n).isSelected?a.jsx(rt.span,{"aria-hidden":!0,...r,ref:e}):null});wk.displayName=xk;var pv="SelectScrollUpButton",_k=x.forwardRef((t,e)=>{const n=lo(pv,t.__scopeSelect),r=q0(pv,t.__scopeSelect),[s,i]=x.useState(!1),o=yt(e,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Ek,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_k.displayName=pv;var gv="SelectScrollDownButton",bk=x.forwardRef((t,e)=>{const n=lo(gv,t.__scopeSelect),r=q0(gv,t.__scopeSelect),[s,i]=x.useState(!1),o=yt(e,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Ek,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bk.displayName=gv;var Ek=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=lo("SelectScrollButton",n),o=x.useRef(null),l=zm(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Nn(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(rt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:We(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:We(s.onPointerLeave,()=>{c()})})}),ZB="SelectSeparator",Tk=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(rt.div,{"aria-hidden":!0,...r,ref:e})});Tk.displayName=ZB;var yv="SelectArrow",YB=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qm(n),i=ao(yv,n),o=lo(yv,n);return i.open&&o.position==="popper"?a.jsx(DA,{...s,...r,ref:e}):null});YB.displayName=yv;function Ck(t){return t===""||t===void 0}var Sk=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=x.useRef(null),i=yt(e,s),o=gj(n);return x.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const m=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(m)}},[o,n]),a.jsx(od,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});Sk.displayName="BubbleSelect";function Ak(t){const e=fr(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Nk(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=XB(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function XB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JB=tk,Ik=rk,ez=ik,tz=ok,nz=ak,jk=lk,rz=hk,kk=pk,Pk=yk,sz=vk,iz=wk,Rk=_k,Dk=bk,Ok=Tk;const Nr=JB,Ir=ez,mr=x.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Ik,{ref:r,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(tz,{asChild:!0,children:a.jsx(Ax,{className:"h-4 w-4 opacity-50"})})]}));mr.displayName=Ik.displayName;const Vk=x.forwardRef(({className:t,...e},n)=>a.jsx(Rk,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(XS,{className:"h-4 w-4"})}));Vk.displayName=Rk.displayName;const Mk=x.forwardRef(({className:t,...e},n)=>a.jsx(Dk,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ax,{className:"h-4 w-4"})}));Mk.displayName=Dk.displayName;const pr=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(nz,{children:a.jsxs(jk,{ref:s,className:$e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(Vk,{}),a.jsx(rz,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Mk,{})]})}));pr.displayName=jk.displayName;const oz=x.forwardRef(({className:t,...e},n)=>a.jsx(kk,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oz.displayName=kk.displayName;const Be=x.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Pk,{ref:r,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(iz,{children:a.jsx(Sx,{className:"h-4 w-4"})})}),a.jsx(sz,{children:e})]}));Be.displayName=Pk.displayName;const az=x.forwardRef(({className:t,...e},n)=>a.jsx(Ok,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));az.displayName=Ok.displayName;var yd=t=>t.type==="checkbox",Co=t=>t instanceof Date,Dn=t=>t==null;const Fk=t=>typeof t=="object";var Bt=t=>!Dn(t)&&!Array.isArray(t)&&Fk(t)&&!Co(t),Lk=t=>Bt(t)&&t.target?yd(t.target)?t.target.checked:t.target.value:t,lz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Uk=(t,e)=>t.has(lz(e)),cz=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},H0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(H0&&(t instanceof Blob||r))&&(n||Bt(t)))if(e=n?[]:{},!n&&!cz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=It(t[s]));else return t;return e}var vd=t=>Array.isArray(t)?t.filter(Boolean):[],bt=t=>t===void 0,ae=(t,e,n)=>{if(!e||!Bt(t))return n;const r=vd(e.split(/[,[\].]+?/)).reduce((s,i)=>Dn(s)?s:s[i],t);return bt(r)||r===t?bt(t[e])?n:t[e]:r},sr=t=>typeof t=="boolean",W0=t=>/^\w*$/.test(t),$k=t=>vd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ct=(t,e,n)=>{let r=-1;const s=W0(e)?[e]:$k(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const d=t[l];c=Bt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const qf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Bk=ke.createContext(null),xd=()=>ke.useContext(Bk),uz=t=>{const{children:e,...n}=t;return ke.createElement(Bk.Provider,{value:n},e)};var zk=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==br.all&&(e._proxyFormState[o]=!r||br.all),n&&(n[o]=!0),t[o]}});return s};function dz(t){const e=xd(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=ke.useState(n._formState),c=ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ke.useRef(s);return d.current=s,ke.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:f=>{!r&&l({...n._formState,...f})}}),[n,r,i]),ke.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ke.useMemo(()=>zk(o,n,c.current,!1),[o,n])}var is=t=>typeof t=="string",qk=(t,e,n,r,s)=>is(t)?(r&&e.watch.add(t),ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ae(n,i))):(r&&(e.watchAll=!0),n);function hz(t){const e=xd(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},l=ke.useRef(r),c=ke.useRef(s);l.current=r,ke.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:m=>!i&&f(qk(l.current,n._names,m.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,f]=ke.useState(n._getWatch(r,s));return ke.useEffect(()=>n._removeUnmounted()),d}function fz(t){const e=xd(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=Uk(s._names.array,n),l=hz({control:s,name:n,defaultValue:ae(s._formValues,n,ae(s._defaultValues,n,t.defaultValue)),exact:!0}),c=dz({control:s,name:n,exact:!0}),d=ke.useRef(t),f=ke.useRef(s.register(n,{...t.rules,value:l,...sr(t.disabled)?{disabled:t.disabled}:{}})),m=ke.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ae(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ae(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ae(c.validatingFields,n)},error:{enumerable:!0,get:()=>ae(c.errors,n)}}),[c,n]),h=ke.useCallback(E=>f.current.onChange({target:{value:Lk(E),name:n},type:qf.CHANGE}),[n]),g=ke.useCallback(()=>f.current.onBlur({target:{value:ae(s._formValues,n),name:n},type:qf.BLUR}),[n,s._formValues]),b=ke.useCallback(E=>{const _=ae(s._fields,n);_&&E&&(_._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:v=>E.setCustomValidity(v),reportValidity:()=>E.reportValidity()})},[s._fields,n]),y=ke.useMemo(()=>({name:n,value:l,...sr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:g,ref:b}),[n,r,c.disabled,h,g,b,l]);return ke.useEffect(()=>{const E=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...sr(d.current.disabled)?{disabled:d.current.disabled}:{}});const _=(v,S)=>{const P=ae(s._fields,v);P&&P._f&&(P._f.mount=S)};if(_(n,!0),E){const v=It(ae(s._options.defaultValues,n));ct(s._defaultValues,n,v),bt(ae(s._formValues,n))&&ct(s._formValues,n,v)}return!o&&s.register(n),()=>{(o?E&&!s._state.action:E)?s.unregister(n):_(n,!1)}},[n,s,o,i]),ke.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ke.useMemo(()=>({field:y,formState:c,fieldState:m}),[y,c,m])}const mz=t=>t.render(fz(t));var Hk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Wn=t=>Array.isArray(t)?t:[t],yE=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},vv=t=>Dn(t)||!Fk(t);function oi(t,e){if(vv(t)||vv(e))return t===e;if(Co(t)&&Co(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Co(i)&&Co(o)||Bt(i)&&Bt(o)||Array.isArray(i)&&Array.isArray(o)?!oi(i,o):i!==o)return!1}}return!0}var bn=t=>Bt(t)&&!Object.keys(t).length,K0=t=>t.type==="file",Fr=t=>typeof t=="function",Hf=t=>{if(!H0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wk=t=>t.type==="select-multiple",Q0=t=>t.type==="radio",pz=t=>Q0(t)||yd(t),hg=t=>Hf(t)&&t.isConnected;function gz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=bt(t)?r++:t[e[r++]];return t}function yz(t){for(const e in t)if(t.hasOwnProperty(e)&&!bt(t[e]))return!1;return!0}function qt(t,e){const n=Array.isArray(e)?e:W0(e)?[e]:$k(e),r=n.length===1?t:gz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Bt(r)&&bn(r)||Array.isArray(r)&&yz(r))&&qt(t,n.slice(0,-1)),t}var Kk=t=>{for(const e in t)if(Fr(t[e]))return!0;return!1};function Wf(t,e={}){const n=Array.isArray(t);if(Bt(t)||n)for(const r in t)Array.isArray(t[r])||Bt(t[r])&&!Kk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wf(t[r],e[r])):Dn(t[r])||(e[r]=!0);return e}function Qk(t,e,n){const r=Array.isArray(t);if(Bt(t)||r)for(const s in t)Array.isArray(t[s])||Bt(t[s])&&!Kk(t[s])?bt(e)||vv(n[s])?n[s]=Array.isArray(t[s])?Wf(t[s],[]):{...Wf(t[s])}:Qk(t[s],Dn(e)?{}:e[s],n[s]):n[s]=!oi(t[s],e[s]);return n}var Nc=(t,e)=>Qk(t,e,Wf(e));const vE={value:!1,isValid:!1},xE={value:!0,isValid:!0};var Gk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bt(t[0].attributes.value)?bt(t[0].value)||t[0].value===""?xE:{value:t[0].value,isValid:!0}:xE:vE}return vE},Zk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>bt(t)?t:e?t===""?NaN:t&&+t:n&&is(t)?new Date(t):r?r(t):t;const wE={isValid:!1,value:null};var Yk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,wE):wE;function _E(t){const e=t.ref;return K0(e)?e.files:Q0(e)?Yk(t.refs).value:Wk(e)?[...e.selectedOptions].map(({value:n})=>n):yd(e)?Gk(t.refs).value:Zk(bt(e.value)?t.ref.value:e.value,t)}var vz=(t,e,n,r)=>{const s={};for(const i of t){const o=ae(e,i);o&&ct(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Kf=t=>t instanceof RegExp,Ic=t=>bt(t)?t:Kf(t)?t.source:Bt(t)?Kf(t.value)?t.value.source:t.value:t,$a=t=>({isOnSubmit:!t||t===br.onSubmit,isOnBlur:t===br.onBlur,isOnChange:t===br.onChange,isOnAll:t===br.all,isOnTouch:t===br.onTouched});const bE="AsyncFunction";var xz=t=>!!t&&!!t.validate&&!!(Fr(t.validate)&&t.validate.constructor.name===bE||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===bE)),wz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),xv=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ae(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(rl(l,e))break}else if(Bt(l)&&rl(l,e))break}}};function EE(t,e,n){const r=ae(t,n);if(r||W0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ae(e,i),l=ae(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var _z=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return bn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||br.all))},bz=(t,e,n)=>!t||!e||t===e||Wn(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Ez=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Tz=(t,e)=>!vd(ae(t,e)).length&&qt(t,e),Xk=(t,e,n)=>{const r=Wn(ae(t,n));return ct(r,"root",e[n]),ct(t,n,r),t},Lh=t=>is(t);function TE(t,e,n="validate"){if(Lh(t)||Array.isArray(t)&&t.every(Lh)||sr(t)&&!t)return{type:n,message:Lh(t)?t:"",ref:e}}var _a=t=>Bt(t)&&!Kf(t)?t:{value:t,message:""},wv=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:h,pattern:g,validate:b,name:y,valueAsNumber:E,mount:_}=t._f,v=ae(n,y);if(!_||e.has(y))return{};const S=l?l[0]:o,P=k=>{s&&S.reportValidity&&(S.setCustomValidity(sr(k)?"":k||""),S.reportValidity())},D={},O=Q0(o),T=yd(o),C=O||T,A=(E||K0(o))&&bt(o.value)&&bt(v)||Hf(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,j=Hk.bind(null,y,r,D),R=(k,I,H,he=bs.maxLength,de=bs.minLength)=>{const pe=k?I:H;D[y]={type:k?he:de,message:pe,ref:o,...j(k?he:de,pe)}};if(i?!Array.isArray(v)||!v.length:c&&(!C&&(A||Dn(v))||sr(v)&&!v||T&&!Gk(l).isValid||O&&!Yk(l).isValid)){const{value:k,message:I}=Lh(c)?{value:!!c,message:c}:_a(c);if(k&&(D[y]={type:bs.required,message:I,ref:S,...j(bs.required,I)},!r))return P(I),D}if(!A&&(!Dn(m)||!Dn(h))){let k,I;const H=_a(h),he=_a(m);if(!Dn(v)&&!isNaN(v)){const de=o.valueAsNumber||v&&+v;Dn(H.value)||(k=de>H.value),Dn(he.value)||(I=de<he.value)}else{const de=o.valueAsDate||new Date(v),pe=ee=>new Date(new Date().toDateString()+" "+ee),M=o.type=="time",K=o.type=="week";is(H.value)&&v&&(k=M?pe(v)>pe(H.value):K?v>H.value:de>new Date(H.value)),is(he.value)&&v&&(I=M?pe(v)<pe(he.value):K?v<he.value:de<new Date(he.value))}if((k||I)&&(R(!!k,H.message,he.message,bs.max,bs.min),!r))return P(D[y].message),D}if((d||f)&&!A&&(is(v)||i&&Array.isArray(v))){const k=_a(d),I=_a(f),H=!Dn(k.value)&&v.length>+k.value,he=!Dn(I.value)&&v.length<+I.value;if((H||he)&&(R(H,k.message,I.message),!r))return P(D[y].message),D}if(g&&!A&&is(v)){const{value:k,message:I}=_a(g);if(Kf(k)&&!v.match(k)&&(D[y]={type:bs.pattern,message:I,ref:o,...j(bs.pattern,I)},!r))return P(I),D}if(b){if(Fr(b)){const k=await b(v,n),I=TE(k,S);if(I&&(D[y]={...I,...j(bs.validate,I.message)},!r))return P(I.message),D}else if(Bt(b)){let k={};for(const I in b){if(!bn(k)&&!r)break;const H=TE(await b[I](v,n),S,I);H&&(k={...H,...j(I,H.message)},P(H.message),r&&(D[y]=k))}if(!bn(k)&&(D[y]={ref:S,...k},!r))return D}}return P(!0),D};const Cz={mode:br.onSubmit,reValidateMode:br.onChange,shouldFocusError:!0};function Sz(t={}){let e={...Cz,...t},n={submitCount:0,isDirty:!1,isLoading:Fr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Bt(e.defaultValues)||Bt(e.values)?It(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:It(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const h={array:yE(),state:yE()},g=$a(e.mode),b=$a(e.reValidateMode),y=e.criteriaMode===br.all,E=V=>U=>{clearTimeout(d),d=setTimeout(V,U)},_=async V=>{if(!e.disabled&&(f.isValid||m.isValid||V)){const U=e.resolver?bn((await A()).errors):await R(r,!0);U!==n.isValid&&h.state.next({isValid:U})}},v=(V,U)=>{!e.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((V||Array.from(l.mount)).forEach(W=>{W&&(U?ct(n.validatingFields,W,U):qt(n.validatingFields,W))}),h.state.next({validatingFields:n.validatingFields,isValidating:!bn(n.validatingFields)}))},S=(V,U=[],W,ye,ne=!0,J=!0)=>{if(ye&&W&&!e.disabled){if(o.action=!0,J&&Array.isArray(ae(r,V))){const _e=W(ae(r,V),ye.argA,ye.argB);ne&&ct(r,V,_e)}if(J&&Array.isArray(ae(n.errors,V))){const _e=W(ae(n.errors,V),ye.argA,ye.argB);ne&&ct(n.errors,V,_e),Tz(n.errors,V)}if((f.touchedFields||m.touchedFields)&&J&&Array.isArray(ae(n.touchedFields,V))){const _e=W(ae(n.touchedFields,V),ye.argA,ye.argB);ne&&ct(n.touchedFields,V,_e)}(f.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Nc(s,i)),h.state.next({name:V,isDirty:I(V,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ct(i,V,U)},P=(V,U)=>{ct(n.errors,V,U),h.state.next({errors:n.errors})},D=V=>{n.errors=V,h.state.next({errors:n.errors,isValid:!1})},O=(V,U,W,ye)=>{const ne=ae(r,V);if(ne){const J=ae(i,V,bt(W)?ae(s,V):W);bt(J)||ye&&ye.defaultChecked||U?ct(i,V,U?J:_E(ne._f)):de(V,J),o.mount&&_()}},T=(V,U,W,ye,ne)=>{let J=!1,_e=!1;const tt={name:V};if(!e.disabled){if(!W||ye){(f.isDirty||m.isDirty)&&(_e=n.isDirty,n.isDirty=tt.isDirty=I(),J=_e!==tt.isDirty);const At=oi(ae(s,V),U);_e=!!ae(n.dirtyFields,V),At?qt(n.dirtyFields,V):ct(n.dirtyFields,V,!0),tt.dirtyFields=n.dirtyFields,J=J||(f.dirtyFields||m.dirtyFields)&&_e!==!At}if(W){const At=ae(n.touchedFields,V);At||(ct(n.touchedFields,V,W),tt.touchedFields=n.touchedFields,J=J||(f.touchedFields||m.touchedFields)&&At!==W)}J&&ne&&h.state.next(tt)}return J?tt:{}},C=(V,U,W,ye)=>{const ne=ae(n.errors,V),J=(f.isValid||m.isValid)&&sr(U)&&n.isValid!==U;if(e.delayError&&W?(c=E(()=>P(V,W)),c(e.delayError)):(clearTimeout(d),c=null,W?ct(n.errors,V,W):qt(n.errors,V)),(W?!oi(ne,W):ne)||!bn(ye)||J){const _e={...ye,...J&&sr(U)?{isValid:U}:{},errors:n.errors,name:V};n={...n,..._e},h.state.next(_e)}},A=async V=>{v(V,!0);const U=await e.resolver(i,e.context,vz(V||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(V),U},j=async V=>{const{errors:U}=await A(V);if(V)for(const W of V){const ye=ae(U,W);ye?ct(n.errors,W,ye):qt(n.errors,W)}else n.errors=U;return U},R=async(V,U,W={valid:!0})=>{for(const ye in V){const ne=V[ye];if(ne){const{_f:J,..._e}=ne;if(J){const tt=l.array.has(J.name),At=ne._f&&xz(ne._f);At&&f.validatingFields&&v([ye],!0);const nn=await wv(ne,l.disabled,i,y,e.shouldUseNativeValidation&&!U,tt);if(At&&f.validatingFields&&v([ye]),nn[J.name]&&(W.valid=!1,U))break;!U&&(ae(nn,J.name)?tt?Xk(n.errors,nn,J.name):ct(n.errors,J.name,nn[J.name]):qt(n.errors,J.name))}!bn(_e)&&await R(_e,U,W)}}return W.valid},k=()=>{for(const V of l.unMount){const U=ae(r,V);U&&(U._f.refs?U._f.refs.every(W=>!hg(W)):!hg(U._f.ref))&&$(V)}l.unMount=new Set},I=(V,U)=>!e.disabled&&(V&&U&&ct(i,V,U),!oi(Ie(),s)),H=(V,U,W)=>qk(V,l,{...o.mount?i:bt(U)?s:is(V)?{[V]:U}:U},W,U),he=V=>vd(ae(o.mount?i:s,V,e.shouldUnregister?ae(s,V,[]):[])),de=(V,U,W={})=>{const ye=ae(r,V);let ne=U;if(ye){const J=ye._f;J&&(!J.disabled&&ct(i,V,Zk(U,J)),ne=Hf(J.ref)&&Dn(U)?"":U,Wk(J.ref)?[...J.ref.options].forEach(_e=>_e.selected=ne.includes(_e.value)):J.refs?yd(J.ref)?J.refs.length>1?J.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(ne)?!!ne.find(tt=>tt===_e.value):ne===_e.value)):J.refs[0]&&(J.refs[0].checked=!!ne):J.refs.forEach(_e=>_e.checked=_e.value===ne):K0(J.ref)?J.ref.value="":(J.ref.value=ne,J.ref.type||h.state.next({name:V,values:It(i)})))}(W.shouldDirty||W.shouldTouch)&&T(V,ne,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&ge(V)},pe=(V,U,W)=>{for(const ye in U){const ne=U[ye],J=`${V}.${ye}`,_e=ae(r,J);(l.array.has(V)||Bt(ne)||_e&&!_e._f)&&!Co(ne)?pe(J,ne,W):de(J,ne,W)}},M=(V,U,W={})=>{const ye=ae(r,V),ne=l.array.has(V),J=It(U);ct(i,V,J),ne?(h.array.next({name:V,values:It(i)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&W.shouldDirty&&h.state.next({name:V,dirtyFields:Nc(s,i),isDirty:I(V,J)})):ye&&!ye._f&&!Dn(J)?pe(V,J,W):de(V,J,W),xv(V,l)&&h.state.next({...n}),h.state.next({name:o.mount?V:void 0,values:It(i)})},K=async V=>{o.mount=!0;const U=V.target;let W=U.name,ye=!0;const ne=ae(r,W),J=_e=>{ye=Number.isNaN(_e)||Co(_e)&&isNaN(_e.getTime())||oi(_e,ae(i,W,_e))};if(ne){let _e,tt;const At=U.type?_E(ne._f):Lk(V),nn=V.type===qf.BLUR||V.type===qf.FOCUS_OUT,co=!wz(ne._f)&&!e.resolver&&!ae(n.errors,W)&&!ne._f.deps||Ez(nn,ae(n.touchedFields,W),n.isSubmitted,b,g),ua=xv(W,l,nn);ct(i,W,At),nn?(ne._f.onBlur&&ne._f.onBlur(V),c&&c(0)):ne._f.onChange&&ne._f.onChange(V);const da=T(W,At,nn),sc=!bn(da)||ua;if(!nn&&h.state.next({name:W,type:V.type,values:It(i)}),co)return(f.isValid||m.isValid)&&(e.mode==="onBlur"?nn&&_():nn||_()),sc&&h.state.next({name:W,...ua?{}:da});if(!nn&&ua&&h.state.next({...n}),e.resolver){const{errors:bd}=await A([W]);if(J(At),ye){const Wm=EE(n.errors,r,W),ha=EE(bd,r,Wm.name||W);_e=ha.error,W=ha.name,tt=bn(bd)}}else v([W],!0),_e=(await wv(ne,l.disabled,i,y,e.shouldUseNativeValidation))[W],v([W]),J(At),ye&&(_e?tt=!1:(f.isValid||m.isValid)&&(tt=await R(r,!0)));ye&&(ne._f.deps&&ge(ne._f.deps),C(W,tt,_e,da))}},ee=(V,U)=>{if(ae(n.errors,U)&&V.focus)return V.focus(),1},ge=async(V,U={})=>{let W,ye;const ne=Wn(V);if(e.resolver){const J=await j(bt(V)?V:ne);W=bn(J),ye=V?!ne.some(_e=>ae(J,_e)):W}else V?(ye=(await Promise.all(ne.map(async J=>{const _e=ae(r,J);return await R(_e&&_e._f?{[J]:_e}:_e)}))).every(Boolean),!(!ye&&!n.isValid)&&_()):ye=W=await R(r);return h.state.next({...!is(V)||(f.isValid||m.isValid)&&W!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:W}:{},errors:n.errors}),U.shouldFocus&&!ye&&rl(r,ee,V?ne:l.mount),ye},Ie=V=>{const U={...o.mount?i:s};return bt(V)?U:is(V)?ae(U,V):V.map(W=>ae(U,W))},Ne=(V,U)=>({invalid:!!ae((U||n).errors,V),isDirty:!!ae((U||n).dirtyFields,V),error:ae((U||n).errors,V),isValidating:!!ae(n.validatingFields,V),isTouched:!!ae((U||n).touchedFields,V)}),Ke=V=>{V&&Wn(V).forEach(U=>qt(n.errors,U)),h.state.next({errors:V?n.errors:{}})},se=(V,U,W)=>{const ye=(ae(r,V,{_f:{}})._f||{}).ref,ne=ae(n.errors,V)||{},{ref:J,message:_e,type:tt,...At}=ne;ct(n.errors,V,{...At,...U,ref:ye}),h.state.next({name:V,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&ye&&ye.focus&&ye.focus()},De=(V,U)=>Fr(V)?h.state.subscribe({next:W=>V(H(void 0,U),W)}):H(V,U,!0),ie=V=>h.state.subscribe({next:U=>{bz(V.name,U.name,V.exact)&&_z(U,V.formState||f,Oe,V.reRenderRoot)&&V.callback({values:{...i},...n,...U})}}).unsubscribe,Pe=V=>(o.mount=!0,m={...m,...V.formState},ie({...V,formState:m})),$=(V,U={})=>{for(const W of V?Wn(V):l.mount)l.mount.delete(W),l.array.delete(W),U.keepValue||(qt(r,W),qt(i,W)),!U.keepError&&qt(n.errors,W),!U.keepDirty&&qt(n.dirtyFields,W),!U.keepTouched&&qt(n.touchedFields,W),!U.keepIsValidating&&qt(n.validatingFields,W),!e.shouldUnregister&&!U.keepDefaultValue&&qt(s,W);h.state.next({values:It(i)}),h.state.next({...n,...U.keepDirty?{isDirty:I()}:{}}),!U.keepIsValid&&_()},Q=({disabled:V,name:U})=>{(sr(V)&&o.mount||V||l.disabled.has(U))&&(V?l.disabled.add(U):l.disabled.delete(U))},q=(V,U={})=>{let W=ae(r,V);const ye=sr(U.disabled)||sr(e.disabled);return ct(r,V,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:V}},name:V,mount:!0,...U}}),l.mount.add(V),W?Q({disabled:sr(U.disabled)?U.disabled:e.disabled,name:V}):O(V,!0,U.value),{...ye?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:Ic(U.min),max:Ic(U.max),minLength:Ic(U.minLength),maxLength:Ic(U.maxLength),pattern:Ic(U.pattern)}:{},name:V,onChange:K,onBlur:K,ref:ne=>{if(ne){q(V,U),W=ae(r,V);const J=bt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,_e=pz(J),tt=W._f.refs||[];if(_e?tt.find(At=>At===J):J===W._f.ref)return;ct(r,V,{_f:{...W._f,..._e?{refs:[...tt.filter(hg),J,...Array.isArray(ae(s,V))?[{}]:[]],ref:{type:J.type,name:V}}:{ref:J}}}),O(V,!1,void 0,J)}else W=ae(r,V,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(Uk(l.array,V)&&o.action)&&l.unMount.add(V)}}},le=()=>e.shouldFocusError&&rl(r,ee,l.mount),X=V=>{sr(V)&&(h.state.next({disabled:V}),rl(r,(U,W)=>{const ye=ae(r,W);ye&&(U.disabled=ye._f.disabled||V,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(ne=>{ne.disabled=ye._f.disabled||V}))},0,!1))},He=(V,U)=>async W=>{let ye;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ne=It(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:_e}=await A();n.errors=J,ne=_e}else await R(r);if(l.disabled.size)for(const J of l.disabled)ct(ne,J,void 0);if(qt(n.errors,"root"),bn(n.errors)){h.state.next({errors:{}});try{await V(ne,W)}catch(J){ye=J}}else U&&await U({...n.errors},W),le(),setTimeout(le);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},St=(V,U={})=>{ae(r,V)&&(bt(U.defaultValue)?M(V,It(ae(s,V))):(M(V,U.defaultValue),ct(s,V,It(U.defaultValue))),U.keepTouched||qt(n.touchedFields,V),U.keepDirty||(qt(n.dirtyFields,V),n.isDirty=U.defaultValue?I(V,It(ae(s,V))):I()),U.keepError||(qt(n.errors,V),f.isValid&&_()),h.state.next({...n}))},tn=(V,U={})=>{const W=V?It(V):s,ye=It(W),ne=bn(V),J=ne?s:ye;if(U.keepDefaultValues||(s=W),!U.keepValues){if(U.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(Nc(s,i))]);for(const tt of Array.from(_e))ae(n.dirtyFields,tt)?ct(J,tt,ae(i,tt)):M(tt,ae(J,tt))}else{if(H0&&bt(V))for(const _e of l.mount){const tt=ae(r,_e);if(tt&&tt._f){const At=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Hf(At)){const nn=At.closest("form");if(nn){nn.reset();break}}}}for(const _e of l.mount)M(_e,ae(J,_e))}i=It(J),h.array.next({values:{...J}}),h.state.next({values:{...J}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!oi(V,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Nc(s,i):n.dirtyFields:U.keepDefaultValues&&V?Nc(s,V):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},an=(V,U)=>tn(Fr(V)?V(i):V,U),oe=(V,U={})=>{const W=ae(r,V),ye=W&&W._f;if(ye){const ne=ye.refs?ye.refs[0]:ye.ref;ne.focus&&(ne.focus(),U.shouldSelect&&Fr(ne.select)&&ne.select())}},Oe=V=>{n={...n,...V}},G={control:{register:q,unregister:$,getFieldState:Ne,handleSubmit:He,setError:se,_subscribe:ie,_runSchema:A,_getWatch:H,_getDirty:I,_setValid:_,_setFieldArray:S,_setDisabledField:Q,_setErrors:D,_getFieldArray:he,_reset:tn,_resetDefaultValues:()=>Fr(e.defaultValues)&&e.defaultValues().then(V=>{an(V,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:X,_subjects:h,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(V){o=V},get _defaultValues(){return s},get _names(){return l},set _names(V){l=V},get _formState(){return n},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:Pe,trigger:ge,register:q,handleSubmit:He,watch:De,setValue:M,getValues:Ie,reset:an,resetField:St,clearErrors:Ke,unregister:$,setError:se,setFocus:oe,getFieldState:Ne};return{...G,formControl:G}}var Js=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},fg=(t,e,n={})=>n.shouldFocus||bt(n.shouldFocus)?n.focusName||`${t}.${bt(n.focusIndex)?e:n.focusIndex}.`:"",mg=(t,e)=>[...t,...Wn(e)],pg=t=>Array.isArray(t)?t.map(()=>{}):void 0;function gg(t,e,n){return[...t.slice(0,e),...Wn(n),...t.slice(e)]}var yg=(t,e,n)=>Array.isArray(t)?(bt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],vg=(t,e)=>[...Wn(e),...Wn(t)];function Az(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return vd(r).length?r:[]}var xg=(t,e)=>bt(e)?[]:Az(t,Wn(e).sort((n,r)=>n-r)),wg=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},CE=(t,e,n)=>(t[e]=n,t);function Nz(t){const e=xd(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=t,[l,c]=ke.useState(n._getFieldArray(r)),d=ke.useRef(n._getFieldArray(r).map(Js)),f=ke.useRef(l),m=ke.useRef(r),h=ke.useRef(!1);m.current=r,f.current=l,n._names.array.add(r),o&&n.register(r,o),ke.useEffect(()=>n._subjects.array.subscribe({next:({values:O,name:T})=>{if(T===m.current||!T){const C=ae(O,m.current);Array.isArray(C)&&(c(C),d.current=C.map(Js))}}}).unsubscribe,[n]);const g=ke.useCallback(O=>{h.current=!0,n._setFieldArray(r,O)},[n,r]),b=(O,T)=>{const C=Wn(It(O)),A=mg(n._getFieldArray(r),C);n._names.focus=fg(r,A.length-1,T),d.current=mg(d.current,C.map(Js)),g(A),c(A),n._setFieldArray(r,A,mg,{argA:pg(O)})},y=(O,T)=>{const C=Wn(It(O)),A=vg(n._getFieldArray(r),C);n._names.focus=fg(r,0,T),d.current=vg(d.current,C.map(Js)),g(A),c(A),n._setFieldArray(r,A,vg,{argA:pg(O)})},E=O=>{const T=xg(n._getFieldArray(r),O);d.current=xg(d.current,O),g(T),c(T),!Array.isArray(ae(n._fields,r))&&ct(n._fields,r,void 0),n._setFieldArray(r,T,xg,{argA:O})},_=(O,T,C)=>{const A=Wn(It(T)),j=gg(n._getFieldArray(r),O,A);n._names.focus=fg(r,O,C),d.current=gg(d.current,O,A.map(Js)),g(j),c(j),n._setFieldArray(r,j,gg,{argA:O,argB:pg(T)})},v=(O,T)=>{const C=n._getFieldArray(r);wg(C,O,T),wg(d.current,O,T),g(C),c(C),n._setFieldArray(r,C,wg,{argA:O,argB:T},!1)},S=(O,T)=>{const C=n._getFieldArray(r);yg(C,O,T),yg(d.current,O,T),g(C),c(C),n._setFieldArray(r,C,yg,{argA:O,argB:T},!1)},P=(O,T)=>{const C=It(T),A=CE(n._getFieldArray(r),O,C);d.current=[...A].map((j,R)=>!j||R===O?Js():d.current[R]),g(A),c([...A]),n._setFieldArray(r,A,CE,{argA:O,argB:C},!0,!1)},D=O=>{const T=Wn(It(O));d.current=T.map(Js),g([...T]),c([...T]),n._setFieldArray(r,[...T],C=>C,{},!0,!1)};return ke.useEffect(()=>{if(n._state.action=!1,xv(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!$a(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!$a(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(O=>{const T=ae(O.errors,r),C=ae(n._formState.errors,r);(C?!T&&C.type||T&&(C.type!==T.type||C.message!==T.message):T&&T.type)&&(T?ct(n._formState.errors,r,T):qt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const O=ae(n._fields,r);O&&O._f&&!($a(n._options.reValidateMode).isOnSubmit&&$a(n._options.mode).isOnSubmit)&&wv(O,n._names.disabled,n._formValues,n._options.criteriaMode===br.all,n._options.shouldUseNativeValidation,!0).then(T=>!bn(T)&&n._subjects.state.next({errors:Xk(n._formState.errors,T,r)}))}n._subjects.state.next({name:r,values:It(n._formValues)}),n._names.focus&&rl(n._fields,(O,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&O.focus)return O.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[l,r,n]),ke.useEffect(()=>(!ae(n._formValues,r)&&n._setFieldArray(r),()=>{const O=(T,C)=>{const A=ae(n._fields,T);A&&A._f&&(A._f.mount=C)};n._options.shouldUnregister||i?n.unregister(r):O(r,!1)}),[r,n,s,i]),{swap:ke.useCallback(v,[g,r,n]),move:ke.useCallback(S,[g,r,n]),prepend:ke.useCallback(y,[g,r,n]),append:ke.useCallback(b,[g,r,n]),remove:ke.useCallback(E,[g,r,n]),insert:ke.useCallback(_,[g,r,n]),update:ke.useCallback(P,[g,r,n]),replace:ke.useCallback(D,[g,r,n]),fields:ke.useMemo(()=>l.map((O,T)=>({...O,[s]:d.current[T]||Js()})),[l,s])}}function rc(t={}){const e=ke.useRef(void 0),n=ke.useRef(void 0),[r,s]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Fr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Fr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Sz(t),formState:r},t.formControl&&t.defaultValues&&!Fr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,ke.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ke.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ke.useEffect(()=>{t.values&&!oi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ke.useEffect(()=>{t.errors&&!bn(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),ke.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ke.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=zk(r,i),e.current}function na({className:t,size:e="md"}){const n={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return a.jsx("div",{className:$e("animate-spin rounded-full border-2 border-gray-300 border-t-primary",n[e],t)})}const wd=uz,Jk=x.createContext({}),Se=({...t})=>a.jsx(Jk.Provider,{value:{name:t.name},children:a.jsx(mz,{...t})}),Hm=()=>{const t=x.useContext(Jk),e=x.useContext(eP),{getFieldState:n,formState:r}=xd(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},eP=x.createContext({}),be=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return a.jsx(eP.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:$e("space-y-2",t),...e})})});be.displayName="FormItem";const Ae=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Hm();return a.jsx(Nt,{ref:n,className:$e(r&&"text-destructive",t),htmlFor:s,...e})});Ae.displayName="FormLabel";const Ee=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Hm();return a.jsx(ES,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Ee.displayName="FormControl";const _t=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Hm();return a.jsx("p",{ref:n,id:r,className:$e("text-sm text-muted-foreground",t),...e})});_t.displayName="FormDescription";const Re=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Hm(),o=s?String((s==null?void 0:s.message)??""):e;return o?a.jsx("p",{ref:r,id:i,className:$e("text-sm font-medium text-destructive",t),...n,children:o}):null});Re.displayName="FormMessage";function Iz({isOpen:t,onClose:e,food:n,onSubmit:r,isLoading:s,onSendAsTestSample:i,isSendingTestSample:o}){const l=()=>{var g,b,y,E,_,v,S,P,D,O,T,C,A,j,R,k;const h=(n==null?void 0:n.foodType)||"solid";return{name:(n==null?void 0:n.name)||"",kurdishName:(n==null?void 0:n.kurdishName)||"",arabicName:(n==null?void 0:n.arabicName)||"",baseName:(n==null?void 0:n.baseName)||"",brand:(n==null?void 0:n.brand)||"",category:(n==null?void 0:n.category)||"fruits",foodType:h,availableUnits:(n==null?void 0:n.availableUnits)||[],nutritionPer100:{calories:((g=n==null?void 0:n.nutritionPer100)==null?void 0:g.calories)||0,protein:((b=n==null?void 0:n.nutritionPer100)==null?void 0:b.protein)||0,carbs:((y=n==null?void 0:n.nutritionPer100)==null?void 0:y.carbs)||0,fat:((E=n==null?void 0:n.nutritionPer100)==null?void 0:E.fat)||0,fiber:((_=n==null?void 0:n.nutritionPer100)==null?void 0:_.fiber)||0,sugar:((v=n==null?void 0:n.nutritionPer100)==null?void 0:v.sugar)||0,sodium:((S=n==null?void 0:n.nutritionPer100)==null?void 0:S.sodium)||0,calcium:((P=n==null?void 0:n.nutritionPer100)==null?void 0:P.calcium)||0,potassium:((D=n==null?void 0:n.nutritionPer100)==null?void 0:D.potassium)||0,vitaminB12:((O=n==null?void 0:n.nutritionPer100)==null?void 0:O.vitaminB12)||0,vitaminA:((T=n==null?void 0:n.nutritionPer100)==null?void 0:T.vitaminA)||0,vitaminE:((C=n==null?void 0:n.nutritionPer100)==null?void 0:C.vitaminE)||0,vitaminD:((A=n==null?void 0:n.nutritionPer100)==null?void 0:A.vitaminD)||0,vitaminC:((j=n==null?void 0:n.nutritionPer100)==null?void 0:j.vitaminC)||0,iron:((R=n==null?void 0:n.nutritionPer100)==null?void 0:R.iron)||0,magnesium:((k=n==null?void 0:n.nutritionPer100)==null?void 0:k.magnesium)||0},customConversions:(n==null?void 0:n.customConversions)||{},vegetarian:(n==null?void 0:n.vegetarian)||!1,vegan:(n==null?void 0:n.vegan)||!1,glutenFree:(n==null?void 0:n.glutenFree)||!1,dairyFree:(n==null?void 0:n.dairyFree)||!1,mealPlanner:(n==null?void 0:n.mealPlanner)||!1,allowDuplication:(n==null?void 0:n.allowDuplication)||!1,lowCalorie:(n==null?void 0:n.lowCalorie)||!1,calorieAdjustment:(n==null?void 0:n.calorieAdjustment)||!1,minPortion:(n==null?void 0:n.minPortion)||void 0,maxPortion:(n==null?void 0:n.maxPortion)||void 0,mealTiming:(n==null?void 0:n.mealTiming)||[]}},c=rc({defaultValues:l(),mode:"onChange"});x.useEffect(()=>{t&&c.reset(l())},[t,n==null?void 0:n.id]);const d=c.watch("foodType"),f=h=>{var E;const g=Object.fromEntries(Object.entries(h.customConversions||{}).filter(([_,v])=>v!=null)),b=h.foodType==="liquid"?["ml","l","cup","tbsp","tsp"]:["g","cup","tbsp","tsp","plate","fist","piece"],y={...h,availableUnits:((E=h.availableUnits)==null?void 0:E.filter(Boolean))||[...b],customConversions:g,minPortion:h.minPortion!==void 0?h.minPortion:void 0,maxPortion:h.maxPortion!==void 0?h.maxPortion:void 0};y.minPortion===void 0&&delete y.minPortion,y.maxPortion===void 0&&delete y.maxPortion,r(y)},m=n$.filter(h=>d==="liquid"?!["plate","fist","piece"].includes(h.value):!["ml","l"].includes(h.value));return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsxs(qs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ji,{children:a.jsx(eo,{children:n?"Edit Food Item":"Add New Food Item"})}),n&&i&&a.jsx("div",{className:"border-b pb-4 mb-4",children:a.jsxs(ue,{type:"button",variant:"outline",className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",onClick:()=>{const h=c.getValues();i(h)},disabled:o,children:[o&&a.jsx(na,{size:"sm",className:"mr-2"}),"Send as Test Sample"]})}),a.jsx(wd,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),a.jsx(Se,{control:c.control,name:"name",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Name (English) *"}),a.jsx(Ee,{children:a.jsx(fe,{placeholder:"White Rice",...h})}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Se,{control:c.control,name:"kurdishName",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Kurdish Name"}),a.jsx(Ee,{children:a.jsx(fe,{placeholder:" ",...h})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"arabicName",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Arabic Name"}),a.jsx(Ee,{children:a.jsx(fe,{placeholder:" ",...h})}),a.jsx(Re,{})]})})]}),a.jsx(Se,{control:c.control,name:"baseName",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Base Name *"}),a.jsx(Ee,{children:a.jsx(fe,{placeholder:"chicken, rice, apple...",...h})}),a.jsx(_t,{children:'Simple food name for meal planning (e.g., "chicken" for all chicken types)'}),a.jsx(Re,{})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsx(Se,{control:c.control,name:"brand",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Brand"}),a.jsx(Ee,{children:a.jsx(fe,{placeholder:"Uncle Ben's",...h})}),a.jsx(Re,{})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Se,{control:c.control,name:"category",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Category *"}),a.jsxs(Nr,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(Ee,{children:a.jsx(mr,{children:a.jsx(Ir,{placeholder:"Select category"})})}),a.jsx(pr,{children:Object.entries($f).map(([g,b])=>a.jsx(Be,{value:g,children:b.label},g))})]}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"foodType",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Food Type *"}),a.jsxs(Nr,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(Ee,{children:a.jsx(mr,{children:a.jsx(Ir,{placeholder:"Select type"})})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"solid",children:"Solid"}),a.jsx(Be,{value:"liquid",children:"Liquid"})]})]}),a.jsx(Re,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Available Units"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Which units can this food be measured in?"})]}),a.jsx(Se,{control:c.control,name:"availableUnits",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ee,{children:a.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map(g=>{var b;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tr,{id:g.value,checked:((b=h.value)==null?void 0:b.includes(g.value))||!1,onCheckedChange:y=>{const E=h.value||[];y?h.onChange([...E,g.value]):h.onChange(E.filter(_=>_!==g.value))}}),a.jsx(Nt,{htmlFor:g.value,className:"text-sm",children:g.label})]},g.value)})})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Nutrition Facts per 100",d==="solid"?"g":"ml"]}),a.jsx(Se,{control:c.control,name:"nutritionPer100.calories",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Calories *"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(Number(g.target.value))})}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(Se,{control:c.control,name:"nutritionPer100.protein",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Protein (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.carbs",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Carbs (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.fat",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Fat (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(Se,{control:c.control,name:"nutritionPer100.fiber",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Fiber (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.sugar",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Sugar (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.sodium",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Sodium (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Vitamins & Minerals"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(Se,{control:c.control,name:"nutritionPer100.calcium",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Calcium (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.potassium",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Potassium (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.vitaminB12",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Vitamin B12 (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.01",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(Se,{control:c.control,name:"nutritionPer100.vitaminA",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Vitamin A (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.vitaminE",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Vitamin E (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.01",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.vitaminD",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Vitamin D (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.01",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.vitaminC",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Vitamin C (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.iron",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Iron (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"nutritionPer100.magnesium",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Magnesium (mg)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"0",...h,onChange:g=>h.onChange(g.target.value?Number(g.target.value):void 0)})}),a.jsx(Re,{})]})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Custom Serving Conversions"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Override default weights for more accuracy"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Set custom weights for this specific food. Leave blank to use smart defaults."}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(Se,{control:c.control,name:"customConversions.cup",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 cup = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0||h.value===null?"":String(h.value),onChange:g=>{const b=g.target.value.trim();if(b==="")h.onChange(void 0);else{const y=parseFloat(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"customConversions.plate",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 plate = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0?"":h.value,onChange:g=>{const b=g.target.value;if(b==="")h.onChange(void 0);else{const y=Number(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"customConversions.piece",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 piece = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0?"":h.value,onChange:g=>{const b=g.target.value;if(b==="")h.onChange(void 0);else{const y=Number(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsx(Se,{control:c.control,name:"customConversions.fist",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 fist = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0?"":h.value,onChange:g=>{const b=g.target.value;if(b==="")h.onChange(void 0);else{const y=Number(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"customConversions.tbsp",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 tbsp = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0?"":h.value,onChange:g=>{const b=g.target.value;if(b==="")h.onChange(void 0);else{const y=Number(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 mt-4",children:a.jsx(Se,{control:c.control,name:"customConversions.tsp",render:({field:h})=>a.jsxs(be,{children:[a.jsxs(Ae,{children:["1 tsp = ? ",d==="solid"?"grams":"ml"]}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"0.1",placeholder:"Auto",value:h.value===void 0?"":h.value,onChange:g=>{const b=g.target.value;if(b==="")h.onChange(void 0);else{const y=Number(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})})})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Dietary Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Se,{control:c.control,name:"vegetarian",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Vegetarian"})]})}),a.jsx(Se,{control:c.control,name:"vegan",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Vegan"})]})}),a.jsx(Se,{control:c.control,name:"glutenFree",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Gluten Free"})]})}),a.jsx(Se,{control:c.control,name:"dairyFree",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Dairy Free"})]})}),a.jsx(Se,{control:c.control,name:"mealPlanner",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Include in Meal Planner"})]})}),a.jsx(Se,{control:c.control,name:"allowDuplication",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Allow Duplication"})]})}),a.jsx(Se,{control:c.control,name:"lowCalorie",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Low Calorie"})]})}),a.jsx(Se,{control:c.control,name:"calorieAdjustment",render:({field:h})=>a.jsxs(be,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ee,{children:a.jsx(tr,{checked:h.value,onCheckedChange:h.onChange})}),a.jsx(Ae,{children:"Calorie Adjustment"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Portion Size Range (grams)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Se,{control:c.control,name:"minPortion",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Minimum Portion (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"1",placeholder:"e.g. 30",value:h.value||"",onChange:g=>{const b=g.target.value.trim();if(b==="")h.onChange(void 0);else{const y=parseInt(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:c.control,name:"maxPortion",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Maximum Portion (g)"}),a.jsx(Ee,{children:a.jsx(fe,{type:"number",step:"1",placeholder:"e.g. 100",value:h.value||"",onChange:g=>{const b=g.target.value.trim();if(b==="")h.onChange(void 0);else{const y=parseInt(b);h.onChange(isNaN(y)?void 0:y)}}})}),a.jsx(Re,{})]})})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Meal Timing"}),a.jsx("p",{className:"text-sm text-gray-500",children:"When is this food appropriate?"})]}),a.jsx(Se,{control:c.control,name:"mealTiming",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ee,{children:a.jsx("div",{className:"grid grid-cols-3 gap-4",children:r$.map(g=>{var b;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tr,{id:g.value,checked:((b=h.value)==null?void 0:b.includes(g.value))||!1,onCheckedChange:y=>{const E=h.value||[];y?h.onChange([...E,g.value]):h.onChange(E.filter(_=>_!==g.value))}}),a.jsx(Nt,{htmlFor:g.value,className:"text-sm font-medium",children:g.label})]},g.value)})})}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsxs(ue,{type:"submit",disabled:s,children:[s&&a.jsx(na,{size:"sm",className:"mr-2"}),n?"Update Food":"Add Food"]})]})]})})]})})}function jz({isOpen:t,onClose:e,foodName:n,onConfirm:r,isLoading:s}){return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsx(qs,{className:"max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:a.jsx(pO,{className:"text-red-600 text-xl"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-2",children:"Delete Food Item"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:["Are you sure you want to delete"," ",a.jsxs("span",{className:"font-medium",children:['"',n,'"']}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:e,disabled:s,children:"Cancel"}),a.jsxs(ue,{variant:"destructive",onClick:r,disabled:s,children:[s&&a.jsx(na,{size:"sm",className:"mr-2"}),"Delete Item"]})]})]})})})}function kz({selectedCount:t,onClearSelection:e,onBulkDelete:n,onBulkExport:r,isVisible:s,isLoading:i}){return s?a.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-lg border border-gray-200 px-6 py-3 z-40",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:t})," items selected"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"secondary",size:"sm",onClick:r,disabled:i,children:[a.jsx(eA,{className:"h-4 w-4 mr-1"}),"Export"]}),a.jsxs(ue,{variant:"destructive",size:"sm",onClick:n,disabled:i,children:[i&&a.jsx(na,{size:"sm",className:"mr-1"}),a.jsx(Ii,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:e,disabled:i,children:a.jsx(Sl,{className:"h-4 w-4"})})]})}):null}function _v(){const t=()=>{localStorage.removeItem("isAuthenticated"),window.location.reload()};return a.jsxs(ue,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2",children:[a.jsx(fO,{className:"h-4 w-4"}),"Logout"]})}function Pz(){const{toast:t}=Hl(),e=ql(),[n,r]=x.useState(""),[s,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState(null),[f,m]=x.useState(null),[h,g]=x.useState(new Set),[b,y]=x.useState(1),[E,_]=x.useState(10),[v,S]=x.useState("name"),[P,D]=x.useState("asc"),[O,T]=x.useState(!1),[C,A]=x.useState(!1);x.useEffect(()=>{const se=localStorage.getItem("foodsCacheTime"),De=localStorage.getItem("cachedFoods"),ie=Date.now(),Pe=30*24*60*60*1e3;if(!se||ie-parseInt(se)>Pe)A(!0),localStorage.setItem("foodsCacheTime",ie.toString()),localStorage.removeItem("cachedFoods");else if(De)try{const Q=JSON.parse(De),q=Q.map(le=>({...le,createdAt:le.createdAt?new Date(le.createdAt):new Date,updatedAt:le.updatedAt?new Date(le.updatedAt):new Date}));e.setQueryData(["/api/foods"],q),T(!0),k(!1),console.log(`Loaded ${Q.length} foods from localStorage cache`)}catch(Q){console.error("Failed to parse cached foods:",Q),localStorage.removeItem("cachedFoods")}},[e]);const{data:j=[]}=Ni({queryKey:["/api/foods"],queryFn:()=>Promise.resolve([]),staleTime:30*24*60*60*1e3,gcTime:30*24*60*60*1e3}),[R,k]=x.useState(!0),[I,H]=x.useState(null);x.useEffect(()=>{const se=Vn(mt,"foods"),De=ec(se,tc("name")),ie=OI(De,Pe=>{const $=Pe.docs.map(Q=>{var X,He;const q=Q.data();console.log("Raw Firebase data:",q);const le={id:Q.id,name:q.name||"",kurdishName:q.kurdishName,arabicName:q.arabicName,baseName:q.baseName||"",brand:q.brand,category:q.category,foodType:q.foodType,availableUnits:q.availableUnits,nutritionPer100:q.nutritionPer100?{calories:Number(q.nutritionPer100.calories)||0,protein:q.nutritionPer100.protein?Number(q.nutritionPer100.protein):void 0,carbs:q.nutritionPer100.carbs?Number(q.nutritionPer100.carbs):void 0,fat:q.nutritionPer100.fat?Number(q.nutritionPer100.fat):void 0,fiber:q.nutritionPer100.fiber?Number(q.nutritionPer100.fiber):void 0,sugar:q.nutritionPer100.sugar?Number(q.nutritionPer100.sugar):void 0,sodium:q.nutritionPer100.sodium?Number(q.nutritionPer100.sodium):void 0,calcium:q.nutritionPer100.calcium?Number(q.nutritionPer100.calcium):void 0,potassium:q.nutritionPer100.potassium?Number(q.nutritionPer100.potassium):void 0,vitaminB12:q.nutritionPer100.vitaminB12?Number(q.nutritionPer100.vitaminB12):void 0,vitaminA:q.nutritionPer100.vitaminA?Number(q.nutritionPer100.vitaminA):void 0,vitaminE:q.nutritionPer100.vitaminE?Number(q.nutritionPer100.vitaminE):void 0,vitaminD:q.nutritionPer100.vitaminD?Number(q.nutritionPer100.vitaminD):void 0,vitaminC:q.nutritionPer100.vitaminC?Number(q.nutritionPer100.vitaminC):void 0,iron:q.nutritionPer100.iron?Number(q.nutritionPer100.iron):void 0,magnesium:q.nutritionPer100.magnesium?Number(q.nutritionPer100.magnesium):void 0}:{calories:0},customConversions:q.customConversions,vegetarian:q.vegetarian,vegan:q.vegan,glutenFree:q.glutenFree,dairyFree:q.dairyFree,mealPlanner:q.mealPlanner,allowDuplication:q.allowDuplication,lowCalorie:q.lowCalorie,calorieAdjustment:q.calorieAdjustment,minPortion:q.minPortion,maxPortion:q.maxPortion,mealTiming:q.mealTiming,createdAt:((X=q.createdAt)==null?void 0:X.toDate())||new Date,updatedAt:((He=q.updatedAt)==null?void 0:He.toDate())||new Date};return console.log("Processed food:",le),le});T(!0);try{localStorage.setItem("cachedFoods",JSON.stringify($)),console.log(`Cached ${$.length} foods to localStorage`)}catch(Q){console.error("Failed to cache foods to localStorage:",Q)}e.setQueryData(["/api/foods"],$),k(!1),H(null)},Pe=>{H(Pe),k(!1)});return()=>ie()},[e,C]);const he=Yt({mutationFn:async se=>{const De=Vn(mt,"foods"),ie=new Date;await Qo(De,{...se,createdAt:ie,updatedAt:ie})},onSuccess:()=>{t({title:"Success",description:"Food item added successfully"}),l(!1),e.invalidateQueries({queryKey:["/api/foods"]})},onError:se=>{t({title:"Error",description:`Failed to add food item: ${se.message}`,variant:"destructive"})}}),de=Yt({mutationFn:async({id:se,data:De})=>{const ie=Xn(mt,"foods",se);await md(ie,{...De,updatedAt:new Date})},onSuccess:()=>{t({title:"Success",description:"Food item updated successfully"}),d(null),e.invalidateQueries({queryKey:["/api/foods"]})},onError:se=>{t({title:"Error",description:`Failed to update food item: ${se.message}`,variant:"destructive"})}}),pe=Yt({mutationFn:async se=>{const De=Xn(mt,"foods",se);await Vl(De)},onSuccess:()=>{t({title:"Success",description:"Food item deleted successfully"}),m(null),e.invalidateQueries({queryKey:["/api/foods"]})},onError:se=>{t({title:"Error",description:`Failed to delete food item: ${se.message}`,variant:"destructive"})}}),M=Yt({mutationFn:async se=>{await Promise.all(se.map(De=>Vl(Xn(mt,"foods",De))))},onSuccess:()=>{t({title:"Success",description:`${h.size} food items deleted successfully`}),g(new Set),e.invalidateQueries({queryKey:["/api/foods"]})},onError:se=>{t({title:"Error",description:`Failed to delete food items: ${se.message}`,variant:"destructive"})}}),K=Yt({mutationFn:async se=>{const De=Object.fromEntries(Object.entries(se.customConversions||{}).filter(([Q,q])=>q!=null)),ie={...se,customConversions:De,minPortion:se.minPortion!==void 0?se.minPortion:void 0,maxPortion:se.maxPortion!==void 0?se.maxPortion:void 0};ie.minPortion===void 0&&delete ie.minPortion,ie.maxPortion===void 0&&delete ie.maxPortion;const Pe=Vn(mt,"foodsFree"),$=new Date;await Qo(Pe,{...ie,createdAt:$,updatedAt:$})},onSuccess:()=>{t({title:"Success",description:"Food sent as test sample to foodsFree collection"})},onError:se=>{t({title:"Error",description:`Failed to send test sample: ${se.message}`,variant:"destructive"})}}),ee=x.useMemo(()=>{let se=j.filter(De=>{var $,Q,q,le;const ie=De.name.toLowerCase().includes(n.toLowerCase())||(($=De.kurdishName)==null?void 0:$.toLowerCase().includes(n.toLowerCase()))||((Q=De.arabicName)==null?void 0:Q.toLowerCase().includes(n.toLowerCase()))||((q=De.brand)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((le=De.baseName)==null?void 0:le.toLowerCase().includes(n.toLowerCase()))||De.mealPlanner&&n.toLowerCase().includes("meal")||!1,Pe=s==="all"||De.category===s;return ie&&Pe});return se.sort((De,ie)=>{const Pe=De[v]||"",$=ie[v]||"";return typeof Pe=="string"&&typeof $=="string"?P==="asc"?Pe.localeCompare($):$.localeCompare(Pe):typeof Pe=="number"&&typeof $=="number"?P==="asc"?Pe-$:$-Pe:0}),se},[j,n,s,v,P]),ge=Math.ceil(ee.length/E),Ie=ee.slice((b-1)*E,b*E),Ne=se=>{v===se?D(P==="asc"?"desc":"asc"):(S(se),D("asc"))},Ke=()=>{const De=["Name (English),Kurdish Name,Arabic Name,Brand,Category,Food Type,Servings,Calories,Protein,Carbs,Fat,Fiber,Sugar,Sodium",...(h.size>0?j.filter(Q=>h.has(Q.id)):ee).map(Q=>{var X;const q=((X=Q.availableUnits)==null?void 0:X.join(", "))||"",le=Q.nutritionPer100||{calories:Q.calories||0,protein:Q.protein||0,carbs:Q.carbs||0,fat:Q.fat||0,fiber:Q.fiber||0,sugar:Q.sugar||0,sodium:Q.sodium||0};return`"${Q.name}","${Q.kurdishName||""}","${Q.arabicName||""}","${Q.brand||""}","${Q.category}","${Q.foodType}","${q}",${le.calories},${le.protein||0},${le.carbs||0},${le.fat||0},${le.fiber||0},${le.sugar||0},${le.sodium||0}`})].join(`
`),ie=new Blob([De],{type:"text/csv"}),Pe=URL.createObjectURL(ie),$=document.createElement("a");$.href=Pe,$.download="foods-export.csv",$.click(),URL.revokeObjectURL(Pe)};return I?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-xl mb-2",children:"Failed to connect to Firebase"}),a.jsx("div",{className:"text-gray-600",children:I.message})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ky,{className:"text-primary text-2xl"}),a.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Foods Database Manager"}),a.jsxs("nav",{className:"flex items-center space-x-1 ml-8",children:[a.jsx(Sn,{href:"/",children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"text-blue-600 bg-blue-50",children:[a.jsx(ky,{className:"h-4 w-4 mr-1"}),"Foods"]})}),a.jsx(Sn,{href:"/meals",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(Oc,{className:"h-4 w-4 mr-1"}),"Meals"]})}),a.jsx(Sn,{href:"/workout-plans",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(ff,{className:"h-4 w-4 mr-1"}),"Workouts"]})}),a.jsx(Sn,{href:"/revenuecat-users",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(Tu,{className:"h-4 w-4 mr-1"}),"Users"]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Connected to Firebase"})]}),a.jsx(_v,{})]})]})}),a.jsxs("div",{className:"pt-20 flex h-screen",children:[a.jsxs("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 flex-shrink-0",children:[a.jsx("nav",{className:"p-4 space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-blue-50 text-primary rounded-lg font-medium",children:[a.jsx("span",{className:"w-5",children:""}),a.jsx("span",{children:"Foods Database"})]})}),a.jsx("div",{className:"p-4 border-t border-gray-200 mt-auto",children:a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[ee.length," Food Items ",O?"(All)":"(Limited)"]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Lp,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"Synced"})]})})]})})]}),a.jsx("main",{className:"flex-1 overflow-hidden",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Foods Database"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:[a.jsx(Lp,{className:"h-3 w-3 inline mr-1"}),"Synced"]})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[C&&a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm",children:[a.jsx(uO,{className:"h-4 w-4"}),a.jsx("span",{children:"Cache refreshed (30-day cycle)"})]}),O&&a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg text-sm",children:[a.jsx(Lp,{className:"h-4 w-4"}),a.jsxs("span",{children:["All ",j.length," foods loaded"]})]}),a.jsxs(ue,{onClick:()=>l(!0),className:"bg-primary hover:bg-blue-700",children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),"Add New Food"]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(fe,{placeholder:"Search foods... (instant search through cached database)",value:n,onChange:se=>r(se.target.value),className:"pl-10"})]}),a.jsxs(Nr,{value:s,onValueChange:i,children:[a.jsx(mr,{className:"w-[180px]",children:a.jsx(Ir,{placeholder:"All Categories"})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"all",children:"All Categories"}),Object.entries($f).map(([se,De])=>a.jsx(Be,{value:se,children:De.label},se))]})]}),a.jsxs(ue,{variant:"outline",onClick:Ke,children:[a.jsx(eA,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),R?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(na,{size:"lg",className:"mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600 font-medium",children:"Loading foods from Firebase..."})]})}):a.jsxs(a.Fragment,{children:[n&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:a.jsxs("div",{className:"text-sm text-blue-800",children:['Instant search results for "',n,'" - searching through ',j.length," cached foods"]})}),a.jsx(b$,{foods:Ie,selectedFoods:h,onSelectionChange:g,onEdit:d,onDelete:m,onSort:Ne,sortBy:v,sortOrder:P}),a.jsxs("div",{className:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Math.min((b-1)*E+1,ee.length)})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(b*E,ee.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ee.length})," results"]}),a.jsxs(Nr,{value:E.toString(),onValueChange:se=>_(Number(se)),children:[a.jsx(mr,{className:"w-[120px]",children:a.jsx(Ir,{})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"10",children:"10 per page"}),a.jsx(Be,{value:"25",children:"25 per page"}),a.jsx(Be,{value:"50",children:"50 per page"}),a.jsx(Be,{value:"100",children:"100 per page"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:()=>y(Math.max(1,b-1)),disabled:b===1,children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",b," of ",ge]}),a.jsx(ue,{variant:"outline",onClick:()=>y(Math.min(ge,b+1)),disabled:b===ge,children:"Next"})]})]})]})]})})]}),a.jsx(Iz,{isOpen:o||!!c,onClose:()=>{l(!1),d(null)},food:c,onSubmit:se=>{c?de.mutate({id:c.id,data:se}):he.mutate(se)},isLoading:he.isPending||de.isPending,onSendAsTestSample:se=>K.mutate(se),isSendingTestSample:K.isPending}),a.jsx(jz,{isOpen:!!f,onClose:()=>m(null),foodName:(f==null?void 0:f.name)||"",onConfirm:()=>{f&&pe.mutate(f.id)},isLoading:pe.isPending}),a.jsx(kz,{selectedCount:h.size,onClearSelection:()=>g(new Set),onBulkDelete:()=>M.mutate(Array.from(h)),onBulkExport:Ke,isVisible:h.size>0,isLoading:M.isPending})]})}const Rz=mm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kn({className:t,variant:e,...n}){return a.jsx("div",{className:$e(Rz({variant:e}),t),...n})}const jt=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));jt.displayName="Card";const Kt=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));Kt.displayName="CardHeader";const Qt=x.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qt.displayName="CardTitle";const Ba=x.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));Ba.displayName="CardDescription";const kt=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));kt.displayName="CardContent";const Dz=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));Dz.displayName="CardFooter";const SE=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},tP=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?SE(r.ref,n,t):r.refs&&r.refs.forEach(s=>SE(s,n,t))}},Oz=(t,e)=>{e.shouldUseNativeValidation&&tP(t,e);const n={};for(const r in t){const s=ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Vz(e.names||Object.keys(t),r)){const o=Object.assign({},ae(n,r));ct(o,"root",i),ct(n,r,o)}else ct(n,r,i)}return n},Vz=(t,e)=>t.some(n=>n.startsWith(e+"."));var Mz=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return t.push(m)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=Hk(o,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},_d=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&tP({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Oz(Mz(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Fz=o$.extend({tags:B.array(B.string()).optional(),cultural:B.array(B.string()).optional()});function Lz({isOpen:t,onClose:e,meal:n,onSubmit:r,isLoading:s}){const[i,o]=x.useState(""),[l,c]=x.useState([]),[d,f]=x.useState([]),[m,h]=x.useState([]),[g,b]=x.useState([]),[y,E]=x.useState(""),[_,v]=x.useState(""),[S,P]=x.useState(""),[D,O]=x.useState("protein_primary"),[T,C]=x.useState(""),[A,j]=x.useState({});x.useEffect(()=>{t&&(n?(c(n.cultural||[]),f(Array.isArray(n.mealType)?n.mealType:[n.mealType]),h(n.tags||[]),b(n.foods||[])):(c([]),f(["breakfast"]),h([]),b([])),E(""),v(""),P(""),O("protein_primary"),C(""),o(""),j({}))},[n,t]);const{data:R=[]}=Ni({queryKey:["/api/foods-all"],queryFn:async()=>{const $=Vn(mt,"foods"),Q=ec($,tc("name"));return(await Mm(Q)).docs.map(le=>{var He,St;const X=le.data();return console.log("Loading food for meal form:",X.name||"Unknown"),{id:le.id,name:X.name||"",kurdishName:X.kurdishName,arabicName:X.arabicName,baseName:X.baseName||"",brand:X.brand,category:X.category,foodType:X.foodType,availableUnits:X.availableUnits,nutritionPer100:X.nutritionPer100?{calories:Number(X.nutritionPer100.calories)||0,protein:X.nutritionPer100.protein?Number(X.nutritionPer100.protein):void 0,carbs:X.nutritionPer100.carbs?Number(X.nutritionPer100.carbs):void 0,fat:X.nutritionPer100.fat?Number(X.nutritionPer100.fat):void 0,fiber:X.nutritionPer100.fiber?Number(X.nutritionPer100.fiber):void 0,sugar:X.nutritionPer100.sugar?Number(X.nutritionPer100.sugar):void 0,sodium:X.nutritionPer100.sodium?Number(X.nutritionPer100.sodium):void 0,calcium:X.nutritionPer100.calcium?Number(X.nutritionPer100.calcium):void 0,potassium:X.nutritionPer100.potassium?Number(X.nutritionPer100.potassium):void 0,vitaminB12:X.nutritionPer100.vitaminB12?Number(X.nutritionPer100.vitaminB12):void 0,vitaminA:X.nutritionPer100.vitaminA?Number(X.nutritionPer100.vitaminA):void 0,vitaminE:X.nutritionPer100.vitaminE?Number(X.nutritionPer100.vitaminE):void 0,vitaminD:X.nutritionPer100.vitaminD?Number(X.nutritionPer100.vitaminD):void 0,vitaminC:X.nutritionPer100.vitaminC?Number(X.nutritionPer100.vitaminC):void 0,iron:X.nutritionPer100.iron?Number(X.nutritionPer100.iron):void 0,magnesium:X.nutritionPer100.magnesium?Number(X.nutritionPer100.magnesium):void 0}:{calories:0},customConversions:X.customConversions,vegetarian:X.vegetarian,vegan:X.vegan,glutenFree:X.glutenFree,dairyFree:X.dairyFree,mealPlanner:X.mealPlanner,allowDuplication:X.allowDuplication,lowCalorie:X.lowCalorie,calorieAdjustment:X.calorieAdjustment,minPortion:X.minPortion,maxPortion:X.maxPortion,mealTiming:X.mealTiming,createdAt:((He=X.createdAt)==null?void 0:He.toDate())||new Date,updatedAt:((St=X.updatedAt)==null?void 0:St.toDate())||new Date}})},staleTime:5*60*1e3}),k=rc({resolver:_d(Fz),defaultValues:{name:"",mealArabicName:"",mealKurdishName:"",mealType:["breakfast"],foods:[],baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,minScale:.5,maxScale:2,prepTime:0,difficulty:"easy",cultural:[],tags:[],isActive:!0}});x.useEffect(()=>{t&&(n?k.reset({name:n.name||"",mealArabicName:n.mealArabicName||"",mealKurdishName:n.mealKurdishName||"",mealType:Array.isArray(n.mealType)?n.mealType:[n.mealType||"breakfast"],foods:n.foods||[],baseCalories:n.baseCalories||0,baseProtein:n.baseProtein||0,baseCarbs:n.baseCarbs||0,baseFat:n.baseFat||0,minScale:n.minScale||.5,maxScale:n.maxScale||2,prepTime:n.prepTime||0,difficulty:n.difficulty||"easy",cultural:n.cultural||[],tags:n.tags||[],isActive:n.isActive??!0}):k.reset({name:"",mealArabicName:"",mealKurdishName:"",mealType:["breakfast"],foods:[],baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,minScale:.5,maxScale:2,prepTime:0,difficulty:"easy",cultural:[],tags:[],isActive:!0}),k.clearErrors())},[n,k,t]);const I=$=>{r({...$,mealType:d,foods:g,cultural:l,tags:m})},H=R.filter($=>{var Q,q;return $.name.toLowerCase().includes(y.toLowerCase())||((Q=$.kurdishName)==null?void 0:Q.toLowerCase().includes(y.toLowerCase()))||((q=$.arabicName)==null?void 0:q.toLowerCase().includes(y.toLowerCase()))}),he=()=>{if(_&&S){const $=T.split(",").map(le=>parseFloat(le.trim())).filter(le=>!isNaN(le)&&le>0),Q={foodId:_,basePortion:parseFloat(S),role:D,allowedPortions:$.length>0?$:void 0},q=[...g,Q];b(q),v(""),P(""),C(""),E("")}},de=$=>{const Q=g.filter((q,le)=>le!==$);b(Q)},pe=$=>{const Q=R.find(q=>q.id===$);return Q?Q.name||Q.id:(console.warn(`Food not found for ID: ${$}. Available foods: ${R.length}. Loading all foods...`),`Loading... (${$})`)},M=()=>{let $=0,Q=0,q=0,le=0;return g.forEach(X=>{const He=R.find(St=>St.id===X.foodId);if(He&&He.nutritionPer100){const St=He.nutritionPer100.calories*X.basePortion/100,tn=(He.nutritionPer100.protein||0)*X.basePortion/100,an=(He.nutritionPer100.carbs||0)*X.basePortion/100,oe=(He.nutritionPer100.fat||0)*X.basePortion/100;$+=St,Q+=tn,q+=an,le+=oe}}),{calories:Math.round($*10)/10,protein:Math.round(Q*10)/10,carbs:Math.round(q*10)/10,fat:Math.round(le*10)/10}},K=()=>{const $=M();k.setValue("baseCalories",$.calories),k.setValue("baseProtein",$.protein),k.setValue("baseCarbs",$.carbs),k.setValue("baseFat",$.fat)};x.useEffect(()=>{R.length>0&&K()},[g,R]);const ee=()=>{i.trim()&&!m.includes(i.trim())&&(h([...m,i.trim()]),o(""))},ge=$=>{h(m.filter(Q=>Q!==$))},Ie=$=>{const Q=g[$].allowedPortions||[];j({...A,[$]:Q.join(", ")})},Ne=$=>{const q=(A[$]||"").split(",").map(He=>parseFloat(He.trim())).filter(He=>!isNaN(He)&&He>0),le=[...g];le[$]={...le[$],allowedPortions:q.length>0?q:void 0},b(le);const X={...A};delete X[$],j(X)},Ke=$=>{const Q={...A};delete Q[$],j(Q)},se=$=>{c(Q=>Q.includes($)?Q.filter(q=>q!==$):[...Q,$])},De=$=>{f(Q=>Q.includes($)?Q.filter(q=>q!==$):[...Q,$])},ie=["arabic","kurdish","western","mediterranean","asian"],Pe=["breakfast","lunch","dinner","snack"];return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsxs(qs,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx(Ji,{children:a.jsx(eo,{children:n?"Edit Meal":"Add New Meal"})}),a.jsxs("form",{onSubmit:k.handleSubmit(I),className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"name",children:"Meal Name (English)*"}),a.jsx(fe,{id:"name",...k.register("name"),placeholder:"e.g., Protein Power Breakfast"}),k.formState.errors.name&&a.jsx("p",{className:"text-sm text-red-500",children:k.formState.errors.name.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"mealArabicName",children:"Arabic Name"}),a.jsx(fe,{id:"mealArabicName",...k.register("mealArabicName"),placeholder:"e.g.,   "})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"mealKurdishName",children:"Kurdish Name"}),a.jsx(fe,{id:"mealKurdishName",...k.register("mealKurdishName"),placeholder:"e.g.,   "})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{children:"Meal Types*"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Pe.map($=>a.jsx(Kn,{variant:d.includes($)?"default":"outline",className:"cursor-pointer",onClick:()=>De($),children:$},$))}),d.length===0&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:"At least one meal type is required"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"difficulty",children:"Difficulty*"}),a.jsxs(Nr,{value:k.watch("difficulty"),onValueChange:$=>k.setValue("difficulty",$),children:[a.jsx(mr,{children:a.jsx(Ir,{placeholder:"Select difficulty"})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"easy",children:"Easy"}),a.jsx(Be,{value:"medium",children:"Medium"}),a.jsx(Be,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold",children:"Base Nutrition (per serving)"}),a.jsx(Kn,{variant:"secondary",className:"text-xs",children:"Auto-calculated from foods"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"baseCalories",children:"Calories*"}),a.jsx(fe,{id:"baseCalories",type:"number",...k.register("baseCalories",{valueAsNumber:!0}),placeholder:"Auto-calculated",readOnly:!0,className:"bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"baseProtein",children:"Protein (g)*"}),a.jsx(fe,{id:"baseProtein",type:"number",step:"0.1",...k.register("baseProtein",{valueAsNumber:!0}),placeholder:"Auto-calculated",readOnly:!0,className:"bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"baseCarbs",children:"Carbs (g)*"}),a.jsx(fe,{id:"baseCarbs",type:"number",step:"0.1",...k.register("baseCarbs",{valueAsNumber:!0}),placeholder:"Auto-calculated",readOnly:!0,className:"bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"baseFat",children:"Fat (g)*"}),a.jsx(fe,{id:"baseFat",type:"number",step:"0.1",...k.register("baseFat",{valueAsNumber:!0}),placeholder:"Auto-calculated",readOnly:!0,className:"bg-gray-50"})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Nutrition values are calculated using: (nutritionPer100g  basePortion)  100, then summed for all foods."})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"minScale",children:"Min Scale*"}),a.jsx(fe,{id:"minScale",type:"number",step:"0.1",...k.register("minScale",{valueAsNumber:!0}),placeholder:"e.g., 0.5"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"maxScale",children:"Max Scale*"}),a.jsx(fe,{id:"maxScale",type:"number",step:"0.1",...k.register("maxScale",{valueAsNumber:!0}),placeholder:"e.g., 2.5"})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"prepTime",children:"Prep Time (minutes)*"}),a.jsx(fe,{id:"prepTime",type:"number",...k.register("prepTime",{valueAsNumber:!0}),placeholder:"e.g., 10"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Foods in this Meal"}),a.jsxs(jt,{children:[a.jsx(Kt,{className:"pb-3",children:a.jsx(Qt,{className:"text-sm",children:"Add Food"})}),a.jsxs(kt,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Nt,{children:"Search Food"}),a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(fe,{placeholder:"Search foods...",value:y,onChange:$=>E($.target.value),className:"pl-10"})]}),y&&H.length>0&&a.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md",children:H.slice(0,10).map($=>a.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>{v($.id),E($.name)},children:[a.jsx("div",{className:"font-medium",children:$.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[$.arabicName&&a.jsx("span",{children:$.arabicName}),$.kurdishName&&a.jsxs("span",{children:["  ",$.kurdishName]})]})]},$.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Nt,{children:"Base Portion (g)"}),a.jsx(fe,{type:"number",placeholder:"e.g., 120",value:S,onChange:$=>P($.target.value)})]}),a.jsxs("div",{children:[a.jsx(Nt,{children:"Role"}),a.jsxs(Nr,{value:D,onValueChange:O,children:[a.jsx(mr,{children:a.jsx(Ir,{})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"protein_primary",children:"Protein Primary"}),a.jsx(Be,{value:"carb_primary",children:"Carb Primary"}),a.jsx(Be,{value:"fat_primary",children:"Fat Primary"}),a.jsx(Be,{value:"filler",children:"Filler"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{children:"Allowed Portions (g)"}),a.jsx(fe,{placeholder:"e.g., 120, 190, 250",value:T,onChange:$=>C($.target.value)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated values (optional)"})]}),a.jsxs(ue,{type:"button",onClick:he,disabled:!_||!S,className:"w-full",children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),"Add Food to Meal"]})]})]}),g.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Nt,{children:["Current Foods (",g.length,")"]}),a.jsx("div",{className:"space-y-2",children:g.map(($,Q)=>{const q=R.find(He=>He.id===$.foodId),le=q&&q.nutritionPer100?Math.round(q.nutritionPer100.calories*$.basePortion/100*10)/10:0,X=q&&q.nutritionPer100?Math.round((q.nutritionPer100.protein||0)*$.basePortion/100*10)/10:0;return a.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:pe($.foodId)}),a.jsxs("div",{className:"text-sm text-gray-500",children:[$.basePortion,"g  ",$.role.replace("_"," ")]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["Contributes: ",le," cal, ",X,"g protein"]}),A[Q]!==void 0?a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx(fe,{value:A[Q],onChange:He=>j({...A,[Q]:He.target.value}),placeholder:"e.g., 120, 190, 250",className:"h-8 text-xs"}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ne(Q),className:"h-8 w-8 p-0",children:a.jsx(Sx,{className:"h-3 w-3"})}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ke(Q),className:"h-8 w-8 p-0",children:a.jsx(Sl,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("div",{className:"text-xs text-blue-600",children:["Allowed portions: ",$.allowedPortions&&$.allowedPortions.length>0?$.allowedPortions.join(", ")+"g":"None set"]}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ie(Q),className:"h-6 w-6 p-0 ml-2",children:a.jsx(Za,{className:"h-3 w-3"})})]})]}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>de(Q),className:"ml-2",children:a.jsx(Ii,{className:"h-4 w-4"})})]},Q)})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Nt,{children:"Cultural Classifications"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map($=>a.jsx(Kn,{variant:l.includes($)?"default":"outline",className:"cursor-pointer",onClick:()=>se($),children:$},$))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Nt,{children:"Tags"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fe,{value:i,onChange:$=>o($.target.value),placeholder:"Add a tag...",onKeyPress:$=>$.key==="Enter"&&($.preventDefault(),ee())}),a.jsx(ue,{type:"button",onClick:ee,variant:"outline",children:a.jsx(zo,{className:"h-4 w-4"})})]}),m.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map($=>a.jsxs(Kn,{variant:"secondary",className:"cursor-pointer",children:[$,a.jsx(Sl,{className:"h-3 w-3 ml-1",onClick:()=>ge($)})]},$))})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(ue,{type:"submit",disabled:s,children:s?"Saving...":n?"Update Meal":"Add Meal"})]})]})]})})}function Uz(){const{toast:t}=Hl(),e=ql(),[n,r]=x.useState(""),[s,i]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(1),[f,m]=x.useState(12),[h,g]=x.useState(!1),[b,y]=x.useState(null),[E,_]=x.useState(!1),[v,S]=x.useState(!1);x.useEffect(()=>{const M=localStorage.getItem("mealsCacheTime"),K=localStorage.getItem("cachedMeals"),ee=Date.now(),ge=30*24*60*60*1e3;if(!M||ee-parseInt(M)>ge)S(!0),localStorage.setItem("mealsCacheTime",ee.toString()),localStorage.removeItem("cachedMeals");else if(K)try{const Ne=JSON.parse(K),Ke=Ne.map(se=>({...se,createdAt:se.createdAt?new Date(se.createdAt):new Date,updatedAt:se.updatedAt?new Date(se.updatedAt):new Date}));e.setQueryData(["/api/meals"],Ke),_(!0),O(!1),console.log(`Loaded ${Ne.length} meals from localStorage cache`)}catch(Ne){console.error("Failed to parse cached meals:",Ne),localStorage.removeItem("cachedMeals")}},[e]);const{data:P=[]}=Ni({queryKey:["/api/meals"],queryFn:()=>Promise.resolve([]),staleTime:30*24*60*60*1e3,gcTime:30*24*60*60*1e3});Ni({queryKey:["/api/foods"],queryFn:()=>Promise.resolve([]),staleTime:1/0});const[D,O]=x.useState(!0),[T,C]=x.useState(null);x.useEffect(()=>{const M=Vn(mt,"meals"),K=ec(M,tc("name")),ee=OI(K,ge=>{const Ie=ge.docs.map(Ne=>{var Ke,se;return{id:Ne.id,...Ne.data(),createdAt:((Ke=Ne.data().createdAt)==null?void 0:Ke.toDate())||new Date,updatedAt:((se=Ne.data().updatedAt)==null?void 0:se.toDate())||new Date}});_(!0);try{localStorage.setItem("cachedMeals",JSON.stringify(Ie)),console.log(`Cached ${Ie.length} meals to localStorage`)}catch(Ne){console.error("Failed to cache meals to localStorage:",Ne)}e.setQueryData(["/api/meals"],Ie),O(!1),C(null)},ge=>{C(ge),O(!1)});return()=>ee()},[e,v]);const A=Yt({mutationFn:async()=>{const M=Vn(mt,"meals"),K=new Date;await Qo(M,{...{name:"Protein Power Breakfast",mealArabicName:"  ",mealKurdishName:"  ",mealType:["breakfast"],foods:[{foodId:"sample_eggs",basePortion:120,role:"protein_primary"},{foodId:"sample_bread",basePortion:75,role:"carb_primary"},{foodId:"sample_tomatoes",basePortion:150,role:"filler"}],baseCalories:485,baseProtein:32.5,baseCarbs:45.2,baseFat:18.7,minScale:.5,maxScale:2.5,prepTime:10,difficulty:"easy",cultural:["arabic","kurdish","western"],tags:["high_protein","quick"],isActive:!0},createdAt:K,updatedAt:K})},onSuccess:()=>{t({title:"Success",description:"Sample meal added successfully"}),e.invalidateQueries({queryKey:["/api/meals"]})},onError:M=>{t({title:"Error",description:`Failed to add sample meal: ${M.message}`,variant:"destructive"})}}),j=Yt({mutationFn:async M=>{const K=Vn(mt,"meals"),ee=new Date;await Qo(K,{...M,createdAt:ee,updatedAt:ee})},onSuccess:()=>{t({title:"Success",description:"Meal added successfully"}),g(!1),y(null),e.invalidateQueries({queryKey:["/api/meals"]})},onError:M=>{t({title:"Error",description:`Failed to add meal: ${M.message}`,variant:"destructive"})}}),R=Yt({mutationFn:async({id:M,data:K})=>{const ee=Xn(mt,"meals",M);await md(ee,{...K,updatedAt:new Date})},onSuccess:()=>{t({title:"Success",description:"Meal updated successfully"}),g(!1),y(null),e.invalidateQueries({queryKey:["/api/meals"]})},onError:M=>{t({title:"Error",description:`Failed to update meal: ${M.message}`,variant:"destructive"})}}),k=Yt({mutationFn:async M=>{await Vl(Xn(mt,"meals",M))},onSuccess:()=>{t({title:"Success",description:"Meal deleted successfully"}),e.invalidateQueries({queryKey:["/api/meals"]})},onError:M=>{t({title:"Error",description:`Failed to delete meal: ${M.message}`,variant:"destructive"})}}),I=x.useMemo(()=>P.filter(M=>{var Ie,Ne;const K=M.name.toLowerCase().includes(n.toLowerCase())||((Ie=M.mealArabicName)==null?void 0:Ie.toLowerCase().includes(n.toLowerCase()))||((Ne=M.mealKurdishName)==null?void 0:Ne.toLowerCase().includes(n.toLowerCase()))||M.tags.some(Ke=>Ke.toLowerCase().includes(n.toLowerCase())),ee=s==="all"||(Array.isArray(M.mealType)?M.mealType.includes(s):M.mealType===s),ge=o==="all"||M.difficulty===o;return K&&ee&&ge&&M.isActive}),[P,n,s,o]),H=Math.ceil(I.length/f),he=I.slice((c-1)*f,c*f),de=M=>{switch(M){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},pe=M=>{switch(M){case"breakfast":return"bg-orange-100 text-orange-800";case"lunch":return"bg-blue-100 text-blue-800";case"dinner":return"bg-purple-100 text-purple-800";case"snack":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return T?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-xl mb-2",children:"Failed to connect to Firebase"}),a.jsx("div",{className:"text-gray-600",children:T.message})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Oc,{className:"text-primary text-2xl"}),a.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Meals Manager"}),a.jsxs("nav",{className:"flex items-center space-x-1 ml-8",children:[a.jsx(Sn,{href:"/",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(ky,{className:"h-4 w-4 mr-1"}),"Foods"]})}),a.jsx(Sn,{href:"/meals",children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"text-blue-600 bg-blue-50",children:[a.jsx(Oc,{className:"h-4 w-4 mr-1"}),"Meals"]})}),a.jsx(Sn,{href:"/workout-plans",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(ff,{className:"h-4 w-4 mr-1"}),"Workouts"]})}),a.jsx(Sn,{href:"/revenuecat-users",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(Tu,{className:"h-4 w-4 mr-1"}),"Users"]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[v&&a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm",children:[a.jsx(Oc,{className:"h-4 w-4"}),a.jsx("span",{children:"Meals cache refreshed (30-day cycle)"})]}),E&&a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg text-sm",children:[a.jsx(Oc,{className:"h-4 w-4"}),a.jsxs("span",{children:["All ",P.length," meals loaded"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Connected to Firebase"})]})]})]})}),a.jsxs("div",{className:"pt-20 px-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(fe,{placeholder:"Search meals...",value:n,onChange:M=>r(M.target.value),className:"pl-10 w-64"})]}),a.jsxs(Nr,{value:s,onValueChange:i,children:[a.jsx(mr,{className:"w-40",children:a.jsx(Ir,{placeholder:"Meal Type"})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"all",children:"All Types"}),a.jsx(Be,{value:"breakfast",children:"Breakfast"}),a.jsx(Be,{value:"lunch",children:"Lunch"}),a.jsx(Be,{value:"dinner",children:"Dinner"}),a.jsx(Be,{value:"snack",children:"Snack"})]})]}),a.jsxs(Nr,{value:o,onValueChange:l,children:[a.jsx(mr,{className:"w-40",children:a.jsx(Ir,{placeholder:"Difficulty"})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"all",children:"All Levels"}),a.jsx(Be,{value:"easy",children:"Easy"}),a.jsx(Be,{value:"medium",children:"Medium"}),a.jsx(Be,{value:"hard",children:"Hard"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(ue,{variant:"outline",onClick:()=>A.mutate(),disabled:A.isPending,children:[A.isPending?a.jsx(na,{size:"sm",className:"mr-2"}):null,"Add Sample Meal"]}),a.jsxs(ue,{className:"bg-primary hover:bg-blue-700",onClick:()=>{y(null),g(!0)},children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),"Add New Meal"]})]})]}),D?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(na,{size:"lg"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:he.map(M=>a.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Kt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Qt,{className:"text-lg font-semibold text-gray-900 mb-1",children:M.name}),M.mealArabicName&&a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:M.mealArabicName}),M.mealKurdishName&&a.jsx("p",{className:"text-sm text-gray-600",children:M.mealKurdishName})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{y(M),g(!0)},children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>k.mutate(M.id),disabled:k.isPending,children:a.jsx(Ii,{className:"h-4 w-4"})})]})]})}),a.jsx(kt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[(Array.isArray(M.mealType)?M.mealType:[M.mealType]).map((K,ee)=>a.jsx(Kn,{className:pe(K),children:K},ee)),a.jsx(Kn,{className:de(M.difficulty),children:M.difficulty})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(JS,{className:"h-3 w-3 text-gray-500"}),a.jsxs("span",{children:[M.prepTime," min"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(La,{className:"h-3 w-3 text-gray-500"}),a.jsxs("span",{children:[M.foods.length," foods"]})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Calories:"})," ",M.baseCalories]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Protein:"})," ",M.baseProtein,"g"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.tags.slice(0,3).map((K,ee)=>a.jsx(Kn,{variant:"secondary",className:"text-xs",children:K},ee)),M.tags.length>3&&a.jsxs(Kn,{variant:"secondary",className:"text-xs",children:["+",M.tags.length-3," more"]})]})]})})]},M.id))}),H>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[a.jsx(ue,{variant:"outline",onClick:()=>d(M=>Math.max(1,M-1)),disabled:c===1,children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",c," of ",H]}),a.jsx(ue,{variant:"outline",onClick:()=>d(M=>Math.min(H,M+1)),disabled:c===H,children:"Next"})]})]}),a.jsx(Lz,{isOpen:h,onClose:()=>{g(!1),y(null)},meal:b,onSubmit:M=>{b?R.mutate({id:b.id,data:M}):j.mutate(M)},isLoading:j.isPending||R.isPending})]})}function $z({isOpen:t,onClose:e,category:n,onSubmit:r,isLoading:s}){const i=rc({resolver:_d(f$),defaultValues:{name:"",nameKurdish:"",nameArabic:"",iconUrl:"",iconName:"",order:1}});x.useEffect(()=>{t&&(n?i.reset({name:n.name||"",nameKurdish:n.nameKurdish||"",nameArabic:n.nameArabic||"",iconUrl:n.iconUrl||"",iconName:n.iconName||"",order:n.order||1}):i.reset({name:"",nameKurdish:"",nameArabic:"",iconUrl:"",iconName:"",order:1}),i.clearErrors())},[n,i,t]);const o=l=>{r(l)};return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsxs(qs,{className:"max-w-md",children:[a.jsx(Ji,{children:a.jsx(eo,{children:n?"Edit Workout Category":"Create New Workout Category"})}),a.jsx(wd,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[a.jsx(Se,{control:i.control,name:"name",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Category Name (English)"}),a.jsx(Ee,{children:a.jsx(fe,{...l,placeholder:"e.g., Chest, Back, Legs",className:"w-full"})}),a.jsx(_t,{children:"The English name of the workout category"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"nameKurdish",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Category Name (Kurdish)"}),a.jsx(Ee,{children:a.jsx(fe,{...l,placeholder:"Kurdish name",className:"w-full"})}),a.jsx(_t,{children:"The Kurdish name of the workout category (optional)"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"nameArabic",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Category Name (Arabic)"}),a.jsx(Ee,{children:a.jsx(fe,{...l,placeholder:"Arabic name",className:"w-full"})}),a.jsx(_t,{children:"The Arabic name of the workout category (optional)"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Se,{control:i.control,name:"iconUrl",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Icon URL (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...l,placeholder:"https://example.com/icon.png",className:"w-full"})}),a.jsx(_t,{children:"URL to an icon image"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"iconName",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Icon Name (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...l,placeholder:"e.g., dumbbell, heart, target",className:"w-full"})}),a.jsx(_t,{children:"Name of the icon to display"}),a.jsx(Re,{})]})})]}),a.jsx(Se,{control:i.control,name:"order",render:({field:l})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Order"}),a.jsx(Ee,{children:a.jsx(fe,{...l,type:"number",min:"1",placeholder:"1",className:"w-full",onChange:c=>l.onChange(parseInt(c.target.value)||1)})}),a.jsx(_t,{children:"Display order for this category (lower numbers appear first)"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(ue,{type:"submit",disabled:s,children:s?"Saving...":n?"Update Category":"Create Category"})]})]})})]})})}function Bz({isOpen:t,onClose:e,subcategory:n,categoryId:r,onSubmit:s,isLoading:i}){const o=rc({resolver:_d(m$),defaultValues:{categoryId:r,name:"",nameKurdish:"",nameArabic:"",iconUrl:"",iconName:"",order:1}});x.useEffect(()=>{t&&(n?o.reset({categoryId:n.categoryId||r,name:n.name||"",nameKurdish:n.nameKurdish||"",nameArabic:n.nameArabic||"",iconUrl:n.iconUrl||"",iconName:n.iconName||"",order:n.order||1}):o.reset({categoryId:r,name:"",nameKurdish:"",nameArabic:"",iconUrl:"",iconName:"",order:1}),o.clearErrors())},[n,r,o,t]);const l=c=>{s(c)};return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsxs(qs,{className:"max-w-md",children:[a.jsx(Ji,{children:a.jsx(eo,{children:n?"Edit Workout Subcategory":"Create New Workout Subcategory"})}),a.jsx(wd,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[a.jsx(Se,{control:o.control,name:"name",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Subcategory Name (English)"}),a.jsx(Ee,{children:a.jsx(fe,{...c,placeholder:"e.g., Upper Back, Lower Back",className:"w-full"})}),a.jsx(_t,{children:"The English name of the workout subcategory"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:o.control,name:"nameKurdish",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Subcategory Name (Kurdish)"}),a.jsx(Ee,{children:a.jsx(fe,{...c,placeholder:"Kurdish name",className:"w-full"})}),a.jsx(_t,{children:"The Kurdish name of the workout subcategory (optional)"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:o.control,name:"nameArabic",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Subcategory Name (Arabic)"}),a.jsx(Ee,{children:a.jsx(fe,{...c,placeholder:"Arabic name",className:"w-full"})}),a.jsx(_t,{children:"The Arabic name of the workout subcategory (optional)"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Se,{control:o.control,name:"iconUrl",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Icon URL (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...c,placeholder:"https://example.com/icon.png",className:"w-full"})}),a.jsx(_t,{children:"URL to an icon image"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:o.control,name:"iconName",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Icon Name (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...c,placeholder:"e.g., target, muscle, weight",className:"w-full"})}),a.jsx(_t,{children:"Name of the icon to display"}),a.jsx(Re,{})]})})]}),a.jsx(Se,{control:o.control,name:"order",render:({field:c})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Order"}),a.jsx(Ee,{children:a.jsx(fe,{...c,type:"number",min:"1",placeholder:"1",className:"w-full",onChange:d=>c.onChange(parseInt(d.target.value)||1)})}),a.jsx(_t,{children:"Display order for this subcategory (lower numbers appear first)"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(ue,{type:"submit",disabled:i,children:i?"Saving...":n?"Update Subcategory":"Create Subcategory"})]})]})})]})})}const nP=x.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));nP.displayName="Textarea";function zz({isOpen:t,onClose:e,exercise:n,onSubmit:r,isLoading:s}){const i=rc({resolver:_d(p$),defaultValues:{name:"",nameKurdish:"",nameArabic:"",description:"",videoUrl:"",thumbnailUrl:"",muscleGroups:[],bodyTarget:"",difficulty:"beginner",equipment:"",order:1}}),{fields:o,append:l,remove:c}=Nz({control:i.control,name:"muscleGroups"});x.useEffect(()=>{t&&(n?i.reset({name:n.name||"",nameKurdish:n.nameKurdish||"",nameArabic:n.nameArabic||"",description:n.description||"",videoUrl:n.videoUrl||"",thumbnailUrl:n.thumbnailUrl||"",muscleGroups:n.muscleGroups||[],bodyTarget:n.bodyTarget||"",difficulty:n.difficulty||"beginner",equipment:n.equipment||"",order:n.order||1}):i.reset({name:"",nameKurdish:"",nameArabic:"",description:"",videoUrl:"",thumbnailUrl:"",muscleGroups:[],bodyTarget:"",difficulty:"beginner",equipment:"",order:1}),i.clearErrors())},[n,i,t]);const d=h=>{var b;const g={...h,muscleGroups:((b=h.muscleGroups)==null?void 0:b.filter(y=>y.trim()!==""))||[],difficulty:h.difficulty||"beginner",order:h.order||1};r(g)},f=()=>{l("")},m=h=>{c(h)};return a.jsx(Xi,{open:t,onOpenChange:e,children:a.jsxs(qs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ji,{children:a.jsx(eo,{children:n?"Edit Exercise":"Create New Exercise"})}),a.jsx(wd,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(d),className:"space-y-4",children:[a.jsx(Se,{control:i.control,name:"name",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Exercise Name (English)"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"e.g., Bench Press, Deadlift, Push-ups",className:"w-full"})}),a.jsx(_t,{children:"The English name of the exercise"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"nameKurdish",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Exercise Name (Kurdish)"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"Kurdish name",className:"w-full"})}),a.jsx(_t,{children:"The Kurdish name of the exercise (optional)"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"nameArabic",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Exercise Name (Arabic)"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"Arabic name",className:"w-full"})}),a.jsx(_t,{children:"The Arabic name of the exercise (optional)"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"description",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Description"}),a.jsx(Ee,{children:a.jsx(nP,{...h,placeholder:"Describe the exercise, proper form, and technique...",className:"w-full min-h-[100px]"})}),a.jsx(_t,{children:"Detailed description of the exercise"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Se,{control:i.control,name:"videoUrl",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Video URL (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"https://player.vimeo.com/video/123456",className:"w-full"})}),a.jsx(_t,{children:"URL to a video demonstration"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"thumbnailUrl",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Thumbnail URL (Optional)"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"https://example.com/thumbnail.jpg",className:"w-full"})}),a.jsx(_t,{children:"URL to a thumbnail image"}),a.jsx(Re,{})]})})]}),a.jsx(Se,{control:i.control,name:"bodyTarget",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Body Target"}),a.jsx(Ee,{children:a.jsx(fe,{...h,placeholder:"e.g., Upper body, Lower body, Core",className:"w-full"})}),a.jsx(_t,{children:"Target body area for this exercise"}),a.jsx(Re,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Se,{control:i.control,name:"difficulty",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Difficulty"}),a.jsxs(Nr,{onValueChange:h.onChange,value:h.value,children:[a.jsx(Ee,{children:a.jsx(mr,{children:a.jsx(Ir,{placeholder:"Select difficulty"})})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"beginner",children:"Beginner"}),a.jsx(Be,{value:"intermediate",children:"Intermediate"}),a.jsx(Be,{value:"advanced",children:"Advanced"})]})]}),a.jsx(_t,{children:"Exercise difficulty level"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"equipment",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Equipment"}),a.jsxs(Nr,{onValueChange:h.onChange,value:h.value,children:[a.jsx(Ee,{children:a.jsx(mr,{children:a.jsx(Ir,{placeholder:"Select equipment"})})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"bodyweight",children:"Bodyweight"}),a.jsx(Be,{value:"barbell",children:"Barbell"}),a.jsx(Be,{value:"dumbbell",children:"Dumbbell"}),a.jsx(Be,{value:"cable",children:"Cable"}),a.jsx(Be,{value:"machine",children:"Machine"}),a.jsx(Be,{value:"kettlebell",children:"Kettlebell"}),a.jsx(Be,{value:"resistance-band",children:"Resistance Band"}),a.jsx(Be,{value:"other",children:"Other"})]})]}),a.jsx(_t,{children:"Required equipment"}),a.jsx(Re,{})]})}),a.jsx(Se,{control:i.control,name:"order",render:({field:h})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Order"}),a.jsx(Ee,{children:a.jsx(fe,{...h,type:"number",min:"1",placeholder:"1",className:"w-full",onChange:g=>h.onChange(parseInt(g.target.value)||1)})}),a.jsx(_t,{children:"Display order"}),a.jsx(Re,{})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ae,{children:"Muscle Groups"}),a.jsxs("div",{className:"space-y-2",children:[o.map((h,g)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{placeholder:"e.g., chest, back, shoulders",value:i.watch(`muscleGroups.${g}`)||"",onChange:b=>i.setValue(`muscleGroups.${g}`,b.target.value),className:"flex-1"}),a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(g),children:a.jsx(Sl,{className:"h-4 w-4"})})]},h.id)),a.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:f,children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),"Add Muscle Group"]})]}),a.jsx(_t,{children:"Add the muscle groups this exercise targets"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),a.jsx(ue,{type:"submit",disabled:s,children:s?"Saving...":n?"Update Exercise":"Create Exercise"})]})]})})]})})}function qz(){var pn;const[t,e]=x.useState(""),[n,r]=x.useState(1),[s,i]=x.useState("categories"),[o,l]=x.useState(""),[c,d]=x.useState(""),[f,m]=x.useState(!1),[h,g]=x.useState(!1),[b,y]=x.useState(!1),[E,_]=x.useState(null),[v,S]=x.useState(null),[P,D]=x.useState(null),O=12,{toast:T}=Hl(),C=ql(),{data:A=[],isLoading:j}=Ni({queryKey:["/api/workout-categories"],queryFn:()=>M5(),staleTime:24*60*60*1e3,gcTime:24*60*60*1e3});x.useEffect(()=>{A.length>0&&A.forEach(G=>{C.prefetchQuery({queryKey:["/api/workout-subcategories",G.id],queryFn:()=>rg(G.id),staleTime:24*60*60*1e3})})},[A,C]);const{data:R=[],isLoading:k}=Ni({queryKey:["/api/workout-subcategories",o],queryFn:()=>rg(o),enabled:!!o,staleTime:24*60*60*1e3,gcTime:24*60*60*1e3}),{data:I=[],isLoading:H}=Ni({queryKey:["/api/exercises",o,c],queryFn:()=>nE(o,c),enabled:!!(o&&c&&s==="exercises"),staleTime:10*60*1e3,gcTime:30*60*1e3}),he=Yt({mutationFn:async G=>{E?await L5(E.id,G):await F5(G)},onSuccess:()=>{T({title:"Success",description:`Workout category ${E?"updated":"created"} successfully`}),C.invalidateQueries({queryKey:["/api/workout-categories"]}),m(!1),_(null)},onError:G=>{T({title:"Error",description:`Failed to create category: ${G.message}`,variant:"destructive"})}}),de=Yt({mutationFn:async G=>{await U5(G)},onSuccess:()=>{T({title:"Success",description:"Workout category deleted successfully"}),C.invalidateQueries({queryKey:["/api/workout-categories"]})},onError:G=>{T({title:"Error",description:`Failed to delete category: ${G.message}`,variant:"destructive"})}}),pe=Yt({mutationFn:async G=>{v?await B5(o,v.id,G):await $5(o,G)},onSuccess:()=>{T({title:"Success",description:`Workout subcategory ${v?"updated":"created"} successfully`}),C.invalidateQueries({queryKey:["/api/workout-subcategories",o]}),g(!1),S(null)},onError:G=>{T({title:"Error",description:`Failed to ${v?"update":"create"} subcategory: ${G.message}`,variant:"destructive"})}}),M=Yt({mutationFn:async G=>{await z5(o,G)},onSuccess:()=>{T({title:"Success",description:"Workout subcategory deleted successfully"}),C.invalidateQueries({queryKey:["/api/workout-subcategories",o]})},onError:G=>{T({title:"Error",description:`Failed to delete subcategory: ${G.message}`,variant:"destructive"})}}),K=Yt({mutationFn:async G=>{P?await H5(o,c,P.id,G):await q5(o,c,G)},onSuccess:()=>{T({title:"Success",description:`Exercise ${P?"updated":"created"} successfully`}),C.invalidateQueries({queryKey:["/api/exercises",o,c]}),y(!1),D(null)},onError:G=>{T({title:"Error",description:`Failed to create exercise: ${G.message}`,variant:"destructive"})}}),ee=Yt({mutationFn:async G=>{await W5(o,c,G)},onSuccess:()=>{T({title:"Success",description:"Exercise deleted successfully"}),C.invalidateQueries({queryKey:["/api/exercises",o,c]})},onError:G=>{T({title:"Error",description:`Failed to delete exercise: ${G.message}`,variant:"destructive"})}}),ge=A.filter(G=>G.name.toLowerCase().includes(t.toLowerCase())),Ie=R.filter(G=>G.name.toLowerCase().includes(t.toLowerCase())),Ne=I.filter(G=>G.name.toLowerCase().includes(t.toLowerCase())),Ke=Math.ceil(s==="categories"?ge.length/O:s==="subcategories"?Ie.length/O:Ne.length/O),se=s==="categories"?ge.slice((n-1)*O,n*O):s==="subcategories"?Ie.slice((n-1)*O,n*O):Ne.slice((n-1)*O,n*O),De=()=>{_(null),m(!0)},ie=G=>{_(G),m(!0)},Pe=G=>{he.mutate(G)},$=()=>{D(null),y(!0)},Q=G=>{D(G),y(!0)},q=()=>{S(null),g(!0)},le=G=>{S(G),g(!0)},X=G=>{const V={...G,categoryId:o};pe.mutate(V)},He=G=>{const V={...G,categoryId:o,subcategoryId:c};K.mutate(V)},St=G=>{l(G),i("subcategories"),r(1),e(""),C.prefetchQuery({queryKey:["/api/workout-subcategories",G],queryFn:()=>rg(G),staleTime:24*60*60*1e3})},tn=G=>{d(G),i("exercises"),r(1),e(""),C.prefetchQuery({queryKey:["/api/exercises",o,G],queryFn:()=>nE(o,G),staleTime:10*60*1e3})},an=()=>{i("categories"),l(""),d(""),r(1),e("")},oe=()=>{i("subcategories"),d(""),r(1),e("")},Oe=A.find(G=>G.id===o);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ff,{className:"text-primary text-2xl"}),a.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Workout Manager"}),a.jsxs("nav",{className:"flex items-center space-x-1 ml-8",children:[a.jsx(Sn,{href:"/",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(La,{className:"h-4 w-4 mr-1"}),"Foods"]})}),a.jsx(Sn,{href:"/meals",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(JS,{className:"h-4 w-4 mr-1"}),"Meals"]})}),a.jsx(Sn,{href:"/workout-plans",children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"text-blue-600 bg-blue-50",children:[a.jsx(ff,{className:"h-4 w-4 mr-1"}),"Workouts"]})}),a.jsx(Sn,{href:"/revenuecat-users",children:a.jsxs(ue,{variant:"ghost",size:"sm",children:[a.jsx(Tu,{className:"h-4 w-4 mr-1"}),"Users"]})})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Connected to Firebase"})]})})]})}),a.jsxs("div",{className:"pt-20 px-6",children:[s==="subcategories"&&a.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:an,children:[a.jsx(x1,{className:"h-4 w-4 mr-1"}),"Back to Categories"]}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-700",children:Oe==null?void 0:Oe.name})]}),s==="exercises"&&a.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:oe,children:[a.jsx(x1,{className:"h-4 w-4 mr-1"}),"Back to Subcategories"]}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-700",children:Oe==null?void 0:Oe.name}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("span",{className:"text-gray-700",children:(pn=R.find(G=>G.id===c))==null?void 0:pn.name})]}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(fe,{placeholder:s==="categories"?"Search categories...":s==="subcategories"?"Search subcategories...":"Search exercises...",value:t,onChange:G=>e(G.target.value),className:"pl-10 w-64"})]})}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(ue,{onClick:s==="categories"?De:s==="subcategories"?q:$,children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),s==="categories"?"Create Category":s==="subcategories"?"Create Subcategory":"Create Exercise"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(jt,{children:a.jsx(kt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Categories"}),a.jsx("p",{className:"text-2xl font-bold",children:A.length})]}),a.jsx(Up,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(jt,{children:a.jsx(kt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Exercises"}),a.jsx("p",{className:"text-2xl font-bold",children:s==="exercises"?I.length:A.reduce((G,V)=>G+(V.exerciseCount||0),0)})]}),a.jsx(mO,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(jt,{children:a.jsx(kt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:s==="categories"?"Showing":s==="subcategories"?"In Category":"In Subcategory"}),a.jsx("p",{className:"text-2xl font-bold",children:s==="categories"?ge.length:s==="subcategories"?Ie.length:Ne.length})]}),a.jsx(_1,{className:"h-8 w-8 text-purple-500"})]})})})]}),s==="categories"&&j||s==="subcategories"&&k||s==="exercises"&&H?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"Loading..."})}):se.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:s==="categories"?"No categories found":s==="subcategories"?"No subcategories found":"No exercises found"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s==="categories"?se.map(G=>a.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Kt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Qt,{className:"text-lg font-semibold text-gray-900 mb-1",children:G.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",G.order]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ie(G),children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>de.mutate(G.id),disabled:de.isPending,children:a.jsx(Ii,{className:"h-4 w-4"})})]})]})}),a.jsx(kt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[G.iconUrl&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Icon URL:"})," ",G.iconUrl]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>St(G.id),children:[a.jsx(Up,{className:"h-3 w-3 mr-1"}),"View Subcategories"]}),a.jsxs(Kn,{variant:"secondary",className:"text-xs",children:[G.exerciseCount||0," exercises"]})]})]})})]},G.id)):s==="subcategories"?se.map(G=>a.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Kt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Qt,{className:"text-lg font-semibold text-gray-900 mb-1",children:G.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",G.order]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>le(G),children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>M.mutate(G.id),disabled:M.isPending,children:a.jsx(Ii,{className:"h-4 w-4"})})]})]})}),a.jsx(kt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[G.iconUrl&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Icon URL:"})," ",G.iconUrl]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>tn(G.id),children:[a.jsx(Up,{className:"h-3 w-3 mr-1"}),"View Exercises"]}),a.jsxs(Kn,{variant:"secondary",className:"text-xs",children:[G.exerciseCount||0," exercises"]})]})]})})]},G.id)):se.map(G=>a.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Kt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Qt,{className:"text-lg font-semibold text-gray-900 mb-1",children:G.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[G.difficulty,"  ",G.equipment]}),G.bodyTarget&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",G.bodyTarget]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>Q(G),children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ee.mutate(G.id),disabled:ee.isPending,children:a.jsx(Ii,{className:"h-4 w-4"})})]})]})}),a.jsx(kt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[G.description&&a.jsx("div",{className:"text-sm text-gray-600",children:a.jsxs("p",{children:[G.description.substring(0,100),"..."]})}),a.jsx("div",{className:"flex flex-wrap gap-1",children:G.muscleGroups.map((V,U)=>a.jsx(Kn,{variant:"secondary",className:"text-xs",children:V},U))}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:["Order: ",G.order]}),G.videoUrl&&a.jsxs(ue,{size:"sm",variant:"outline",className:"text-xs",children:[a.jsx(_1,{className:"h-3 w-3 mr-1"}),"Watch Video"]})]})]})})]},G.id))}),Ke>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[a.jsx(ue,{variant:"outline",onClick:()=>r(G=>Math.max(1,G-1)),disabled:n===1,children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",n," of ",Ke]}),a.jsx(ue,{variant:"outline",onClick:()=>r(G=>Math.min(Ke,G+1)),disabled:n===Ke,children:"Next"})]})]}),a.jsx($z,{isOpen:f,onClose:()=>{m(!1),_(null)},category:E,onSubmit:Pe,isLoading:he.isPending}),a.jsx(Bz,{isOpen:h,onClose:()=>{g(!1),S(null)},subcategory:v,categoryId:o,onSubmit:X,isLoading:pe.isPending}),a.jsx(zz,{isOpen:b,onClose:()=>{y(!1),D(null)},exercise:P,onSubmit:He,isLoading:K.isPending})]})}const rP=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:$e("w-full caption-bottom text-sm",t),...e})}));rP.displayName="Table";const sP=x.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:$e("[&_tr]:border-b",t),...e}));sP.displayName="TableHeader";const iP=x.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:$e("[&_tr:last-child]:border-0",t),...e}));iP.displayName="TableBody";const Hz=x.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:$e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Hz.displayName="TableFooter";const bv=x.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:$e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));bv.displayName="TableRow";const vo=x.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:$e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));vo.displayName="TableHead";const xo=x.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:$e("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));xo.displayName="TableCell";const Wz=x.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:$e("mt-4 text-sm text-muted-foreground",t),...e}));Wz.displayName="TableCaption";function Kz(){var St,tn,an;const[t,e]=x.useState(""),[n,r]=x.useState(1),[s,i]=x.useState("all"),[o,l]=x.useState(null),[c,d]=x.useState(!1),[f,m]=x.useState(""),[h,g]=x.useState(!1),b=20,{toast:y}=Hl();ql(),ID(),x.useEffect(()=>{const oe=localStorage.getItem("revenuecat_api_key");oe&&m(oe),g(!0)},[]);const E=()=>{f.trim()&&(localStorage.setItem("revenuecat_api_key",f.trim()),g(!0),y({title:"API Key Saved",description:"RevenueCat API key has been configured successfully"}))},[_,v]=x.useState(""),[S,P]=x.useState(null),[D,O]=x.useState(""),[T,C]=x.useState(""),[A,j]=x.useState("lifetime"),[R,k]=x.useState(!1),[I,H]=x.useState(""),[he,de]=x.useState([]),{data:pe,isLoading:M,error:K,refetch:ee}=Ni({queryKey:["/api/revenuecat/subscribers",he],queryFn:async()=>{const oe=await fetch("/api/revenuecat/subscribers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:f||"from_env",userIds:he})});if(!oe.ok)throw new Error("Failed to fetch subscribers");return oe.json()},enabled:h,staleTime:5*60*1e3}),ge=(pe==null?void 0:pe.subscribers)||[],Ie=Yt({mutationFn:async oe=>{const Oe=await fetch("/api/revenuecat/test-subscriber",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:f||"from_env",userId:oe})});if(!Oe.ok){const pn=await Oe.json();throw new Error(pn.error||"Failed to test subscriber")}return Oe.json()},onSuccess:oe=>{P(oe),y({title:"Success",description:"Successfully fetched subscriber data from RevenueCat"})},onError:oe=>{y({title:"Error",description:`Failed to fetch subscriber: ${oe.message}`,variant:"destructive"})}}),Ne=Yt({mutationFn:async oe=>{const Oe=await fetch("/api/revenuecat/grant-entitlement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:f||"from_env",userId:oe.userId,entitlementId:oe.entitlementId,duration:oe.duration})});if(!Oe.ok){const pn=await Oe.json();throw new Error(pn.error||`Failed to grant entitlement: ${Oe.statusText}`)}return Oe.json()},onSuccess:oe=>{y({title:"Entitlement Granted!",description:oe.message}),k(!1),O(""),C(""),j("lifetime"),ee()},onError:oe=>{y({variant:"destructive",title:"Failed to Grant Entitlement",description:oe.message||"Please check your inputs and try again"})}}),Ke=()=>{if(!D.trim()||!T.trim()){y({variant:"destructive",title:"Missing Information",description:"Please provide both User ID and Entitlement ID"});return}Ne.mutate({userId:D.trim(),entitlementId:T.trim(),duration:A})},se=()=>{const oe=I.split(",").map(Oe=>Oe.trim()).filter(Oe=>Oe.length>0);if(oe.length===0){y({variant:"destructive",title:"No User IDs",description:"Please enter at least one user ID"});return}de(oe),y({title:"Searching Users",description:`Searching for ${oe.length} user(s)...`})},De=Yt({mutationFn:async oe=>{const Oe=await fetch(`/api/revenuecat/subscriber/${encodeURIComponent(oe)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:f||"from_env"})});if(!Oe.ok)throw new Error("Failed to fetch subscriber details");return Oe.json()},onSuccess:oe=>{l(oe),d(!0)},onError:oe=>{y({title:"Error",description:`Failed to fetch user details: ${oe.message}`,variant:"destructive"})}}),ie=Yt({mutationFn:async oe=>{const Oe=await fetch(`/api/revenuecat/subscriber/${encodeURIComponent(oe)}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:f})});if(!Oe.ok)throw new Error("Failed to delete subscriber");return Oe.json()},onSuccess:()=>{y({title:"Success",description:"Subscriber deleted successfully"}),ee()},onError:oe=>{y({title:"Error",description:`Failed to delete subscriber: ${oe.message}`,variant:"destructive"})}}),Pe=Array.isArray(ge)?ge:[],$=Pe.filter(oe=>{const Oe=oe.subscriber.original_app_user_id.toLowerCase().includes(t.toLowerCase())||Object.keys(oe.subscriber.subscriptions).some(G=>G.toLowerCase().includes(t.toLowerCase()));if(s==="all")return Oe;const pn=Object.values(oe.subscriber.subscriptions).some(G=>new Date(G.expires_date)>new Date);return s==="active"?Oe&&pn:s==="expired"?Oe&&!pn:Oe}),Q=Math.ceil($.length/b),q=$.slice((n-1)*b,n*b),le=oe=>Object.values(oe).some(pn=>new Date(pn.expires_date)>new Date)?"active":"expired",X=oe=>new Date(oe).toLocaleDateString(),He=oe=>Object.keys(oe).length;return h?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(La,{className:"text-primary text-2xl"}),a.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"RevenueCat Users"}),a.jsxs("nav",{className:"flex items-center space-x-1 ml-8",children:[a.jsx(Sn,{href:"/",children:a.jsx(ue,{variant:"ghost",size:"sm",children:"Foods"})}),a.jsx(Sn,{href:"/meals",children:a.jsx(ue,{variant:"ghost",size:"sm",children:"Meals"})}),a.jsx(Sn,{href:"/workout-plans",children:a.jsx(ue,{variant:"ghost",size:"sm",children:"Workouts"})}),a.jsx(Sn,{href:"/revenuecat-users",children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"text-blue-600 bg-blue-50",children:[a.jsx(Tu,{className:"h-4 w-4 mr-1"}),"Users"]})})]})]}),a.jsx(_v,{})]})})}),a.jsxs("div",{className:"container mx-auto px-6 py-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs(jt,{children:[a.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Qt,{className:"text-sm font-medium",children:"Total Subscribers"}),a.jsx(La,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(kt,{children:a.jsx("div",{className:"text-2xl font-bold",children:Pe.length})})]}),a.jsxs(jt,{children:[a.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Qt,{className:"text-sm font-medium",children:"Active Subscriptions"}),a.jsx(Tu,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(kt,{children:a.jsx("div",{className:"text-2xl font-bold",children:Pe.filter(oe=>le(oe.subscriber.subscriptions)==="active").length})})]}),a.jsxs(jt,{children:[a.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Qt,{className:"text-sm font-medium",children:"Expired"}),a.jsx(aO,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(kt,{children:a.jsx("div",{className:"text-2xl font-bold",children:Pe.filter(oe=>le(oe.subscriber.subscriptions)==="expired").length})})]}),a.jsxs(jt,{children:[a.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Qt,{className:"text-sm font-medium",children:"Revenue This Month"}),a.jsx(dO,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(kt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$-"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires transaction API"})]})]})]}),a.jsxs(jt,{className:"max-w-2xl mx-auto mb-6",children:[a.jsxs(Kt,{children:[a.jsxs(Qt,{className:"flex items-center gap-2",children:[a.jsx(vi,{className:"h-5 w-5 text-blue-600"}),"Search for Subscribers"]}),a.jsx(Ba,{children:`RevenueCat doesn't provide a "list all subscribers" endpoint. Enter specific user IDs to fetch their data.`})]}),a.jsx(kt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"User IDs (comma-separated)"}),a.jsx(fe,{placeholder:"user1, user2, UySqm239mIQUFWBS9AEqD3dkLra2",value:I,onChange:oe=>H(oe.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter one or more user IDs separated by commas. You can find user IDs in your RevenueCat dashboard or app analytics."})]}),a.jsxs(ue,{onClick:se,className:"w-full",disabled:!I.trim(),children:[a.jsx(vi,{className:"h-4 w-4 mr-2"}),"Search Subscribers"]}),he.length>0&&a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Searching for:"})," ",he.join(", ")]})})]})})]}),a.jsxs(jt,{className:"max-w-2xl mx-auto mb-6",children:[a.jsxs(Kt,{children:[a.jsxs(Qt,{className:"flex items-center gap-2",children:[a.jsx($p,{className:"h-5 w-5 text-green-600"}),"Grant Free Entitlements"]}),a.jsx(Ba,{children:"Give free access to friends, family, or beta testers using RevenueCat's API"})]}),a.jsx(kt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Perfect for:"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsx("li",{children:" Friends and family members"}),a.jsx("li",{children:" Beta testers and reviewers"}),a.jsx("li",{children:" Promotional giveaways"}),a.jsx("li",{children:" Customer support cases"})]})]}),a.jsxs(ue,{onClick:()=>k(!0),className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:[a.jsx(zo,{className:"h-4 w-4 mr-2"}),"Grant Entitlement to User"]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(fe,{placeholder:"Search users...",value:t,onChange:oe=>e(oe.target.value),className:"pl-10 w-80"})]}),a.jsxs(Nr,{value:s,onValueChange:i,children:[a.jsx(mr,{className:"w-[180px]",children:a.jsx(Ir,{placeholder:"Filter by status"})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"all",children:"All Users"}),a.jsx(Be,{value:"active",children:"Active Subscriptions"}),a.jsx(Be,{value:"expired",children:"Expired"})]})]})]}),a.jsxs(ue,{onClick:()=>ee(),disabled:M,children:[a.jsx(Bp,{className:`h-4 w-4 mr-2 ${M?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs(jt,{children:[a.jsxs(Kt,{children:[a.jsx(Qt,{children:"Subscribers"}),a.jsx(Ba,{children:"Manage your RevenueCat subscribers and their subscription status"})]}),a.jsxs(kt,{children:[K&&a.jsxs("div",{className:"text-center py-8 text-red-600",children:["Error loading subscribers: ",K.message]}),M?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bp,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),"Loading configuration..."]}):he.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(vi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ready to Search"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:'Use the "Search for Subscribers" section above to enter user IDs and fetch their data.'}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"RevenueCat requires specific user IDs to fetch subscriber information."})]}):ge.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(La,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Valid Subscribers Found"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"None of the provided user IDs returned valid subscriber data. Check the user IDs and try again."}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Searched for: ",he.join(", ")]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(rP,{children:[a.jsx(sP,{children:a.jsxs(bv,{children:[a.jsx(vo,{children:"User ID"}),a.jsx(vo,{children:"Status"}),a.jsx(vo,{children:"Subscriptions"}),a.jsx(vo,{children:"First Seen"}),a.jsx(vo,{children:"Last Seen"}),a.jsx(vo,{children:"Actions"})]})}),a.jsx(iP,{children:q.map(oe=>a.jsxs(bv,{children:[a.jsx(xo,{className:"font-medium",children:oe.subscriber.original_app_user_id}),a.jsx(xo,{children:a.jsx(Kn,{variant:le(oe.subscriber.subscriptions)==="active"?"default":"secondary",children:le(oe.subscriber.subscriptions)})}),a.jsxs(xo,{children:[He(oe.subscriber.subscriptions)," active"]}),a.jsx(xo,{children:X(oe.subscriber.first_seen)}),a.jsx(xo,{children:X(oe.subscriber.last_seen)}),a.jsx(xo,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>De.mutate(oe.subscriber.original_app_user_id),children:a.jsx(hO,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>ie.mutate(oe.subscriber.original_app_user_id),children:a.jsx(Ii,{className:"h-4 w-4"})})]})})]},oe.subscriber.original_app_user_id))})]}),Q>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(n-1)*b+1," to ",Math.min(n*b,$.length)," of ",$.length," subscribers"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>r(Math.max(1,n-1)),disabled:n===1,children:"Previous"}),a.jsxs("span",{className:"text-sm",children:["Page ",n," of ",Q]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>r(Math.min(Q,n+1)),disabled:n===Q,children:"Next"})]})]})]})]})]})]}),a.jsx(Xi,{open:c,onOpenChange:d,children:a.jsxs(qs,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Ji,{children:[a.jsx(eo,{children:"Subscriber Details"}),a.jsxs(hv,{children:["Detailed information for ",o==null?void 0:o.subscriber.original_app_user_id]})]}),o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(jt,{children:[a.jsx(Kt,{children:a.jsx(Qt,{children:"Basic Information"})}),a.jsx(kt,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"User ID"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.subscriber.original_app_user_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"First Seen"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:X(o.subscriber.first_seen)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Last Seen"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:X(o.subscriber.last_seen)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Management URL"}),a.jsx("a",{href:o.subscriber.management_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Open in RevenueCat"})]})]})})]}),a.jsxs(jt,{children:[a.jsx(Kt,{children:a.jsx(Qt,{children:"Subscriptions"})}),a.jsx(kt,{children:Object.entries(o.subscriber.subscriptions).map(([oe,Oe])=>a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium",children:oe}),a.jsx(Kn,{variant:new Date(Oe.expires_date)>new Date?"default":"secondary",children:new Date(Oe.expires_date)>new Date?"Active":"Expired"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Purchase Date"}),a.jsx("p",{className:"text-muted-foreground",children:X(Oe.purchase_date)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Expires"}),a.jsx("p",{className:"text-muted-foreground",children:X(Oe.expires_date)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Store"}),a.jsx("p",{className:"text-muted-foreground",children:Oe.store})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Period Type"}),a.jsx("p",{className:"text-muted-foreground",children:Oe.period_type})]})]})]},oe))})]}),a.jsxs(jt,{children:[a.jsx(Kt,{children:a.jsx(Qt,{children:"Entitlements"})}),a.jsx(kt,{children:Object.entries(o.subscriber.entitlements).map(([oe,Oe])=>a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium",children:oe}),a.jsx(Kn,{variant:new Date(Oe.expires_date)>new Date?"default":"secondary",children:new Date(Oe.expires_date)>new Date?"Active":"Expired"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Product ID"}),a.jsx("p",{className:"text-muted-foreground",children:Oe.product_identifier})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Purchase Date"}),a.jsx("p",{className:"text-muted-foreground",children:X(Oe.purchase_date)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium",children:"Expires"}),a.jsx("p",{className:"text-muted-foreground",children:X(Oe.expires_date)})]})]})]},oe))})]})]})]})}),a.jsx(Xi,{open:R,onOpenChange:k,children:a.jsxs(qs,{className:"max-w-md",children:[a.jsxs(Ji,{children:[a.jsxs(eo,{className:"flex items-center gap-2",children:[a.jsx($p,{className:"h-5 w-5 text-green-600"}),"Grant Free Entitlement"]}),a.jsx(hv,{children:"Give a user free access to your premium features"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"User ID"}),a.jsx(fe,{placeholder:"Enter user ID (e.g., user_123, john@email.com)",value:D,onChange:oe=>O(oe.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The RevenueCat App User ID of the person you want to grant access to"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Entitlement ID"}),a.jsx(fe,{placeholder:"Enter entitlement ID (e.g., premium, pro_access)",value:T,onChange:oe=>C(oe.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The entitlement identifier configured in your RevenueCat dashboard"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Duration"}),a.jsxs(Nr,{value:A,onValueChange:j,children:[a.jsx(mr,{children:a.jsx(Ir,{})}),a.jsxs(pr,{children:[a.jsx(Be,{value:"lifetime",children:"Lifetime Access"}),a.jsx(Be,{value:"30",children:"30 Days"}),a.jsx(Be,{value:"60",children:"60 Days"}),a.jsx(Be,{value:"90",children:"90 Days"}),a.jsx(Be,{value:"365",children:"1 Year"})]})]})]}),a.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-amber-800 mb-1",children:"Important Notes:"}),a.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[a.jsx("li",{children:" This grants entitlements directly via RevenueCat API"}),a.jsx("li",{children:" User will have access without purchasing"}),a.jsx("li",{children:" Perfect for friends, family, and beta testers"}),a.jsx("li",{children:" Make sure the entitlement ID matches your app configuration"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ue,{variant:"outline",onClick:()=>k(!1),className:"flex-1",children:"Cancel"}),a.jsx(ue,{onClick:Ke,disabled:Ne.isPending||!D.trim()||!T.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:Ne.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Bp,{className:"h-4 w-4 mr-2 animate-spin"}),"Granting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($p,{className:"h-4 w-4 mr-2"}),"Grant Access"]})})]})]})]})})]}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(La,{className:"text-primary text-2xl"}),a.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"RevenueCat Users"})]}),a.jsx(_v,{})]})})}),a.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[a.jsxs(jt,{className:"max-w-2xl mx-auto",children:[a.jsxs(Kt,{children:[a.jsx(Qt,{children:"RevenueCat Integration"}),a.jsx(Ba,{children:"Test your RevenueCat API connection and view subscriber data"})]}),a.jsxs(kt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"API Key (Optional)"}),a.jsx(fe,{type:"password",placeholder:"sk_xxx... (or leave empty to use environment secret)",value:f,onChange:oe=>m(oe.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to use the REVENUECAT_SECRET_API_KEY environment variable"})]}),a.jsx(ue,{onClick:E,className:"w-full",children:"Save Configuration"})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"font-medium mb-4",children:"Test API Connection"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"How to Find Subscriber IDs:"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:'1. Go to your RevenueCat dashboard  "Customers" section'}),a.jsx("li",{children:"2. Look for App User IDs like: user_123, john@email.com, or $RCAnonymousID:abc123"}),a.jsx("li",{children:"3. Copy any App User ID and paste it below"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(fe,{placeholder:"Enter App User ID from RevenueCat dashboard (e.g., user_123 or john@email.com)",value:_,onChange:oe=>v(oe.target.value)}),a.jsx(ue,{onClick:()=>Ie.mutate(_),disabled:!_||Ie.isPending,children:Ie.isPending?"Testing...":"Test"})]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:a.jsxs("p",{children:["Need help? Go to ",a.jsx("strong",{children:"RevenueCat Dashboard  Customers"})," to find existing subscriber IDs"]})})]}),S&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"API Test Successful!"}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",(St=S.subscriber)==null?void 0:St.original_app_user_id]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Subscriptions:"})," ",Object.keys(((tn=S.subscriber)==null?void 0:tn.subscriptions)||{}).length]}),a.jsxs("p",{children:[a.jsx("strong",{children:"First Seen:"})," ",(an=S.subscriber)==null?void 0:an.first_seen]})]})]})]})]})]}),a.jsxs(jt,{className:"max-w-4xl mx-auto",children:[a.jsx(Kt,{children:a.jsx(Qt,{children:"RevenueCat API Limitations"})}),a.jsx(kt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Important Notes:"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:` RevenueCat doesn't provide a "list all subscribers" endpoint`}),a.jsx("li",{children:" You need specific user IDs to fetch subscriber data"}),a.jsx("li",{children:" Use webhooks or maintain your own user database for full subscriber management"}),a.jsx("li",{children:" This interface is designed for testing and viewing individual subscriber details"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Available Features:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Test API connection"}),a.jsx("li",{children:" Fetch individual subscriber data"}),a.jsx("li",{children:" View subscription details"}),a.jsx("li",{children:" Check entitlements"}),a.jsx("li",{children:" Delete subscribers"})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Implementation Suggestions:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Set up RevenueCat webhooks"}),a.jsx("li",{children:" Store user IDs in your database"}),a.jsx("li",{children:" Implement batch user management"}),a.jsx("li",{children:" Add revenue analytics"}),a.jsx("li",{children:" Create subscription reports"})]})]})]})]})})]})]})]})}const Qz=B.object({username:B.string().min(1,"Username is required"),password:B.string().min(1,"Password is required")});function Gz({onLogin:t}){const[e,n]=x.useState(!1),{toast:r}=Hl(),s=rc({resolver:_d(Qz),defaultValues:{username:"",password:""}}),i=async o=>{n(!0),o.username==="admin"&&o.password==="admin"?(localStorage.setItem("isAuthenticated","true"),r({title:"Login successful",description:"Welcome to Foods Database Manager"}),t()):r({title:"Login failed",description:"Invalid username or password",variant:"destructive"}),n(!1)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:a.jsxs(jt,{className:"w-full max-w-md mx-4",children:[a.jsxs(Kt,{className:"space-y-1",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:a.jsx(w1,{className:"h-6 w-6 text-primary"})})}),a.jsx(Qt,{className:"text-2xl text-center",children:"Foods Database Manager"}),a.jsx(Ba,{className:"text-center",children:"Enter your credentials to access the system"})]}),a.jsx(kt,{children:a.jsx(wd,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[a.jsx(Se,{control:s.control,name:"username",render:({field:o})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Username"}),a.jsx(Ee,{children:a.jsxs("div",{className:"relative",children:[a.jsx(gO,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(fe,{...o,placeholder:"Enter username",className:"pl-9",disabled:e})]})}),a.jsx(Re,{})]})}),a.jsx(Se,{control:s.control,name:"password",render:({field:o})=>a.jsxs(be,{children:[a.jsx(Ae,{children:"Password"}),a.jsx(Ee,{children:a.jsxs("div",{className:"relative",children:[a.jsx(w1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(fe,{...o,type:"password",placeholder:"Enter password",className:"pl-9",disabled:e})]})}),a.jsx(Re,{})]})}),a.jsx(ue,{type:"submit",className:"w-full",disabled:e,children:e?"Signing in...":"Sign In"})]})})})]})})}function Zz(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(jt,{className:"w-full max-w-md mx-4",children:a.jsxs(kt,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(lO,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Yz(){return a.jsxs(PD,{children:[a.jsx(Cc,{path:"/",component:Pz}),a.jsx(Cc,{path:"/meals",component:Uz}),a.jsx(Cc,{path:"/workout-plans",component:qz}),a.jsx(Cc,{path:"/revenuecat-users",component:Kz}),a.jsx(Cc,{component:Zz})]})}function Xz(){const[t,e]=x.useState(!1),[n,r]=x.useState(!0);x.useEffect(()=>{const i=localStorage.getItem("isAuthenticated")==="true";e(i),r(!1)},[]);const s=()=>{e(!0)};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?a.jsx(c1,{client:d1,children:a.jsxs(D1,{children:[a.jsx(T1,{}),a.jsx(Yz,{})]})}):a.jsx(c1,{client:d1,children:a.jsxs(D1,{children:[a.jsx(Gz,{onLogin:s}),a.jsx(T1,{})]})})}YC(document.getElementById("root")).render(a.jsx(Xz,{}));
